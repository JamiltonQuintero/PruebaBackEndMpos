2022-04-16 14:00:56,758 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PruebaApplication on DESKTOP-27NGR3V with PID 23652 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-16 14:00:56,758 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2022-04-16 14:00:57,083 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-16 14:00:57,103 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 20ms. Found 3 repository interfaces.
2022-04-16 14:00:57,152 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$653161b0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-16 14:00:57,153 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2022-04-16 14:00:57,161 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c0999cb1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-16 14:00:57,163 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$594764eb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-16 14:00:57,164 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-16 14:00:57,164 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@74c5dad8' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-16 14:00:57,166 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$7e1c079d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-16 14:00:57,166 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-16 14:00:57,167 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$4019e9e3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-16 14:00:57,260 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-04-16 14:00:57,261 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-04-16 14:00:57,261 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-16 14:00:57,271 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 511 ms
2022-04-16 14:00:57,425 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Starting...
2022-04-16 14:00:57,440 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Start completed.
2022-04-16 14:00:57,450 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-16 14:00:57,461 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-16 14:00:57,825 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-16 14:00:57,940 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-04-16 14:00:57,951 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [restartedMain] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$635c9ca3@239af6d9}
2022-04-16 14:00:57,994 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-16 14:00:57,994 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.prueba.models.User)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-16 14:00:57,995 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-16 14:00:57,995 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-16 14:00:57,996 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-16 14:00:57,996 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-16 14:00:57,996 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutority(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-16 14:00:57,996 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-16 14:00:57,996 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-16 14:00:57,997 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-16 14:00:57,997 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-16 14:00:58,077 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-16 14:00:58,077 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-16 14:00:58,077 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-16 14:00:58,077 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-16 14:00:58,078 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-16 14:00:58,078 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-16 14:00:58,078 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-16 14:00:58,078 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-16 14:00:58,078 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'authenticated', for any request
2022-04-16 14:00:58,079 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-16 14:00:58,079 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-16 14:00:58,081 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@340809fd, org.springframework.security.web.context.SecurityContextPersistenceFilter@2a4b0a43, org.springframework.security.web.header.HeaderWriterFilter@fd230f0, org.springframework.security.web.authentication.logout.LogoutFilter@46abda8e, com.mpos.prueba.security.JwtAuthenticationTokenFilter@7c0f11da, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68ca71e3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@768189ba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f035373, org.springframework.security.web.session.SessionManagementFilter@e67cfb3, org.springframework.security.web.access.ExceptionTranslationFilter@ea98d44, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4288b7a1]
2022-04-16 14:00:58,132 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-16 14:00:58,144 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-16 14:00:58,299 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-16 14:00:58,299 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PruebaApplication in 1.565 seconds (JVM running for 139.855)
2022-04-16 14:00:58,302 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2022-04-16 14:01:09,103 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-16 14:01:09,107 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 3 ms
2022-04-16 14:01:09,107 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-16 14:01:09,108 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-16 14:01:09,108 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-16 14:01:09,108 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-16 14:01:09,108 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-16 14:01:09,108 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-16 14:01:09,108 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-16 14:01:09,108 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-16 14:01:09,109 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-16 14:01:09,109 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-16 14:01:09,109 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-16 14:01:09,109 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-16 14:01:09,109 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-16 14:01:09,110 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-16 14:01:09,112 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user user
2022-04-16 14:01:09,113 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-2] HHH000397: Using ASTQueryTranslatorFactory
2022-04-16 14:01:09,136 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] authenticated user user, setting security context
2022-04-16 14:01:09,136 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-16 14:01:09,136 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-16 14:01:09,136 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-16 14:01:09,136 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9a00722: Principal: com.mpos.prueba.security.JwtUser@4dbdb676; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2022-04-16 14:01:09,136 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-16 14:01:09,136 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-2] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5a0b7e27
2022-04-16 14:01:09,137 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-16 14:01:09,137 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-16 14:01:09,137 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-16 14:01:09,137 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-16 14:01:09,137 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-16 14:01:09,137 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-16 14:01:09,137 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-16 14:01:09,138 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-16 14:01:09,138 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-16 14:01:09,138 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-16 14:01:09,138 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/user/getUserById?id=1; Attributes: [authenticated]
2022-04-16 14:01:09,138 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9a00722: Principal: com.mpos.prueba.security.JwtUser@4dbdb676; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2022-04-16 14:01:09,138 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@77a564dc, returned: 1
2022-04-16 14:01:09,138 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-16 14:01:09,138 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-16 14:01:09,139 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-16 14:01:09,140 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-16 14:01:09,140 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9a00722: Principal: com.mpos.prueba.security.JwtUser@4dbdb676; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2022-04-16 14:01:09,141 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@6411d53f, returned: -1
2022-04-16 14:01:09,141 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.access.vote.RoleVoter@13cf7a2e, returned: 0
2022-04-16 14:01:09,141 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.access.vote.AuthenticatedVoter@33e16027, returned: 0
2022-04-16 14:01:09,144 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Access is denied (user is not anonymous); delegating to AccessDeniedHandler
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:65) ~[spring-security-core-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at com.mpos.prueba.controllers.UserRestController$$EnhancerBySpringCGLIB$$2a1b0e02.getUserById(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.16.jar:9.0.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60) [classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) [spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.16.jar:9.0.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
2022-04-16 14:01:09,146 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6d9afd6f
2022-04-16 14:01:09,146 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-16 14:01:09,146 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-16 14:01:09,146 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-16 14:01:09,146 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-16 14:01:09,146 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-16 14:01:09,147 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-16 14:01:09,147 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/error'; against '/logout'
2022-04-16 14:01:09,147 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-16 14:01:09,147 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'POST /logout'
2022-04-16 14:01:09,147 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-16 14:01:09,147 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-16 14:01:09,147 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-16 14:01:09,147 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-16 14:01:09,147 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-16 14:01:09,147 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-16 14:01:09,147 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-16 14:01:09,147 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-16 14:01:09,147 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-16 14:01:09,147 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@265be50a: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-16 14:01:09,148 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-16 14:01:09,148 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-16 14:01:09,148 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-16 14:01:09,148 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-16 14:01:09,152 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-16 14:01:09,153 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-16 14:01:36,340 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-16 14:01:36,340 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-16 14:01:36,341 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-16 14:01:36,341 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-16 14:01:36,341 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-16 14:01:36,341 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-16 14:01:36,341 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-16 14:01:36,341 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/logout'
2022-04-16 14:01:36,341 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-16 14:01:36,341 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-16 14:01:36,341 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-16 14:01:36,341 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-16 14:01:36,342 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-16 14:01:36,342 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-16 14:01:36,342 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user null
2022-04-16 14:01:36,342 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-16 14:01:36,342 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-16 14:01:36,342 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-16 14:01:36,342 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@265be50a: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-16 14:01:36,342 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-16 14:01:36,342 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-16 14:01:36,343 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-16 14:01:36,343 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /'
2022-04-16 14:01:36,343 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-16 14:01:36,343 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-16 14:01:36,343 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-16 14:01:36,343 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-16 14:01:36,343 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-16 14:01:36,343 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/auth/**'
2022-04-16 14:01:36,344 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-16 14:01:36,344 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@265be50a: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-16 14:01:36,344 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@77a564dc, returned: 1
2022-04-16 14:01:36,344 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-16 14:01:36,344 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-16 14:01:36,344 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth reached end of additional filter chain; proceeding with original chain
2022-04-16 14:01:36,346 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-3] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-16 14:01:36,437 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6d9afd6f
2022-04-16 14:01:36,438 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-16 14:01:36,438 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-16 14:01:55,121 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-16 14:01:55,122 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-16 14:01:55,122 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-16 14:01:55,122 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-16 14:01:55,122 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-16 14:01:55,122 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-16 14:01:55,122 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-16 14:01:55,122 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-16 14:01:55,122 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-16 14:01:55,123 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-16 14:01:55,123 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-16 14:01:55,123 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-16 14:01:55,123 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-16 14:01:55,123 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-16 14:01:55,125 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user admin
2022-04-16 14:01:55,132 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] authenticated user admin, setting security context
2022-04-16 14:01:55,132 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-16 14:01:55,132 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-16 14:01:55,132 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-16 14:01:55,133 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c33f810c: Principal: com.mpos.prueba.security.JwtUser@387e067e; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-16 14:01:55,133 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-16 14:01:55,133 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-4] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5a0b7e27
2022-04-16 14:01:55,133 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-16 14:01:55,133 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-16 14:01:55,133 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-16 14:01:55,133 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-16 14:01:55,133 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-16 14:01:55,133 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-16 14:01:55,134 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-16 14:01:55,134 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-16 14:01:55,134 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-16 14:01:55,134 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-16 14:01:55,134 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /api/user/getUserById?id=1; Attributes: [authenticated]
2022-04-16 14:01:55,134 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c33f810c: Principal: com.mpos.prueba.security.JwtUser@387e067e; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-16 14:01:55,134 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@77a564dc, returned: 1
2022-04-16 14:01:55,134 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-16 14:01:55,135 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-16 14:01:55,135 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-16 14:01:55,135 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-16 14:01:55,135 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c33f810c: Principal: com.mpos.prueba.security.JwtUser@387e067e; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-16 14:01:55,136 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@6411d53f, returned: 1
2022-04-16 14:01:55,136 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-16 14:01:55,136 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-16 14:01:55,158 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-4] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6d9afd6f
2022-04-16 14:01:55,159 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Chain processed normally
2022-04-16 14:01:55,159 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-16 14:02:49,021 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-16 14:02:49,022 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-16 14:02:49,022 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-16 14:02:49,022 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-16 14:02:49,022 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-16 14:02:49,022 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-16 14:02:49,022 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-16 14:02:49,022 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-16 14:02:49,022 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-16 14:02:49,022 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-16 14:02:49,022 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-16 14:02:49,022 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-16 14:02:49,022 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-16 14:02:49,023 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-16 14:02:49,024 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] checking authentication for user admin
2022-04-16 14:02:49,030 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] authenticated user admin, setting security context
2022-04-16 14:02:49,030 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-16 14:02:49,030 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-16 14:02:49,030 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-16 14:02:49,030 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9b026d39: Principal: com.mpos.prueba.security.JwtUser@6043ea4b; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-16 14:02:49,030 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-16 14:02:49,030 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-5] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5a0b7e27
2022-04-16 14:02:49,030 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-16 14:02:49,030 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-16 14:02:49,031 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-16 14:02:49,031 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-16 14:02:49,031 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-16 14:02:49,031 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-16 14:02:49,031 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-16 14:02:49,031 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-16 14:02:49,031 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-16 14:02:49,031 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-16 14:02:49,031 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: FilterInvocation: URL: /api/user/getUserById?id=1; Attributes: [authenticated]
2022-04-16 14:02:49,031 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9b026d39: Principal: com.mpos.prueba.security.JwtUser@6043ea4b; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-16 14:02:49,032 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@77a564dc, returned: 1
2022-04-16 14:02:49,032 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorization successful
2022-04-16 14:02:49,032 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] RunAsManager did not change Authentication object
2022-04-16 14:02:49,032 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-16 14:02:49,032 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-16 14:02:49,033 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9b026d39: Principal: com.mpos.prueba.security.JwtUser@6043ea4b; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-16 14:02:49,033 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@6411d53f, returned: 1
2022-04-16 14:02:49,033 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorization successful
2022-04-16 14:02:49,033 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] RunAsManager did not change Authentication object
2022-04-16 14:02:49,036 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-5] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6d9afd6f
2022-04-16 14:02:49,036 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Chain processed normally
2022-04-16 14:02:49,036 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-16 14:05:36,577 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-11] Shutting down ExecutorService 'applicationTaskExecutor'
2022-04-16 14:05:36,578 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-11] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-16 14:05:36,579 INFO com.zaxxer.hikari.HikariDataSource [Thread-11] HikariPool-2 - Shutdown initiated...
2022-04-16 14:05:36,580 INFO com.zaxxer.hikari.HikariDataSource [Thread-11] HikariPool-2 - Shutdown completed.
