2022-04-17 10:28:39,212 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PruebaApplication on DESKTOP-27NGR3V with PID 23380 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 10:28:39,217 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2022-04-17 10:28:39,254 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-04-17 10:28:39,254 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-04-17 10:28:40,036 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 10:28:40,109 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 66ms. Found 3 repository interfaces.
2022-04-17 10:28:40,452 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$9d7e6cfd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:28:40,480 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2022-04-17 10:28:40,509 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f8e6a7fe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:28:40,539 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$91947038] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:28:40,543 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:28:40,545 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5989e299' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:28:40,546 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b66912ea] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:28:40,549 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:28:40,554 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$7866f530] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:28:40,996 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-04-17 10:28:41,015 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-04-17 10:28:41,015 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 10:28:41,025 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 10:28:41,105 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1851 ms
2022-04-17 10:28:41,652 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-04-17 10:28:42,007 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-04-17 10:28:42,079 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 10:28:42,142 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 10:28:42,144 INFO org.hibernate.cfg.Environment [restartedMain] HHH000206: hibernate.properties not found
2022-04-17 10:28:42,293 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 10:28:42,438 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 10:28:43,613 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:28:44,414 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-04-17 10:28:44,444 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [restartedMain] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$9ba9a7f0@41189626}
2022-04-17 10:28:44,535 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRestController': Unsatisfied dependency expressed through field 'mapStructMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mpos.prueba.utils.MapStructMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2022-04-17 10:28:44,536 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:28:44,538 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2022-04-17 10:28:44,541 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2022-04-17 10:28:44,542 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2022-04-17 10:28:44,546 WARN org.apache.juli.logging.DirectJDKLog [restartedMain] The web application [ROOT] appears to have started a thread named [mssql-jdbc-TimeoutTimer-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
 java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
 java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2022-04-17 10:28:44,552 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-04-17 10:28:44,759 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRestController': Unsatisfied dependency expressed through field 'mapStructMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mpos.prueba.utils.MapStructMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at com.mpos.prueba.PruebaApplication.main(PruebaApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mpos.prueba.utils.MapStructMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1654)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1213)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)
	... 24 common frames omitted
2022-04-17 10:34:06,685 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PruebaApplication on DESKTOP-27NGR3V with PID 21476 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 10:34:06,687 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2022-04-17 10:34:06,720 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-04-17 10:34:06,721 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-04-17 10:34:07,418 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 10:34:07,482 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 58ms. Found 3 repository interfaces.
2022-04-17 10:34:07,806 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$711b357a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:34:07,833 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2022-04-17 10:34:07,860 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cc83707b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:34:07,886 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$653138b5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:34:07,890 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:34:07,892 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@21569673' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:34:07,894 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$8a05db67] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:34:07,897 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:34:07,903 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$4c03bdad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:34:08,306 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-04-17 10:34:08,324 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-04-17 10:34:08,324 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 10:34:08,333 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 10:34:08,406 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1685 ms
2022-04-17 10:34:08,925 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-04-17 10:34:09,265 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-04-17 10:34:09,335 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 10:34:09,396 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 10:34:09,398 INFO org.hibernate.cfg.Environment [restartedMain] HHH000206: hibernate.properties not found
2022-04-17 10:34:09,534 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 10:34:09,675 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 10:34:10,682 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:34:11,319 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-04-17 10:34:11,340 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [restartedMain] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$6f46706d@3db4afdc}
2022-04-17 10:34:11,406 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:34:11,425 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:34:11,438 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:34:11,448 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:34:11,448 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:34:11,448 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:34:11,449 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:34:11,449 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:34:11,449 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:34:11,449 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:34:11,449 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutority(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:34:11,450 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:34:11,450 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:34:11,839 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 10:34:11,840 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 10:34:11,840 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 10:34:11,840 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 10:34:11,840 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 10:34:11,841 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 10:34:11,841 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 10:34:11,841 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 10:34:11,841 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'authenticated', for any request
2022-04-17 10:34:11,846 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:34:11,846 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:34:11,853 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@129a6651, org.springframework.security.web.context.SecurityContextPersistenceFilter@69348108, org.springframework.security.web.header.HeaderWriterFilter@3fb18498, org.springframework.security.web.authentication.logout.LogoutFilter@7c60e7ba, com.mpos.prueba.security.JwtAuthenticationTokenFilter@161332e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@544585ae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16842874, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35515bcf, org.springframework.security.web.session.SessionManagementFilter@583381f, org.springframework.security.web.access.ExceptionTranslationFilter@18f9f09, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@599ecf35]
2022-04-17 10:34:12,078 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 10:34:12,139 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 10:34:12,702 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 10:34:12,704 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PruebaApplication in 6.308 seconds (JVM running for 6.996)
2022-04-17 10:35:08,287 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-6] Shutting down ExecutorService 'applicationTaskExecutor'
2022-04-17 10:35:08,290 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-6] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:35:08,291 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown initiated...
2022-04-17 10:35:08,293 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown completed.
2022-04-17 10:35:08,603 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PruebaApplication on DESKTOP-27NGR3V with PID 21476 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 10:35:08,603 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2022-04-17 10:35:08,932 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 10:35:08,954 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 22ms. Found 3 repository interfaces.
2022-04-17 10:35:09,006 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$711b357a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:09,007 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2022-04-17 10:35:09,015 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cc83707b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:09,017 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$653138b5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:09,018 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:09,019 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@17d39e5e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:09,020 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$8a05db67] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:09,021 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:09,022 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$4c03bdad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:09,117 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-04-17 10:35:09,118 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-04-17 10:35:09,118 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 10:35:09,128 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 522 ms
2022-04-17 10:35:09,297 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Starting...
2022-04-17 10:35:09,313 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Start completed.
2022-04-17 10:35:09,323 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 10:35:09,335 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 10:35:09,700 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:35:12,935 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PruebaApplication on DESKTOP-27NGR3V with PID 21512 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 10:35:12,938 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2022-04-17 10:35:12,971 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-04-17 10:35:12,971 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-04-17 10:35:13,665 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 10:35:13,731 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 60ms. Found 3 repository interfaces.
2022-04-17 10:35:14,055 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$f8b659b9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:14,080 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2022-04-17 10:35:14,107 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$541e94ba] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:14,134 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$eccc5cf4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:14,139 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:14,140 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5835673e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:14,141 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$11a0ffa6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:14,144 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:14,150 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$d39ee1ec] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:14,553 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-04-17 10:35:14,570 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-04-17 10:35:14,571 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 10:35:14,580 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 10:35:14,654 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1683 ms
2022-04-17 10:35:15,175 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-04-17 10:35:15,515 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-04-17 10:35:15,585 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 10:35:15,647 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 10:35:15,649 INFO org.hibernate.cfg.Environment [restartedMain] HHH000206: hibernate.properties not found
2022-04-17 10:35:15,782 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 10:35:15,924 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 10:35:16,731 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:35:17,364 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-04-17 10:35:17,384 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [restartedMain] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$f6e194ac@49466fb2}
2022-04-17 10:35:17,448 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:35:17,466 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:35:17,478 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:35:17,489 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:35:17,489 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutority(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:35:17,490 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:35:17,490 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:35:17,490 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:35:17,490 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:35:17,490 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:35:17,491 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:35:17,491 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:35:17,491 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:35:17,885 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 10:35:17,886 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 10:35:17,886 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 10:35:17,886 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 10:35:17,886 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 10:35:17,887 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 10:35:17,887 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 10:35:17,887 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 10:35:17,887 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'authenticated', for any request
2022-04-17 10:35:17,892 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:35:17,893 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:35:17,899 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@171114ba, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c220015, org.springframework.security.web.header.HeaderWriterFilter@a906c61, org.springframework.security.web.authentication.logout.LogoutFilter@58ba3f53, com.mpos.prueba.security.JwtAuthenticationTokenFilter@3c2c0c8f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27a5153a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a83672b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4877d964, org.springframework.security.web.session.SessionManagementFilter@7a08e790, org.springframework.security.web.access.ExceptionTranslationFilter@2069c9e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e9b0f59]
2022-04-17 10:35:18,124 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 10:35:18,183 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 10:35:18,742 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 10:35:18,744 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PruebaApplication in 6.097 seconds (JVM running for 6.787)
2022-04-17 10:35:55,942 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-6] Shutting down ExecutorService 'applicationTaskExecutor'
2022-04-17 10:35:55,945 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-6] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:35:55,947 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown initiated...
2022-04-17 10:35:55,948 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown completed.
2022-04-17 10:35:56,251 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PruebaApplication on DESKTOP-27NGR3V with PID 21512 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 10:35:56,251 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2022-04-17 10:35:56,581 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 10:35:56,604 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 22ms. Found 3 repository interfaces.
2022-04-17 10:35:56,656 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$f8b659b9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:56,657 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2022-04-17 10:35:56,665 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$541e94ba] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:56,668 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$eccc5cf4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:56,670 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:56,670 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@26edb269' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:56,671 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$11a0ffa6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:56,671 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:56,672 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$d39ee1ec] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:35:56,766 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-04-17 10:35:56,767 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-04-17 10:35:56,767 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 10:35:56,778 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 524 ms
2022-04-17 10:35:56,945 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Starting...
2022-04-17 10:35:56,961 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Start completed.
2022-04-17 10:35:56,971 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 10:35:56,984 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 10:35:57,361 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:35:57,494 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-04-17 10:35:57,515 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [restartedMain] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$f6e194ac@11fa307e}
2022-04-17 10:35:57,570 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:35:57,571 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:35:57,572 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:35:57,572 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:35:57,573 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutority(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:35:57,573 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:35:57,573 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:35:57,573 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:35:57,574 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:35:57,574 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:35:57,574 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:35:57,574 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:35:57,574 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:35:57,664 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 10:35:57,664 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 10:35:57,664 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 10:35:57,664 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 10:35:57,664 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 10:35:57,665 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 10:35:57,665 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 10:35:57,665 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 10:35:57,665 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'authenticated', for any request
2022-04-17 10:35:57,666 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:35:57,666 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:35:57,668 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74b97d6f, org.springframework.security.web.context.SecurityContextPersistenceFilter@b8abfa, org.springframework.security.web.header.HeaderWriterFilter@7651ff7d, org.springframework.security.web.authentication.logout.LogoutFilter@3d827782, com.mpos.prueba.security.JwtAuthenticationTokenFilter@1af374f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60743104, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19a79060, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25b097ae, org.springframework.security.web.session.SessionManagementFilter@6368ed23, org.springframework.security.web.access.ExceptionTranslationFilter@125e4e5f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@743f08f6]
2022-04-17 10:35:57,721 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 10:35:57,733 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 10:35:57,887 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 10:35:57,888 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PruebaApplication in 1.662 seconds (JVM running for 45.931)
2022-04-17 10:35:57,890 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2022-04-17 10:37:04,214 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 10:37:04,235 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 19 ms
2022-04-17 10:37:04,245 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 10:37:04,246 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 10:37:04,248 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 10:37:04,250 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 10:37:04,250 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 10:37:04,250 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 10:37:04,250 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 10:37:04,250 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 10:37:04,250 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 10:37:04,250 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 10:37:04,250 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 10:37:04,251 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 10:37:04,251 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 10:37:04,251 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 10:37:04,302 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user admin
2022-04-17 10:37:04,323 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-2] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 10:37:04,468 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] authenticated user admin, setting security context
2022-04-17 10:37:10,415 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 10:37:10,415 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 10:37:10,417 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 10:37:10,417 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e5996134: Principal: com.mpos.prueba.security.JwtUser@1ed8e646; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 10:37:10,417 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 10:37:10,418 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-2] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@7bf6d83d
2022-04-17 10:37:10,418 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 10:37:10,418 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 10:37:10,419 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 10:37:10,419 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 10:37:10,419 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 10:37:10,419 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 10:37:10,419 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 10:37:10,419 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 10:37:10,419 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 10:37:10,419 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 10:37:10,420 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/user/getUserById?id=1; Attributes: [authenticated]
2022-04-17 10:37:10,420 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e5996134: Principal: com.mpos.prueba.security.JwtUser@1ed8e646; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 10:37:10,424 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@366e9ed0, returned: 1
2022-04-17 10:37:10,424 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 10:37:10,424 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 10:37:10,424 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 10:37:10,448 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:37:10,448 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e5996134: Principal: com.mpos.prueba.security.JwtUser@1ed8e646; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 10:37:10,449 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@59677721, returned: 1
2022-04-17 10:37:10,449 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 10:37:10,449 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 10:37:10,478 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3b79b605
2022-04-17 10:37:10,478 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 10:37:10,481 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 10:37:10,481 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 10:37:10,481 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 10:37:10,481 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 10:37:10,481 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 10:37:10,482 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/error'; against '/logout'
2022-04-17 10:37:10,482 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 10:37:10,482 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 10:37:10,482 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 10:37:10,482 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 10:37:10,482 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 10:37:10,482 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 10:37:10,482 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 10:37:10,482 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 10:37:10,482 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 10:37:10,482 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 10:37:10,482 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 10:37:10,483 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@38eecd23: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 10:37:10,483 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 10:37:10,483 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 10:37:10,483 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 10:37:10,483 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 10:37:10,533 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 10:37:10,534 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 10:37:45,465 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 10:37:45,466 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 10:37:45,466 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 10:37:45,466 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 10:37:45,466 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 10:37:45,466 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 10:37:45,466 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 10:37:45,466 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 10:37:45,466 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 10:37:45,467 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 10:37:45,467 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 10:37:45,467 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 10:37:45,467 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 10:37:45,467 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 10:37:45,469 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] checking authentication for user admin
2022-04-17 10:37:45,476 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] authenticated user admin, setting security context
2022-04-17 10:37:47,917 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 10:37:47,918 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 10:37:47,918 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 10:37:47,918 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9fe6e460: Principal: com.mpos.prueba.security.JwtUser@64a76312; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 10:37:47,918 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 10:37:47,918 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-5] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@7bf6d83d
2022-04-17 10:37:47,919 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 10:37:47,919 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 10:37:47,919 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 10:37:47,919 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 10:37:47,920 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 10:37:47,920 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 10:37:47,920 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 10:37:47,920 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 10:37:47,920 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 10:37:47,920 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 10:37:47,921 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: FilterInvocation: URL: /api/user/getUserById?id=1; Attributes: [authenticated]
2022-04-17 10:37:47,921 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9fe6e460: Principal: com.mpos.prueba.security.JwtUser@64a76312; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 10:37:47,921 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@366e9ed0, returned: 1
2022-04-17 10:37:47,921 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorization successful
2022-04-17 10:37:47,921 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] RunAsManager did not change Authentication object
2022-04-17 10:37:47,921 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 10:37:47,922 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:37:47,922 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9fe6e460: Principal: com.mpos.prueba.security.JwtUser@64a76312; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 10:37:47,923 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@59677721, returned: 1
2022-04-17 10:37:47,923 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorization successful
2022-04-17 10:37:47,923 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] RunAsManager did not change Authentication object
2022-04-17 10:38:29,895 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-5] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3b79b605
2022-04-17 10:38:29,896 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 10:38:29,896 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 10:38:29,896 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 10:38:29,896 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 10:38:29,896 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 10:38:29,896 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 10:38:29,897 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/error'; against '/logout'
2022-04-17 10:38:29,897 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 10:38:29,897 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 10:38:29,897 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 10:38:29,897 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 10:38:29,897 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 10:38:29,897 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 10:38:29,897 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 10:38:29,897 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 10:38:29,897 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 10:38:29,897 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 10:38:29,897 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 10:38:29,897 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@38eecd23: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 10:38:29,898 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 10:38:29,898 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 10:38:29,898 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 10:38:29,898 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 10:38:29,900 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Chain processed normally
2022-04-17 10:38:29,901 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 10:38:53,249 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-11] Shutting down ExecutorService 'applicationTaskExecutor'
2022-04-17 10:38:53,251 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-11] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:38:53,251 INFO com.zaxxer.hikari.HikariDataSource [Thread-11] HikariPool-2 - Shutdown initiated...
2022-04-17 10:38:53,253 INFO com.zaxxer.hikari.HikariDataSource [Thread-11] HikariPool-2 - Shutdown completed.
2022-04-17 10:38:53,578 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PruebaApplication on DESKTOP-27NGR3V with PID 21512 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 10:38:53,578 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2022-04-17 10:38:53,905 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 10:38:53,928 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 23ms. Found 3 repository interfaces.
2022-04-17 10:38:53,982 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$f8b659b9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:38:53,983 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2022-04-17 10:38:53,991 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$541e94ba] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:38:53,994 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$eccc5cf4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:38:53,996 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:38:53,996 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@774773f7' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:38:53,997 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$11a0ffa6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:38:53,997 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:38:53,998 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$d39ee1ec] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:38:54,091 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-04-17 10:38:54,092 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-04-17 10:38:54,092 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 10:38:54,103 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 522 ms
2022-04-17 10:38:54,266 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-3 - Starting...
2022-04-17 10:38:54,281 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-3 - Start completed.
2022-04-17 10:38:54,292 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 10:38:54,304 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 10:38:54,670 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:38:54,794 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-04-17 10:38:54,812 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [restartedMain] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$f6e194ac@50c809b}
2022-04-17 10:38:54,863 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:38:54,863 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:38:54,864 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:38:54,864 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:38:54,865 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutority(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:38:54,865 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:38:54,865 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:38:54,865 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:38:54,865 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:38:54,865 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:38:54,866 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:38:54,866 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:38:54,866 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:38:54,948 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 10:38:54,948 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 10:38:54,948 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 10:38:54,948 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 10:38:54,948 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 10:38:54,948 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 10:38:54,949 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 10:38:54,949 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 10:38:54,949 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'authenticated', for any request
2022-04-17 10:38:54,949 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:38:54,949 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:38:54,952 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3318ecaa, org.springframework.security.web.context.SecurityContextPersistenceFilter@aa25ed9, org.springframework.security.web.header.HeaderWriterFilter@286a622, org.springframework.security.web.authentication.logout.LogoutFilter@70ead177, com.mpos.prueba.security.JwtAuthenticationTokenFilter@627cecb9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30d89aa0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7588d2f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d0416ec, org.springframework.security.web.session.SessionManagementFilter@150c593a, org.springframework.security.web.access.ExceptionTranslationFilter@50ed55b8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c00c120]
2022-04-17 10:38:55,005 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 10:38:55,017 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 10:38:55,169 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 10:38:55,169 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PruebaApplication in 1.618 seconds (JVM running for 223.212)
2022-04-17 10:38:55,171 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2022-04-17 10:39:07,831 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-17] Shutting down ExecutorService 'applicationTaskExecutor'
2022-04-17 10:39:07,832 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-17] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:39:07,833 INFO com.zaxxer.hikari.HikariDataSource [Thread-17] HikariPool-3 - Shutdown initiated...
2022-04-17 10:39:07,834 INFO com.zaxxer.hikari.HikariDataSource [Thread-17] HikariPool-3 - Shutdown completed.
2022-04-17 10:39:08,189 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PruebaApplication on DESKTOP-27NGR3V with PID 21512 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 10:39:08,189 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2022-04-17 10:39:08,531 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 10:39:08,553 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 22ms. Found 3 repository interfaces.
2022-04-17 10:39:08,603 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$f8b659b9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:39:08,605 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2022-04-17 10:39:08,613 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$541e94ba] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:39:08,616 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$eccc5cf4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:39:08,617 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:39:08,617 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4ab3251e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:39:08,618 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$11a0ffa6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:39:08,618 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:39:08,619 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$d39ee1ec] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:39:08,717 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-04-17 10:39:08,718 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-04-17 10:39:08,718 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 10:39:08,728 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 535 ms
2022-04-17 10:39:08,892 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-4 - Starting...
2022-04-17 10:39:08,907 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-4 - Start completed.
2022-04-17 10:39:08,917 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 10:39:08,930 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 10:39:09,136 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:39:09,275 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-04-17 10:39:09,296 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [restartedMain] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$f6e194ac@1fc48061}
2022-04-17 10:39:09,346 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:39:09,347 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:39:09,348 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:39:09,348 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:39:09,348 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutority(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:39:09,349 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:39:09,349 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:39:09,349 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:39:09,349 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:39:09,349 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:39:09,349 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:39:09,349 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [restartedMain] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:39:09,350 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [restartedMain] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:39:09,435 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 10:39:09,435 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 10:39:09,435 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 10:39:09,435 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 10:39:09,435 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 10:39:09,436 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 10:39:09,436 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 10:39:09,436 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 10:39:09,436 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [restartedMain] Adding web access control expression 'authenticated', for any request
2022-04-17 10:39:09,437 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:39:09,437 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [restartedMain] Validated configuration attributes
2022-04-17 10:39:09,439 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@374ef1bd, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ba750b2, org.springframework.security.web.header.HeaderWriterFilter@2b9cad26, org.springframework.security.web.authentication.logout.LogoutFilter@7a646329, com.mpos.prueba.security.JwtAuthenticationTokenFilter@389563aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60de4d97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ee53937, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c5867e7, org.springframework.security.web.session.SessionManagementFilter@4e034ac8, org.springframework.security.web.access.ExceptionTranslationFilter@602572fb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c967be0]
2022-04-17 10:39:09,499 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 10:39:09,513 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 10:39:09,695 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 10:39:09,696 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PruebaApplication in 1.54 seconds (JVM running for 237.738)
2022-04-17 10:39:09,700 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2022-04-17 10:39:24,857 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 10:39:24,862 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 4 ms
2022-04-17 10:39:24,863 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 10:39:24,863 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 10:39:24,863 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 10:39:24,863 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 10:39:24,863 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 10:39:24,863 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 10:39:24,863 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 10:39:24,863 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 10:39:24,863 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 10:39:24,863 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 10:39:24,863 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 10:39:24,864 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 10:39:24,864 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 10:39:24,864 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 10:39:24,865 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user admin
2022-04-17 10:39:24,866 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-2] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 10:39:24,889 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] authenticated user admin, setting security context
2022-04-17 10:39:29,774 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 10:39:29,774 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 10:39:29,774 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 10:39:29,774 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@eee234c6: Principal: com.mpos.prueba.security.JwtUser@15a3b3b4; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 10:39:29,775 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 10:39:29,775 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-2] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@63f0ba1d
2022-04-17 10:39:29,775 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 10:39:29,775 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 10:39:29,775 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 10:39:29,775 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 10:39:29,775 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 10:39:29,775 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 10:39:29,776 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 10:39:29,776 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 10:39:29,777 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 10:39:29,777 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 10:39:29,777 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/user/getUserById?id=1; Attributes: [authenticated]
2022-04-17 10:39:29,777 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@eee234c6: Principal: com.mpos.prueba.security.JwtUser@15a3b3b4; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 10:39:29,777 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@d231bc1, returned: 1
2022-04-17 10:39:29,777 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 10:39:29,777 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 10:39:29,777 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 10:39:29,779 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:39:29,780 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@eee234c6: Principal: com.mpos.prueba.security.JwtUser@15a3b3b4; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 10:39:29,780 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5d400baf, returned: 1
2022-04-17 10:39:29,780 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 10:39:29,780 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 10:39:29,788 ERROR com.mpos.prueba.controllers.UserRestController [http-nio-8080-exec-2] java.lang.NullPointerException
2022-04-17 10:39:29,792 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 10:39:29,792 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4f72f2ac
2022-04-17 10:39:29,792 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 10:39:52,852 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 10:39:52,852 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 10:39:52,852 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 10:39:52,852 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 10:39:52,853 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 10:39:52,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 10:39:52,853 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 10:39:52,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 10:39:52,853 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 10:39:52,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 10:39:52,853 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 10:39:52,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 10:39:52,853 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 10:39:52,853 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 10:39:52,854 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] checking authentication for user admin
2022-04-17 10:39:52,862 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] authenticated user admin, setting security context
2022-04-17 10:39:52,862 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 10:39:52,862 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 10:39:52,862 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 10:39:52,862 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@892f4dcc: Principal: com.mpos.prueba.security.JwtUser@726ecabe; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 10:39:52,862 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 10:39:52,862 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-6] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@63f0ba1d
2022-04-17 10:39:52,862 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 10:39:52,862 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 10:39:52,863 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 10:39:52,863 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 10:39:52,863 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 10:39:52,863 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 10:39:52,863 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 10:39:52,863 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 10:39:52,863 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 10:39:52,863 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 10:39:52,863 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: FilterInvocation: URL: /api/user/getUserById?id=1; Attributes: [authenticated]
2022-04-17 10:39:52,864 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@892f4dcc: Principal: com.mpos.prueba.security.JwtUser@726ecabe; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 10:39:52,864 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@d231bc1, returned: 1
2022-04-17 10:39:52,864 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorization successful
2022-04-17 10:39:52,864 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] RunAsManager did not change Authentication object
2022-04-17 10:39:52,864 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 10:39:52,865 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:39:52,865 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@892f4dcc: Principal: com.mpos.prueba.security.JwtUser@726ecabe; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 10:39:52,865 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5d400baf, returned: 1
2022-04-17 10:39:52,865 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorization successful
2022-04-17 10:39:52,865 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] RunAsManager did not change Authentication object
2022-04-17 10:39:58,797 ERROR com.mpos.prueba.controllers.UserRestController [http-nio-8080-exec-6] java.lang.NullPointerException
2022-04-17 10:39:58,799 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Chain processed normally
2022-04-17 10:39:58,799 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-6] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4f72f2ac
2022-04-17 10:39:58,799 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 10:40:53,289 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-23] Shutting down ExecutorService 'applicationTaskExecutor'
2022-04-17 10:40:53,290 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-23] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:40:53,291 INFO com.zaxxer.hikari.HikariDataSource [Thread-23] HikariPool-4 - Shutdown initiated...
2022-04-17 10:40:53,293 INFO com.zaxxer.hikari.HikariDataSource [Thread-23] HikariPool-4 - Shutdown completed.
2022-04-17 10:40:53,635 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PruebaApplication on DESKTOP-27NGR3V with PID 21512 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 10:40:53,635 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2022-04-17 10:40:53,961 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 10:40:53,983 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 22ms. Found 3 repository interfaces.
2022-04-17 10:40:54,033 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$f8b659b9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:40:54,034 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2022-04-17 10:40:54,042 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$541e94ba] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:40:54,045 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$eccc5cf4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:40:54,046 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:40:54,047 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@a972ad3' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:40:54,047 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$11a0ffa6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:40:54,048 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:40:54,048 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$d39ee1ec] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:40:54,141 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-04-17 10:40:54,142 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-04-17 10:40:54,142 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 10:40:54,151 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 513 ms
2022-04-17 10:40:54,313 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-5 - Starting...
2022-04-17 10:40:54,329 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-5 - Start completed.
2022-04-17 10:40:54,339 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 10:40:54,352 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 10:40:55,413 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:40:55,531 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-04-17 10:40:55,550 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [restartedMain] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$f6e194ac@24c0d593}
2022-04-17 10:40:55,600 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRestController': Unsatisfied dependency expressed through field 'mapStructMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mpos.prueba.utils.MapStructMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2022-04-17 10:40:55,600 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:40:55,600 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-5 - Shutdown initiated...
2022-04-17 10:40:55,602 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-5 - Shutdown completed.
2022-04-17 10:40:55,603 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2022-04-17 10:40:55,605 WARN org.apache.juli.logging.DirectJDKLog [restartedMain] The web application [ROOT] appears to have started a thread named [mssql-jdbc-TimeoutTimer-4] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
 java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
 java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2022-04-17 10:40:55,609 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-04-17 10:40:55,768 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRestController': Unsatisfied dependency expressed through field 'mapStructMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mpos.prueba.utils.MapStructMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at com.mpos.prueba.PruebaApplication.main(PruebaApplication.java:10) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.1.3.RELEASE.jar:2.1.3.RELEASE]
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mpos.prueba.utils.MapStructMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1654) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1213) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 24 common frames omitted
2022-04-17 10:45:00,685 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PruebaApplication on DESKTOP-27NGR3V with PID 21512 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 10:45:00,685 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2022-04-17 10:45:01,037 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 10:45:01,058 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 21ms. Found 3 repository interfaces.
2022-04-17 10:45:01,112 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$f8b659b9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:01,113 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2022-04-17 10:45:01,122 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$541e94ba] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:01,125 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$eccc5cf4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:01,126 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:01,126 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@21e03c38' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:01,127 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$11a0ffa6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:01,127 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:01,128 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$d39ee1ec] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:01,233 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-04-17 10:45:01,234 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-04-17 10:45:01,234 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 10:45:01,250 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 561 ms
2022-04-17 10:45:01,410 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-6 - Starting...
2022-04-17 10:45:01,426 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-6 - Start completed.
2022-04-17 10:45:01,436 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 10:45:01,445 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 10:45:01,798 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:45:01,915 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-04-17 10:45:01,933 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [restartedMain] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$f6e194ac@264460da}
2022-04-17 10:45:01,983 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRestController': Unsatisfied dependency expressed through field 'mapStructMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mpos.prueba.utils.MapStructMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2022-04-17 10:45:01,983 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:45:01,983 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-6 - Shutdown initiated...
2022-04-17 10:45:01,985 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-6 - Shutdown completed.
2022-04-17 10:45:01,985 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2022-04-17 10:45:01,988 WARN org.apache.juli.logging.DirectJDKLog [restartedMain] The web application [ROOT] appears to have started a thread named [mssql-jdbc-TimeoutTimer-5] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
 java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
 java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2022-04-17 10:45:01,991 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-04-17 10:45:02,118 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRestController': Unsatisfied dependency expressed through field 'mapStructMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mpos.prueba.utils.MapStructMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at com.mpos.prueba.PruebaApplication.main(PruebaApplication.java:10) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.1.3.RELEASE.jar:2.1.3.RELEASE]
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mpos.prueba.utils.MapStructMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1654) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1213) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 24 common frames omitted
2022-04-17 10:45:03,897 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PruebaApplication on DESKTOP-27NGR3V with PID 30908 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 10:45:03,901 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2022-04-17 10:45:03,935 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-04-17 10:45:03,935 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-04-17 10:45:04,646 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 10:45:04,712 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 59ms. Found 3 repository interfaces.
2022-04-17 10:45:05,045 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$35869b47] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:05,071 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2022-04-17 10:45:05,099 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$90eed648] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:05,125 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$299c9e82] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:05,129 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:05,130 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1a57edb' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:05,133 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4e714134] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:05,136 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:05,141 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$106f237a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:45:05,557 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-04-17 10:45:05,575 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-04-17 10:45:05,576 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 10:45:05,585 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 10:45:05,664 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1729 ms
2022-04-17 10:45:06,194 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-04-17 10:45:06,542 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-04-17 10:45:06,613 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 10:45:06,676 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 10:45:06,678 INFO org.hibernate.cfg.Environment [restartedMain] HHH000206: hibernate.properties not found
2022-04-17 10:45:06,815 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 10:45:06,958 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 10:45:07,777 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:45:08,424 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-04-17 10:45:08,444 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [restartedMain] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$33b1d63a@665ce34d}
2022-04-17 10:45:08,510 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRestController': Unsatisfied dependency expressed through field 'mapStructMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mpos.prueba.utils.MapStructMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2022-04-17 10:45:08,511 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:45:08,513 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2022-04-17 10:45:08,514 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2022-04-17 10:45:08,515 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2022-04-17 10:45:08,519 WARN org.apache.juli.logging.DirectJDKLog [restartedMain] The web application [ROOT] appears to have started a thread named [mssql-jdbc-TimeoutTimer-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
 java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
 java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2022-04-17 10:45:08,525 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-04-17 10:45:08,686 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRestController': Unsatisfied dependency expressed through field 'mapStructMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mpos.prueba.utils.MapStructMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at com.mpos.prueba.PruebaApplication.main(PruebaApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mpos.prueba.utils.MapStructMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1654)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1213)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)
	... 24 common frames omitted
2022-04-17 10:48:28,329 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 29484 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 10:48:28,331 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 10:48:28,754 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 10:48:28,810 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 51ms. Found 3 repository interfaces.
2022-04-17 10:48:29,022 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fa2a7ef0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:48:29,045 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$92d8472a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:48:29,049 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:48:29,050 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5300f14a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:48:29,051 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b7ace9dc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:48:29,053 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:48:29,265 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 10:48:29,281 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 10:48:29,282 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 10:48:29,289 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 10:48:29,358 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1003 ms
2022-04-17 10:48:29,597 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 10:48:29,926 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 10:48:29,967 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 10:48:30,013 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 10:48:30,014 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 10:48:30,119 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 10:48:30,230 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 10:48:31,072 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:48:31,377 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$9ced7ee2@79f1e22e}
2022-04-17 10:48:31,416 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRestController': Unsatisfied dependency expressed through field 'mapStructMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mpos.prueba.utils.MapStructMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2022-04-17 10:48:31,417 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:48:31,419 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-04-17 10:48:31,420 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-04-17 10:48:31,421 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-04-17 10:48:31,423 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [mssql-jdbc-TimeoutTimer-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
 java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
 java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2022-04-17 10:48:31,429 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-04-17 10:48:31,485 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field mapStructMapper in com.mpos.prueba.controllers.UserRestController required a bean of type 'com.mpos.prueba.utils.MapStructMapper' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.mpos.prueba.utils.MapStructMapper' in your configuration.

2022-04-17 10:49:23,149 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 13264 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 10:49:23,152 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 10:49:23,650 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 10:49:23,715 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 59ms. Found 3 repository interfaces.
2022-04-17 10:49:23,967 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b69f1b58] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:49:23,997 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$4f4ce392] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:49:24,001 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:49:24,003 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@372ca2d6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:49:24,004 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$74218644] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:49:24,007 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:49:24,294 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 10:49:24,312 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 10:49:24,313 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 10:49:24,321 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 10:49:24,398 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1217 ms
2022-04-17 10:49:24,629 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 10:49:24,977 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 10:49:25,028 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 10:49:25,090 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 10:49:25,092 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 10:49:25,247 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 10:49:25,390 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 10:49:26,378 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:49:26,885 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$59621b4a@443ac5b8}
2022-04-17 10:49:26,935 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRestController': Unsatisfied dependency expressed through field 'mapStructMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mpos.prueba.utils.MapStructMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2022-04-17 10:49:26,936 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:49:26,937 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-04-17 10:49:26,939 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-04-17 10:49:26,940 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-04-17 10:49:26,943 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [mssql-jdbc-TimeoutTimer-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
 java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
 java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2022-04-17 10:49:26,948 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-04-17 10:49:27,027 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field mapStructMapper in com.mpos.prueba.controllers.UserRestController required a bean of type 'com.mpos.prueba.utils.MapStructMapper' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.mpos.prueba.utils.MapStructMapper' in your configuration.

2022-04-17 10:56:05,335 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 27984 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 10:56:05,337 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 10:56:05,754 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 10:56:05,810 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 51ms. Found 3 repository interfaces.
2022-04-17 10:56:06,020 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d05c12c4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:56:06,044 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$6909dafe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:56:06,047 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:56:06,048 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@62515a47' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:56:06,049 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$8dde7db0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:56:06,051 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 10:56:06,257 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 10:56:06,272 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 10:56:06,272 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 10:56:06,279 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 10:56:06,348 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 987 ms
2022-04-17 10:56:06,584 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 10:56:06,915 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 10:56:06,956 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 10:56:07,001 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 10:56:07,003 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 10:56:07,105 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 10:56:07,215 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 10:56:08,045 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 10:56:08,342 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$731f12b6@14b5752f}
2022-04-17 10:56:08,381 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:56:08,396 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:56:08,402 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 10:56:08,527 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:56:08,527 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:56:08,527 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:56:08,527 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutority(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:56:08,528 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:56:08,528 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:56:08,528 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:56:08,528 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:56:08,528 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 10:56:08,529 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:56:08,594 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 10:56:08,595 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 10:56:08,595 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 10:56:08,596 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 10:56:08,596 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 10:56:08,596 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 10:56:08,596 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 10:56:08,596 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 10:56:08,596 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 10:56:08,597 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 10:56:08,598 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 10:56:08,599 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5464b97c, org.springframework.security.web.context.SecurityContextPersistenceFilter@17d76ebb, org.springframework.security.web.header.HeaderWriterFilter@38a38ed4, org.springframework.security.web.authentication.logout.LogoutFilter@6a4a2090, com.mpos.prueba.security.JwtAuthenticationTokenFilter@d28c214, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@25fa6889, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d71e10b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3355168, org.springframework.security.web.session.SessionManagementFilter@305aaedf, org.springframework.security.web.access.ExceptionTranslationFilter@6ac756b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@23469199]
2022-04-17 10:56:08,712 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 10:56:08,747 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 10:56:08,882 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 10:56:08,884 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 3.778 seconds (JVM running for 4.24)
2022-04-17 10:56:28,822 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-04-17 10:56:28,827 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 4 ms
2022-04-17 10:56:28,835 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 10:56:28,836 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 10:56:28,837 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 10:56:28,839 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 10:56:28,839 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 10:56:28,839 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 10:56:28,839 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 10:56:28,839 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/auth'; against '/logout'
2022-04-17 10:56:28,839 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 10:56:28,840 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 10:56:28,840 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 10:56:28,840 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 10:56:28,840 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 10:56:28,840 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 10:56:28,849 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user null
2022-04-17 10:56:28,850 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 10:56:28,850 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 10:56:28,851 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 10:56:28,851 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@8f8ad81d: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 10:56:28,852 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 10:56:28,852 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 10:56:28,852 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 10:56:28,852 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 10:56:28,852 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 10:56:28,852 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 10:56:28,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 10:56:28,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 10:56:28,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 10:56:28,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 10:56:28,853 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 10:56:28,853 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@8f8ad81d: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 10:56:28,856 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6694e8fe, returned: 1
2022-04-17 10:56:28,857 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorization successful
2022-04-17 10:56:28,857 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] RunAsManager did not change Authentication object
2022-04-17 10:56:28,857 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 10:56:28,913 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-1] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 10:56:28,999 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-1] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 10:56:29,151 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@310b7f17
2022-04-17 10:56:29,154 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 10:56:29,154 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 10:56:50,542 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 10:56:50,542 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 10:56:50,542 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 10:56:50,543 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 10:56:50,543 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 10:56:50,543 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 10:56:50,543 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 10:56:50,543 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 10:56:50,543 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 10:56:50,543 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 10:56:50,543 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 10:56:50,543 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 10:56:50,543 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 10:56:50,544 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 10:56:50,555 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user admin
2022-04-17 10:56:50,572 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] authenticated user admin, setting security context
2022-04-17 10:56:50,573 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 10:56:50,573 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 10:56:50,573 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 10:56:50,573 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b00ffd2d: Principal: com.mpos.prueba.security.JwtUser@4b4e7a5f; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 10:56:50,573 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 10:56:50,573 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-3] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@70f85235
2022-04-17 10:56:50,573 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 10:56:50,573 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 10:56:50,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 10:56:50,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 10:56:50,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 10:56:50,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 10:56:50,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 10:56:50,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 10:56:50,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 10:56:50,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 10:56:50,575 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /api/user/getUserById?id=1; Attributes: [authenticated]
2022-04-17 10:56:50,575 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b00ffd2d: Principal: com.mpos.prueba.security.JwtUser@4b4e7a5f; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 10:56:50,575 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6694e8fe, returned: 1
2022-04-17 10:56:50,575 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 10:56:50,575 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 10:56:50,576 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 10:56:50,578 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 10:56:50,578 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b00ffd2d: Principal: com.mpos.prueba.security.JwtUser@4b4e7a5f; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 10:56:50,579 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@3b2bcabf, returned: 1
2022-04-17 10:56:50,579 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 10:56:50,579 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 10:56:50,594 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@310b7f17
2022-04-17 10:56:50,595 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 10:56:50,595 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 11:04:25,038 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(12)-127.0.0.1] Application shutdown requested.
2022-04-17 11:04:25,039 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(12)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-04-17 11:04:25,041 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(12)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 11:04:25,042 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(12)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-04-17 11:04:25,043 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(12)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-04-17 12:05:37,391 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 7188 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 12:05:37,394 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 12:05:37,894 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 12:05:37,959 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 59ms. Found 3 repository interfaces.
2022-04-17 12:05:38,213 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$38f501d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 12:05:38,242 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$9c3d1857] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 12:05:38,246 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 12:05:38,247 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6fa13e6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 12:05:38,249 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$c111bb09] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 12:05:38,252 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 12:05:38,546 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 12:05:38,565 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 12:05:38,565 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 12:05:38,574 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 12:05:38,653 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1229 ms
2022-04-17 12:05:38,887 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 12:05:39,252 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 12:05:39,305 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 12:05:39,368 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 12:05:39,370 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 12:05:39,514 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 12:05:39,670 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 12:05:40,673 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 12:05:41,192 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$a652500f@4d2950ed}
2022-04-17 12:05:41,240 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 12:05:41,259 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 12:05:41,267 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 12:05:41,277 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 12:05:41,277 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 12:05:41,277 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 12:05:41,278 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 12:05:41,278 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 12:05:41,278 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 12:05:41,278 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 12:05:41,278 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutority(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 12:05:41,279 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 12:05:41,279 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 12:05:41,369 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 12:05:41,370 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 12:05:41,370 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 12:05:41,370 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 12:05:41,370 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 12:05:41,370 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 12:05:41,370 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 12:05:41,371 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 12:05:41,371 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 12:05:41,372 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 12:05:41,372 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 12:05:41,375 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c247b02, org.springframework.security.web.context.SecurityContextPersistenceFilter@382608d0, org.springframework.security.web.header.HeaderWriterFilter@3b95fce9, org.springframework.security.web.authentication.logout.LogoutFilter@30a4a111, com.mpos.prueba.security.JwtAuthenticationTokenFilter@3a9040f0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7841c990, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b272860, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78f1d29, org.springframework.security.web.session.SessionManagementFilter@45302e66, org.springframework.security.web.access.ExceptionTranslationFilter@5114c8a1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@a74c940]
2022-04-17 12:05:41,521 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 12:05:41,568 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 12:05:41,741 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 12:05:41,742 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 4.652 seconds (JVM running for 5.285)
2022-04-17 12:07:35,449 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 12:07:35,457 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 8 ms
2022-04-17 12:07:35,467 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/saveUpdateUser at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 12:07:35,468 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/saveUpdateUser at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 12:07:35,469 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/saveUpdateUser at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 12:07:35,472 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/saveUpdateUser at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 12:07:35,472 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 12:07:35,472 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /logout'
2022-04-17 12:07:35,472 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 12:07:35,472 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/saveUpdateUser'; against '/logout'
2022-04-17 12:07:35,472 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 12:07:35,473 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/saveUpdateUser' doesn't match 'PUT /logout'
2022-04-17 12:07:35,473 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 12:07:35,473 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/saveUpdateUser' doesn't match 'DELETE /logout'
2022-04-17 12:07:35,473 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 12:07:35,473 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/saveUpdateUser at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 12:07:35,525 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user user
2022-04-17 12:07:35,544 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-2] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 12:07:35,685 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] authenticated user user, setting security context
2022-04-17 12:07:35,685 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/saveUpdateUser at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 12:07:35,685 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/saveUpdateUser at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 12:07:35,686 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/saveUpdateUser at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 12:07:35,686 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@3cedada4: Principal: com.mpos.prueba.security.JwtUser@78f01cf0; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2022-04-17 12:07:35,686 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/saveUpdateUser at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 12:07:35,687 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-2] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@167bae0b
2022-04-17 12:07:35,687 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/saveUpdateUser at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 12:07:35,687 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/saveUpdateUser at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 12:07:35,687 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /'
2022-04-17 12:07:35,688 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /*.html'
2022-04-17 12:07:35,688 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /favicon.ico'
2022-04-17 12:07:35,688 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /**/*.html'
2022-04-17 12:07:35,688 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /**/*.css'
2022-04-17 12:07:35,688 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /**/*.js'
2022-04-17 12:07:35,688 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/saveUpdateUser'; against '/auth/**'
2022-04-17 12:07:35,688 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/saveUpdateUser'; against '/user/**'
2022-04-17 12:07:35,689 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/user/saveUpdateUser; Attributes: [authenticated]
2022-04-17 12:07:35,689 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@3cedada4: Principal: com.mpos.prueba.security.JwtUser@78f01cf0; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2022-04-17 12:07:35,693 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@65d03143, returned: 1
2022-04-17 12:07:35,693 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 12:07:35,693 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 12:07:35,693 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/saveUpdateUser reached end of additional filter chain; proceeding with original chain
2022-04-17 12:07:35,752 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 12:07:35,752 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@3cedada4: Principal: com.mpos.prueba.security.JwtUser@78f01cf0; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2022-04-17 12:07:35,753 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@59196308, returned: -1
2022-04-17 12:07:35,754 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.access.vote.RoleVoter@2f83ff0b, returned: 0
2022-04-17 12:07:35,754 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.access.vote.AuthenticatedVoter@1ebd45da, returned: 0
2022-04-17 12:07:35,763 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Access is denied (user is not anonymous); delegating to AccessDeniedHandler
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.mpos.prueba.controllers.UserRestController$$EnhancerBySpringCGLIB$$39a675fa.saveUpdateUser(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 12:07:35,764 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@44dfaaff
2022-04-17 12:07:35,764 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 12:07:35,767 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 12:07:35,767 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 12:07:35,767 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 12:07:35,767 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 12:07:35,767 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 12:07:35,767 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /error' doesn't match 'GET /logout'
2022-04-17 12:07:35,767 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 12:07:35,767 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/error'; against '/logout'
2022-04-17 12:07:35,768 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 12:07:35,768 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /error' doesn't match 'PUT /logout'
2022-04-17 12:07:35,768 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 12:07:35,768 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /error' doesn't match 'DELETE /logout'
2022-04-17 12:07:35,768 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 12:07:35,768 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 12:07:35,768 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 12:07:35,768 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 12:07:35,768 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 12:07:35,769 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@da2e5bf4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 12:07:35,769 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 12:07:35,769 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 12:07:35,769 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 12:07:35,769 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error reached end of additional filter chain; proceeding with original chain
2022-04-17 12:07:35,801 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 12:07:35,801 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 12:08:03,429 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/saveUpdateUser at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 12:08:03,430 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/saveUpdateUser at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 12:08:03,430 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/saveUpdateUser at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 12:08:03,430 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/saveUpdateUser at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 12:08:03,430 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 12:08:03,430 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /logout'
2022-04-17 12:08:03,431 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 12:08:03,431 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/saveUpdateUser'; against '/logout'
2022-04-17 12:08:03,431 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 12:08:03,431 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/user/saveUpdateUser' doesn't match 'PUT /logout'
2022-04-17 12:08:03,431 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 12:08:03,431 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/user/saveUpdateUser' doesn't match 'DELETE /logout'
2022-04-17 12:08:03,431 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 12:08:03,431 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/saveUpdateUser at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 12:08:03,433 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user null
2022-04-17 12:08:03,433 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/saveUpdateUser at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 12:08:03,433 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/saveUpdateUser at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 12:08:03,433 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/saveUpdateUser at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 12:08:03,434 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@da2e5bf4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 12:08:03,434 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/saveUpdateUser at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 12:08:03,434 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/saveUpdateUser at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 12:08:03,434 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/saveUpdateUser at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 12:08:03,434 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /'
2022-04-17 12:08:03,434 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /*.html'
2022-04-17 12:08:03,434 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /favicon.ico'
2022-04-17 12:08:03,434 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /**/*.html'
2022-04-17 12:08:03,435 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /**/*.css'
2022-04-17 12:08:03,435 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /**/*.js'
2022-04-17 12:08:03,435 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/saveUpdateUser'; against '/auth/**'
2022-04-17 12:08:03,435 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/saveUpdateUser'; against '/user/**'
2022-04-17 12:08:03,435 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /api/user/saveUpdateUser; Attributes: [authenticated]
2022-04-17 12:08:03,435 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@da2e5bf4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 12:08:03,435 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@65d03143, returned: -1
2022-04-17 12:08:03,436 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 12:08:03,437 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Calling Authentication entry point.
2022-04-17 12:08:16,514 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@44dfaaff
2022-04-17 12:08:16,515 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 12:08:16,515 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 12:08:16,515 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 12:08:16,515 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 12:08:16,515 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 12:08:16,515 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 12:08:16,516 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /error' doesn't match 'GET /logout'
2022-04-17 12:08:16,516 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 12:08:16,516 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/error'; against '/logout'
2022-04-17 12:08:16,516 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 12:08:16,516 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /error' doesn't match 'PUT /logout'
2022-04-17 12:08:16,516 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 12:08:16,516 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /error' doesn't match 'DELETE /logout'
2022-04-17 12:08:16,516 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 12:08:16,516 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 12:08:16,516 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 12:08:16,516 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 12:08:16,517 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 12:08:16,517 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@da2e5bf4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 12:08:16,517 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 12:08:16,517 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 12:08:16,517 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 12:08:16,517 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error reached end of additional filter chain; proceeding with original chain
2022-04-17 12:08:16,519 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 12:08:16,519 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 12:08:43,725 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 12:08:43,725 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 12:08:43,725 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 12:08:43,725 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 12:08:43,726 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 12:08:43,726 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 12:08:43,726 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 12:08:43,726 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/auth'; against '/logout'
2022-04-17 12:08:43,726 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 12:08:43,726 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 12:08:43,726 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 12:08:43,726 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 12:08:43,726 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 12:08:43,727 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 12:08:43,727 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user null
2022-04-17 12:08:43,727 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 12:08:43,727 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 12:08:43,727 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 12:08:43,727 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@da2e5bf4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 12:08:43,727 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 12:08:43,727 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 12:08:43,728 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 12:08:43,728 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 12:08:43,728 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 12:08:43,728 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 12:08:43,728 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 12:08:43,728 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 12:08:43,728 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 12:08:43,728 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 12:08:43,729 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 12:08:43,729 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@da2e5bf4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 12:08:43,730 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@65d03143, returned: 1
2022-04-17 12:08:43,730 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 12:08:43,730 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 12:08:43,730 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 12:08:47,497 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-4] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 12:08:47,608 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-4] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@44dfaaff
2022-04-17 12:08:47,609 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Chain processed normally
2022-04-17 12:08:47,610 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-17 12:09:09,352 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/saveUpdateUser at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 12:09:09,352 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/saveUpdateUser at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 12:09:09,352 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/saveUpdateUser at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 12:09:09,352 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/saveUpdateUser at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 12:09:09,353 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 12:09:09,353 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /logout'
2022-04-17 12:09:09,353 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 12:09:09,353 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/saveUpdateUser'; against '/logout'
2022-04-17 12:09:09,353 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 12:09:09,353 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/saveUpdateUser' doesn't match 'PUT /logout'
2022-04-17 12:09:09,353 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 12:09:09,353 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/saveUpdateUser' doesn't match 'DELETE /logout'
2022-04-17 12:09:09,353 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 12:09:09,354 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/saveUpdateUser at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 12:09:09,355 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] checking authentication for user admin
2022-04-17 12:09:09,362 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] authenticated user admin, setting security context
2022-04-17 12:09:09,363 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/saveUpdateUser at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 12:09:09,363 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/saveUpdateUser at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 12:09:09,363 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/saveUpdateUser at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 12:09:09,363 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8845f33e: Principal: com.mpos.prueba.security.JwtUser@7304744c; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 12:09:09,363 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/saveUpdateUser at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 12:09:09,363 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-5] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@167bae0b
2022-04-17 12:09:09,363 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/saveUpdateUser at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 12:09:09,363 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/saveUpdateUser at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 12:09:09,364 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /'
2022-04-17 12:09:09,364 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /*.html'
2022-04-17 12:09:09,364 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /favicon.ico'
2022-04-17 12:09:09,364 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /**/*.html'
2022-04-17 12:09:09,364 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /**/*.css'
2022-04-17 12:09:09,364 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/saveUpdateUser' doesn't match 'GET /**/*.js'
2022-04-17 12:09:09,364 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/saveUpdateUser'; against '/auth/**'
2022-04-17 12:09:09,365 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/saveUpdateUser'; against '/user/**'
2022-04-17 12:09:09,365 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: FilterInvocation: URL: /api/user/saveUpdateUser; Attributes: [authenticated]
2022-04-17 12:09:09,365 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8845f33e: Principal: com.mpos.prueba.security.JwtUser@7304744c; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 12:09:09,365 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@65d03143, returned: 1
2022-04-17 12:09:09,365 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorization successful
2022-04-17 12:09:09,365 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] RunAsManager did not change Authentication object
2022-04-17 12:09:09,365 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/saveUpdateUser reached end of additional filter chain; proceeding with original chain
2022-04-17 12:09:09,366 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 12:09:09,366 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8845f33e: Principal: com.mpos.prueba.security.JwtUser@7304744c; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 12:09:09,367 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@59196308, returned: 1
2022-04-17 12:09:09,367 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorization successful
2022-04-17 12:09:09,367 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] RunAsManager did not change Authentication object
2022-04-17 12:10:57,233 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Chain processed normally
2022-04-17 12:10:57,233 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-5] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@44dfaaff
2022-04-17 12:10:57,233 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 12:48:37,551 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 31656 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 12:48:37,555 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 12:48:38,095 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 12:48:38,161 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 60ms. Found 3 repository interfaces.
2022-04-17 12:48:38,419 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$273a1395] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 12:48:38,448 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$bfe7dbcf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 12:48:38,453 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 12:48:38,454 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@617389a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 12:48:38,456 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$e4bc7e81] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 12:48:38,459 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 12:48:38,753 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 12:48:38,772 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 12:48:38,772 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 12:48:38,780 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 12:48:38,858 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1273 ms
2022-04-17 12:48:39,099 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 12:48:39,466 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 12:48:39,519 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 12:48:39,585 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 12:48:39,587 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 12:48:39,730 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 12:48:39,887 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 12:48:40,892 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 12:48:41,425 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$c9fd1387@59e4a044}
2022-04-17 12:48:41,479 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 12:48:41,498 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 12:48:41,506 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 12:48:41,518 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 12:48:41,518 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 12:48:41,518 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 12:48:41,519 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutority(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 12:48:41,519 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 12:48:41,519 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 12:48:41,519 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 12:48:41,520 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 12:48:41,520 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 12:48:41,520 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 12:48:41,611 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 12:48:41,612 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 12:48:41,612 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 12:48:41,613 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 12:48:41,613 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 12:48:41,613 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 12:48:41,613 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 12:48:41,613 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 12:48:41,613 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 12:48:41,615 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 12:48:41,615 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 12:48:41,618 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ddc889b, org.springframework.security.web.context.SecurityContextPersistenceFilter@c414eb3, org.springframework.security.web.header.HeaderWriterFilter@67baa05, org.springframework.security.web.authentication.logout.LogoutFilter@13ae87a6, com.mpos.prueba.security.JwtAuthenticationTokenFilter@518a7b8a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a73f3d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5400db7e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ec3689b, org.springframework.security.web.session.SessionManagementFilter@222eda8a, org.springframework.security.web.access.ExceptionTranslationFilter@5f14590c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d213a2b]
2022-04-17 12:48:41,766 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 12:48:41,813 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 12:48:41,986 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 12:48:41,988 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 4.736 seconds (JVM running for 5.37)
2022-04-17 13:10:06,714 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 13:10:06,724 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 10 ms
2022-04-17 13:10:06,735 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/saveUpdateProductCategory at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:10:06,736 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/saveUpdateProductCategory at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:10:06,738 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/saveUpdateProductCategory at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:10:06,740 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/saveUpdateProductCategory at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:10:06,740 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:10:06,740 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/logout'
2022-04-17 13:10:06,740 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:10:06,741 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/productCategory/saveUpdateProductCategory' doesn't match 'POST /logout'
2022-04-17 13:10:06,741 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:10:06,741 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/productCategory/saveUpdateProductCategory' doesn't match 'PUT /logout'
2022-04-17 13:10:06,741 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:10:06,741 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/productCategory/saveUpdateProductCategory' doesn't match 'DELETE /logout'
2022-04-17 13:10:06,741 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 13:10:06,741 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/saveUpdateProductCategory at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:10:06,795 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user null
2022-04-17 13:10:06,796 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/saveUpdateProductCategory at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:10:06,796 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/saveUpdateProductCategory at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:10:06,797 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/saveUpdateProductCategory at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:10:06,798 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@69625599: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:10:06,798 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/saveUpdateProductCategory at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:10:06,798 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/saveUpdateProductCategory at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:10:06,798 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/saveUpdateProductCategory at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:10:06,799 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/'
2022-04-17 13:10:06,799 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/*.html'
2022-04-17 13:10:06,799 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/favicon.ico'
2022-04-17 13:10:06,799 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/**/*.html'
2022-04-17 13:10:06,799 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/**/*.css'
2022-04-17 13:10:06,800 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/**/*.js'
2022-04-17 13:10:06,800 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/auth/**'
2022-04-17 13:10:06,800 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/user/**'
2022-04-17 13:10:06,800 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/productCategory/saveUpdateProductCategory; Attributes: [authenticated]
2022-04-17 13:10:06,800 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@69625599: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:10:06,804 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@10690921, returned: -1
2022-04-17 13:10:06,807 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 13:10:06,811 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Calling Authentication entry point.
2022-04-17 13:10:06,812 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@41b56452
2022-04-17 13:10:06,812 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:10:06,814 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:10:06,815 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:10:06,815 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:10:06,815 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:10:06,815 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:10:06,815 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/error'; against '/logout'
2022-04-17 13:10:06,815 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:10:06,815 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:10:06,815 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:10:06,815 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:10:06,816 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:10:06,816 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:10:06,816 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 13:10:06,816 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:10:06,816 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:10:06,816 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:10:06,816 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:10:06,816 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@69625599: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:10:06,816 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:10:06,816 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:10:06,816 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:10:06,817 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error reached end of additional filter chain; proceeding with original chain
2022-04-17 13:10:06,880 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 13:10:06,880 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:10:20,788 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:10:20,788 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:10:20,788 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:10:20,788 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:10:20,788 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:10:20,789 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 13:10:20,789 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:10:20,789 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/logout'
2022-04-17 13:10:20,789 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:10:20,789 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 13:10:20,789 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:10:20,789 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 13:10:20,789 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 13:10:20,790 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:10:20,790 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user null
2022-04-17 13:10:20,790 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:10:20,790 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:10:20,790 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:10:20,790 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@69625599: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:10:20,790 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:10:20,790 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:10:20,791 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:10:20,791 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 13:10:20,791 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 13:10:20,791 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 13:10:20,791 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 13:10:20,791 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 13:10:20,791 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 13:10:20,791 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 13:10:20,792 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 13:10:20,792 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@69625599: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:10:20,793 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@10690921, returned: 1
2022-04-17 13:10:20,793 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 13:10:20,793 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 13:10:20,794 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 13:10:20,821 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-3] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 13:10:20,913 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-3] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 13:10:21,075 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@41b56452
2022-04-17 13:10:21,077 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 13:10:21,078 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:11:50,430 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/saveUpdateProductCategory at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:11:50,430 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/saveUpdateProductCategory at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:11:50,430 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/saveUpdateProductCategory at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:11:50,430 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/saveUpdateProductCategory at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:11:50,431 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:11:50,431 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/logout'
2022-04-17 13:11:50,431 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:11:50,431 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/productCategory/saveUpdateProductCategory' doesn't match 'POST /logout'
2022-04-17 13:11:50,431 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:11:50,431 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/productCategory/saveUpdateProductCategory' doesn't match 'PUT /logout'
2022-04-17 13:11:50,431 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:11:50,431 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/productCategory/saveUpdateProductCategory' doesn't match 'DELETE /logout'
2022-04-17 13:11:50,431 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 13:11:50,431 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/saveUpdateProductCategory at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:11:50,434 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] checking authentication for user admin
2022-04-17 13:11:50,454 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] authenticated user admin, setting security context
2022-04-17 13:11:50,454 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/saveUpdateProductCategory at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:11:50,455 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/saveUpdateProductCategory at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:11:50,455 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/saveUpdateProductCategory at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:11:50,455 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c376e9af: Principal: com.mpos.prueba.security.JwtUser@38376edd; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:11:50,455 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/saveUpdateProductCategory at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:11:50,455 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-6] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1a05ff8e
2022-04-17 13:11:50,455 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/saveUpdateProductCategory at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:11:50,455 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/saveUpdateProductCategory at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:11:50,456 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/'
2022-04-17 13:11:50,456 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/*.html'
2022-04-17 13:11:50,456 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/favicon.ico'
2022-04-17 13:11:50,456 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/**/*.html'
2022-04-17 13:11:50,456 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/**/*.css'
2022-04-17 13:11:50,456 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/**/*.js'
2022-04-17 13:11:50,456 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/auth/**'
2022-04-17 13:11:50,456 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/user/**'
2022-04-17 13:11:50,456 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: FilterInvocation: URL: /api/productCategory/saveUpdateProductCategory; Attributes: [authenticated]
2022-04-17 13:11:50,457 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c376e9af: Principal: com.mpos.prueba.security.JwtUser@38376edd; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:11:50,457 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@10690921, returned: 1
2022-04-17 13:11:50,457 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorization successful
2022-04-17 13:11:50,457 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] RunAsManager did not change Authentication object
2022-04-17 13:11:50,457 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/saveUpdateProductCategory reached end of additional filter chain; proceeding with original chain
2022-04-17 13:11:50,461 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-6] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@41b56452
2022-04-17 13:11:50,461 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Chain processed normally
2022-04-17 13:11:50,462 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:11:50,462 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:11:50,462 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:11:50,462 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:11:50,462 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:11:50,462 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:11:50,462 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/error'; against '/logout'
2022-04-17 13:11:50,462 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:11:50,462 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:11:50,462 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:11:50,462 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:11:50,463 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:11:50,463 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:11:50,463 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 13:11:50,463 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:11:50,463 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:11:50,463 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:11:50,463 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:11:50,463 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@69625599: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:11:50,463 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:11:50,463 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:11:50,463 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:11:50,463 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error reached end of additional filter chain; proceeding with original chain
2022-04-17 13:11:50,465 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Chain processed normally
2022-04-17 13:11:50,465 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:12:26,499 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/saveUpdateProductCategory at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:12:26,499 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/saveUpdateProductCategory at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:12:26,499 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/saveUpdateProductCategory at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:12:26,499 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/saveUpdateProductCategory at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:12:26,500 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:12:26,500 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/logout'
2022-04-17 13:12:26,500 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:12:26,500 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/productCategory/saveUpdateProductCategory' doesn't match 'POST /logout'
2022-04-17 13:12:26,500 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:12:26,500 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/productCategory/saveUpdateProductCategory' doesn't match 'PUT /logout'
2022-04-17 13:12:26,500 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:12:26,500 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/productCategory/saveUpdateProductCategory' doesn't match 'DELETE /logout'
2022-04-17 13:12:26,500 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] No matches found
2022-04-17 13:12:26,500 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/saveUpdateProductCategory at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:12:26,502 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-7] checking authentication for user admin
2022-04-17 13:12:26,506 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-7] authenticated user admin, setting security context
2022-04-17 13:12:26,507 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/saveUpdateProductCategory at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:12:26,507 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/saveUpdateProductCategory at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:12:26,507 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/saveUpdateProductCategory at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:12:26,507 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d79ca615: Principal: com.mpos.prueba.security.JwtUser@2cdd2167; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:12:26,507 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/saveUpdateProductCategory at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:12:26,507 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-7] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1a05ff8e
2022-04-17 13:12:26,507 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/saveUpdateProductCategory at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:12:26,507 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/saveUpdateProductCategory at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:12:26,507 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/'
2022-04-17 13:12:26,508 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/*.html'
2022-04-17 13:12:26,508 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/favicon.ico'
2022-04-17 13:12:26,508 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/**/*.html'
2022-04-17 13:12:26,508 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/**/*.css'
2022-04-17 13:12:26,508 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/**/*.js'
2022-04-17 13:12:26,508 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/auth/**'
2022-04-17 13:12:26,508 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/user/**'
2022-04-17 13:12:26,508 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Secure object: FilterInvocation: URL: /api/productCategory/saveUpdateProductCategory; Attributes: [authenticated]
2022-04-17 13:12:26,508 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d79ca615: Principal: com.mpos.prueba.security.JwtUser@2cdd2167; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:12:26,509 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-7] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@10690921, returned: 1
2022-04-17 13:12:26,509 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorization successful
2022-04-17 13:12:26,509 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] RunAsManager did not change Authentication object
2022-04-17 13:12:26,509 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/saveUpdateProductCategory reached end of additional filter chain; proceeding with original chain
2022-04-17 13:12:26,512 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-7] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@41b56452
2022-04-17 13:12:26,513 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Chain processed normally
2022-04-17 13:12:26,513 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:12:26,513 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:12:26,513 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:12:26,513 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:12:26,514 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:12:26,514 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:12:26,514 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/error'; against '/logout'
2022-04-17 13:12:26,514 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:12:26,514 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:12:26,514 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:12:26,514 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:12:26,514 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:12:26,514 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:12:26,514 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] No matches found
2022-04-17 13:12:26,514 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:12:26,514 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:12:26,514 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:12:26,514 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:12:26,515 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@69625599: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:12:26,515 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:12:26,515 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:12:26,515 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:12:26,515 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error reached end of additional filter chain; proceeding with original chain
2022-04-17 13:12:26,516 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Chain processed normally
2022-04-17 13:12:26,516 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:13:03,448 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:13:03,448 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:13:03,448 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:13:03,448 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:13:03,448 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:13:03,449 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 13:13:03,449 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:13:03,449 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 13:13:03,449 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:13:03,449 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 13:13:03,449 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:13:03,449 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 13:13:03,449 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 13:13:03,449 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:13:03,451 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] checking authentication for user null
2022-04-17 13:13:03,451 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:13:03,451 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:13:03,451 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:13:03,451 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@69625599: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:13:03,451 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:13:03,451 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:13:03,451 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:13:03,451 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 13:13:03,452 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 13:13:03,452 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 13:13:03,452 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 13:13:03,452 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 13:13:03,452 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 13:13:03,452 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 13:13:03,452 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 13:13:03,452 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Secure object: FilterInvocation: URL: /api/user/getUserById?id=1; Attributes: [authenticated]
2022-04-17 13:13:03,453 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@69625599: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:13:03,453 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-8] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@10690921, returned: -1
2022-04-17 13:13:03,453 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-8] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 13:13:03,454 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-8] Calling Authentication entry point.
2022-04-17 13:13:03,454 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-8] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@41b56452
2022-04-17 13:13:03,454 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:13:03,454 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:13:03,454 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:13:03,455 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:13:03,455 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:13:03,455 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:13:03,455 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/error'; against '/logout'
2022-04-17 13:13:03,455 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:13:03,455 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:13:03,455 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:13:03,455 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:13:03,455 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:13:03,455 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:13:03,455 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 13:13:03,455 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:13:03,455 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:13:03,455 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:13:03,456 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:13:03,456 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@69625599: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:13:03,456 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:13:03,456 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:13:03,456 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:13:03,456 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:13:03,457 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-8] Chain processed normally
2022-04-17 13:13:03,457 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:13:21,546 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/user/getUserById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:13:21,546 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/user/getUserById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:13:21,546 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/user/getUserById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:13:21,547 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/user/getUserById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:13:21,547 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:13:21,547 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 13:13:21,547 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:13:21,547 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 13:13:21,547 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:13:21,547 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 13:13:21,547 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:13:21,547 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 13:13:21,547 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] No matches found
2022-04-17 13:13:21,548 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/user/getUserById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:13:21,549 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-9] checking authentication for user admin
2022-04-17 13:13:21,557 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-9] authenticated user admin, setting security context
2022-04-17 13:13:21,557 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/user/getUserById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:13:21,557 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/user/getUserById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:13:21,557 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/user/getUserById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:13:21,557 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-9] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8d7f3d32: Principal: com.mpos.prueba.security.JwtUser@763eba40; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:13:21,557 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/user/getUserById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:13:21,557 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-9] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1a05ff8e
2022-04-17 13:13:21,557 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/user/getUserById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:13:21,558 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/user/getUserById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:13:21,558 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 13:13:21,558 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 13:13:21,558 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 13:13:21,558 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 13:13:21,558 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 13:13:21,558 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 13:13:21,558 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 13:13:21,558 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 13:13:21,558 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Secure object: FilterInvocation: URL: /api/user/getUserById?id=1; Attributes: [authenticated]
2022-04-17 13:13:21,559 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8d7f3d32: Principal: com.mpos.prueba.security.JwtUser@763eba40; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:13:21,559 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-9] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@10690921, returned: 1
2022-04-17 13:13:21,559 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorization successful
2022-04-17 13:13:21,559 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] RunAsManager did not change Authentication object
2022-04-17 13:13:21,559 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/user/getUserById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:13:21,562 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:13:21,562 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8d7f3d32: Principal: com.mpos.prueba.security.JwtUser@763eba40; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:13:21,563 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-9] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5ec7ac52, returned: 1
2022-04-17 13:13:21,564 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorization successful
2022-04-17 13:13:21,564 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] RunAsManager did not change Authentication object
2022-04-17 13:13:21,584 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-9] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@41b56452
2022-04-17 13:13:21,585 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-9] Chain processed normally
2022-04-17 13:13:21,585 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:14:14,267 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/productCategory/saveUpdateProductCategory at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:14:14,267 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/productCategory/saveUpdateProductCategory at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:14:14,267 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/productCategory/saveUpdateProductCategory at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:14:14,267 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/productCategory/saveUpdateProductCategory at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:14:14,267 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:14:14,268 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /logout'
2022-04-17 13:14:14,268 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:14:14,268 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/logout'
2022-04-17 13:14:14,268 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:14:14,268 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'PUT /logout'
2022-04-17 13:14:14,268 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:14:14,268 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'DELETE /logout'
2022-04-17 13:14:14,268 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] No matches found
2022-04-17 13:14:14,268 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/productCategory/saveUpdateProductCategory at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:14:14,270 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-10] checking authentication for user admin
2022-04-17 13:14:14,276 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-10] authenticated user admin, setting security context
2022-04-17 13:14:14,276 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/productCategory/saveUpdateProductCategory at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:14:14,276 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/productCategory/saveUpdateProductCategory at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:14:14,277 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/productCategory/saveUpdateProductCategory at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:14:14,277 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-10] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bb1359e9: Principal: com.mpos.prueba.security.JwtUser@4052de9b; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:14:14,277 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/productCategory/saveUpdateProductCategory at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:14:14,277 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-10] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1a05ff8e
2022-04-17 13:14:14,277 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/productCategory/saveUpdateProductCategory at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:14:14,277 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/productCategory/saveUpdateProductCategory at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:14:14,277 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /'
2022-04-17 13:14:14,277 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /*.html'
2022-04-17 13:14:14,277 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /favicon.ico'
2022-04-17 13:14:14,278 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.html'
2022-04-17 13:14:14,278 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.css'
2022-04-17 13:14:14,278 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.js'
2022-04-17 13:14:14,278 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/auth/**'
2022-04-17 13:14:14,278 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/user/**'
2022-04-17 13:14:14,278 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Secure object: FilterInvocation: URL: /api/productCategory/saveUpdateProductCategory; Attributes: [authenticated]
2022-04-17 13:14:14,278 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bb1359e9: Principal: com.mpos.prueba.security.JwtUser@4052de9b; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:14:14,278 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-10] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@10690921, returned: 1
2022-04-17 13:14:14,278 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorization successful
2022-04-17 13:14:14,279 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] RunAsManager did not change Authentication object
2022-04-17 13:14:14,279 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/productCategory/saveUpdateProductCategory reached end of additional filter chain; proceeding with original chain
2022-04-17 13:14:14,281 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-10] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@41b56452
2022-04-17 13:14:14,281 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-10] Chain processed normally
2022-04-17 13:14:14,281 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:14:14,282 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:14:14,282 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:14:14,282 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:14:14,282 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:14:14,282 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:14:14,282 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /error' doesn't match 'GET /logout'
2022-04-17 13:14:14,282 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:14:14,282 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/error'; against '/logout'
2022-04-17 13:14:14,282 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:14:14,283 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /error' doesn't match 'PUT /logout'
2022-04-17 13:14:14,283 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:14:14,283 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /error' doesn't match 'DELETE /logout'
2022-04-17 13:14:14,283 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] No matches found
2022-04-17 13:14:14,283 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:14:14,283 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:14:14,283 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:14:14,283 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:14:14,283 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-10] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@69625599: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:14:14,283 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:14:14,283 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:14:14,284 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:14:14,284 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error reached end of additional filter chain; proceeding with original chain
2022-04-17 13:14:14,285 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-10] Chain processed normally
2022-04-17 13:14:14,285 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:15:28,224 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 33280 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 13:15:28,227 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 13:15:28,797 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 13:15:28,881 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 76ms. Found 3 repository interfaces.
2022-04-17 13:15:29,158 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$69faa3b1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:15:29,188 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$2a86beb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:15:29,192 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:15:29,193 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@508a65bf' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:15:29,196 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$277d0e9d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:15:29,198 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:15:29,492 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 13:15:29,510 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 13:15:29,510 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 13:15:29,519 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 13:15:29,596 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1336 ms
2022-04-17 13:15:29,859 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 13:15:30,216 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 13:15:30,268 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 13:15:30,355 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 13:15:30,358 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 13:15:30,517 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 13:15:30,695 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 13:15:31,847 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 13:15:32,429 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$cbda3a3@270097ce}
2022-04-17 13:15:32,478 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:15:32,499 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:15:32,508 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 13:15:32,520 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:15:32,521 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:15:32,521 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:15:32,521 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:15:32,521 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:15:32,522 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutority(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:15:32,522 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:15:32,522 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:15:32,522 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:15:32,522 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:15:32,619 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 13:15:32,620 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 13:15:32,620 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 13:15:32,620 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 13:15:32,621 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 13:15:32,621 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 13:15:32,621 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 13:15:32,621 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 13:15:32,621 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 13:15:32,623 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 13:15:32,623 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 13:15:32,626 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38394e76, org.springframework.security.web.context.SecurityContextPersistenceFilter@7df23848, org.springframework.security.web.header.HeaderWriterFilter@45964b9e, org.springframework.security.web.authentication.logout.LogoutFilter@1a22c1ba, com.mpos.prueba.security.JwtAuthenticationTokenFilter@6244afc4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@236f3885, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@703eead0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37d3e740, org.springframework.security.web.session.SessionManagementFilter@15bcecf9, org.springframework.security.web.access.ExceptionTranslationFilter@32e7df65, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37b1218]
2022-04-17 13:15:32,794 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 13:15:32,848 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 13:15:33,049 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 13:15:33,050 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.121 seconds (JVM running for 5.747)
2022-04-17 13:15:54,231 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-3] Initializing Servlet 'dispatcherServlet'
2022-04-17 13:15:54,240 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-3] Completed initialization in 8 ms
2022-04-17 13:15:54,250 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/saveUpdateProductCategory at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:15:54,251 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/saveUpdateProductCategory at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:15:54,253 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/saveUpdateProductCategory at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:15:54,255 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/saveUpdateProductCategory at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:15:54,255 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:15:54,256 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /logout'
2022-04-17 13:15:54,256 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:15:54,256 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/logout'
2022-04-17 13:15:54,256 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:15:54,256 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'PUT /logout'
2022-04-17 13:15:54,256 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:15:54,256 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'DELETE /logout'
2022-04-17 13:15:54,257 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 13:15:54,257 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/saveUpdateProductCategory at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:15:54,307 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user admin
2022-04-17 13:15:54,326 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-3] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 13:15:54,467 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] authenticated user admin, setting security context
2022-04-17 13:15:54,467 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/saveUpdateProductCategory at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:15:54,467 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/saveUpdateProductCategory at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:15:54,469 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/saveUpdateProductCategory at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:15:54,469 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8879b269: Principal: com.mpos.prueba.security.JwtUser@7338351b; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:15:54,469 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/saveUpdateProductCategory at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:15:54,469 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-3] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5d67bf4d
2022-04-17 13:15:54,469 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/saveUpdateProductCategory at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:15:54,469 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/saveUpdateProductCategory at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:15:54,470 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /'
2022-04-17 13:15:54,470 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /*.html'
2022-04-17 13:15:54,470 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /favicon.ico'
2022-04-17 13:15:54,470 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.html'
2022-04-17 13:15:54,470 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.css'
2022-04-17 13:15:54,471 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.js'
2022-04-17 13:15:54,471 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/auth/**'
2022-04-17 13:15:54,471 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/user/**'
2022-04-17 13:15:54,471 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /api/productCategory/saveUpdateProductCategory; Attributes: [authenticated]
2022-04-17 13:15:54,471 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8879b269: Principal: com.mpos.prueba.security.JwtUser@7338351b; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:15:54,474 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@24859bab, returned: 1
2022-04-17 13:15:54,475 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 13:15:54,475 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 13:15:54,475 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/saveUpdateProductCategory reached end of additional filter chain; proceeding with original chain
2022-04-17 13:15:54,555 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 13:15:54,556 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1e1a8a71
2022-04-17 13:15:54,556 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:17:25,690 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/saveUpdateProductCategory at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:17:25,691 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/saveUpdateProductCategory at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:17:25,691 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/saveUpdateProductCategory at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:17:25,691 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/saveUpdateProductCategory at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:17:25,691 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:17:25,691 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /logout'
2022-04-17 13:17:25,691 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:17:25,692 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/logout'
2022-04-17 13:17:25,692 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:17:25,692 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'PUT /logout'
2022-04-17 13:17:25,692 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:17:25,692 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'DELETE /logout'
2022-04-17 13:17:25,692 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 13:17:25,692 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/saveUpdateProductCategory at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:17:25,694 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] checking authentication for user admin
2022-04-17 13:17:25,703 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] authenticated user admin, setting security context
2022-04-17 13:17:25,704 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/saveUpdateProductCategory at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:17:25,704 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/saveUpdateProductCategory at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:17:25,704 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/saveUpdateProductCategory at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:17:25,704 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8a744fb1: Principal: com.mpos.prueba.security.JwtUser@7135c8c3; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:17:25,704 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/saveUpdateProductCategory at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:17:25,704 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-5] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5d67bf4d
2022-04-17 13:17:25,704 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/saveUpdateProductCategory at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:17:25,704 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/saveUpdateProductCategory at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:17:25,704 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /'
2022-04-17 13:17:25,705 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /*.html'
2022-04-17 13:17:25,705 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /favicon.ico'
2022-04-17 13:17:25,705 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.html'
2022-04-17 13:17:25,705 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.css'
2022-04-17 13:17:25,705 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.js'
2022-04-17 13:17:25,705 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/auth/**'
2022-04-17 13:17:25,705 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/user/**'
2022-04-17 13:17:25,706 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: FilterInvocation: URL: /api/productCategory/saveUpdateProductCategory; Attributes: [authenticated]
2022-04-17 13:17:25,706 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8a744fb1: Principal: com.mpos.prueba.security.JwtUser@7135c8c3; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:17:25,706 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@24859bab, returned: 1
2022-04-17 13:17:25,706 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorization successful
2022-04-17 13:17:25,706 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] RunAsManager did not change Authentication object
2022-04-17 13:17:25,706 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/saveUpdateProductCategory reached end of additional filter chain; proceeding with original chain
2022-04-17 13:19:30,419 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 12996 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 13:19:30,423 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 13:19:30,932 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 13:19:30,999 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 60ms. Found 3 repository interfaces.
2022-04-17 13:19:31,256 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e13dac9b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:19:31,286 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$79eb74d5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:19:31,291 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:19:31,292 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1907874b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:19:31,294 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$9ec01787] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:19:31,298 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:19:31,564 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 13:19:31,584 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 13:19:31,584 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 13:19:31,594 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 13:19:31,740 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1287 ms
2022-04-17 13:19:31,994 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 13:19:32,349 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 13:19:32,400 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 13:19:32,462 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 13:19:32,464 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 13:19:32,601 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 13:19:32,753 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 13:19:33,787 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 13:19:34,167 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$8400ac8d@50d4775b}
2022-04-17 13:19:34,220 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:19:34,239 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:19:34,247 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 13:19:34,396 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:19:34,397 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:19:34,397 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:19:34,397 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:19:34,397 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:19:34,397 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:19:34,398 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:19:34,398 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutority(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:19:34,398 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:19:34,398 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:19:34,487 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 13:19:34,488 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 13:19:34,488 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 13:19:34,489 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 13:19:34,489 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 13:19:34,489 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 13:19:34,489 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 13:19:34,489 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 13:19:34,489 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 13:19:34,491 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 13:19:34,491 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 13:19:34,493 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64d42d3d, org.springframework.security.web.context.SecurityContextPersistenceFilter@122ea8dc, org.springframework.security.web.header.HeaderWriterFilter@4440750, org.springframework.security.web.authentication.logout.LogoutFilter@10e4ce98, com.mpos.prueba.security.JwtAuthenticationTokenFilter@19540247, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@239bc43f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53b7f08, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24558113, org.springframework.security.web.session.SessionManagementFilter@74d776fb, org.springframework.security.web.access.ExceptionTranslationFilter@2689b752, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f1e15de]
2022-04-17 13:19:34,642 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 13:19:34,689 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 13:19:34,863 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 13:19:34,864 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 4.744 seconds (JVM running for 5.377)
2022-04-17 13:21:38,456 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-04-17 13:21:38,464 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 8 ms
2022-04-17 13:21:38,474 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/saveUpdateProductCategory at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:21:38,475 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/saveUpdateProductCategory at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:21:38,477 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/saveUpdateProductCategory at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:21:38,480 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/saveUpdateProductCategory at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:21:38,480 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:21:38,480 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /logout'
2022-04-17 13:21:38,480 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:21:38,480 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/logout'
2022-04-17 13:21:38,480 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:21:38,481 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'PUT /logout'
2022-04-17 13:21:38,481 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:21:38,481 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'DELETE /logout'
2022-04-17 13:21:38,481 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 13:21:38,481 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/saveUpdateProductCategory at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:21:38,532 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user null
2022-04-17 13:21:38,533 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/saveUpdateProductCategory at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:21:38,533 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/saveUpdateProductCategory at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:21:38,534 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/saveUpdateProductCategory at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:21:38,535 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:21:38,535 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/saveUpdateProductCategory at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:21:38,535 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/saveUpdateProductCategory at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:21:38,535 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/saveUpdateProductCategory at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:21:38,536 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /'
2022-04-17 13:21:38,536 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /*.html'
2022-04-17 13:21:38,536 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /favicon.ico'
2022-04-17 13:21:38,536 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.html'
2022-04-17 13:21:38,536 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.css'
2022-04-17 13:21:38,536 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.js'
2022-04-17 13:21:38,537 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/auth/**'
2022-04-17 13:21:38,537 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/user/**'
2022-04-17 13:21:38,537 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/productCategory/saveUpdateProductCategory; Attributes: [authenticated]
2022-04-17 13:21:38,537 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:21:38,540 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: -1
2022-04-17 13:21:38,544 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 13:21:38,546 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Calling Authentication entry point.
2022-04-17 13:21:38,547 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:21:38,547 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:21:38,550 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:21:38,550 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:21:38,550 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:21:38,550 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:21:38,550 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:21:38,550 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /error' doesn't match 'GET /logout'
2022-04-17 13:21:38,550 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:21:38,551 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/error'; against '/logout'
2022-04-17 13:21:38,551 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:21:38,551 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /error' doesn't match 'PUT /logout'
2022-04-17 13:21:38,551 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:21:38,551 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /error' doesn't match 'DELETE /logout'
2022-04-17 13:21:38,551 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 13:21:38,551 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:21:38,551 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:21:38,551 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:21:38,551 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:21:38,551 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:21:38,552 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:21:38,552 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:21:38,552 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:21:38,552 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error reached end of additional filter chain; proceeding with original chain
2022-04-17 13:21:38,614 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 13:21:38,614 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:22:08,017 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:22:08,018 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:22:08,018 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:22:08,018 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:22:08,018 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:22:08,018 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 13:22:08,018 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:22:08,019 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/logout'
2022-04-17 13:22:08,019 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:22:08,019 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 13:22:08,019 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:22:08,019 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 13:22:08,019 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 13:22:08,019 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:22:08,019 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user null
2022-04-17 13:22:08,020 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:22:08,020 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:22:08,020 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:22:08,020 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:22:08,020 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:22:08,020 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:22:08,020 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:22:08,020 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 13:22:08,021 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 13:22:08,021 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 13:22:08,021 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 13:22:08,021 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 13:22:08,021 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 13:22:08,021 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 13:22:08,021 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 13:22:08,021 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:22:08,023 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:22:08,023 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 13:22:08,023 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 13:22:08,023 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 13:22:08,050 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-3] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 13:22:08,142 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-3] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 13:22:08,302 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:22:08,303 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 13:22:08,304 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:22:25,326 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/saveUpdateProductCategory at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:22:25,326 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/saveUpdateProductCategory at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:22:25,327 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/saveUpdateProductCategory at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:22:25,327 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/saveUpdateProductCategory at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:22:25,327 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:22:25,327 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /logout'
2022-04-17 13:22:25,327 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:22:25,327 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/logout'
2022-04-17 13:22:25,327 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:22:25,327 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'PUT /logout'
2022-04-17 13:22:25,327 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:22:25,327 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'DELETE /logout'
2022-04-17 13:22:25,327 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 13:22:25,328 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/saveUpdateProductCategory at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:22:25,330 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user admin
2022-04-17 13:22:25,350 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] authenticated user admin, setting security context
2022-04-17 13:22:25,350 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/saveUpdateProductCategory at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:22:25,350 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/saveUpdateProductCategory at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:22:25,350 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/saveUpdateProductCategory at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:22:25,350 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@edc13202: Principal: com.mpos.prueba.security.JwtUser@1680b570; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:22:25,351 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/saveUpdateProductCategory at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:22:25,351 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-4] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@46507dda
2022-04-17 13:22:25,351 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/saveUpdateProductCategory at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:22:25,351 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/saveUpdateProductCategory at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:22:25,351 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /'
2022-04-17 13:22:25,351 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /*.html'
2022-04-17 13:22:25,351 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /favicon.ico'
2022-04-17 13:22:25,351 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.html'
2022-04-17 13:22:25,352 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.css'
2022-04-17 13:22:25,352 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/saveUpdateProductCategory' doesn't match 'GET /**/*.js'
2022-04-17 13:22:25,352 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/auth/**'
2022-04-17 13:22:25,352 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/saveUpdateProductCategory'; against '/user/**'
2022-04-17 13:22:25,352 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /api/productCategory/saveUpdateProductCategory; Attributes: [authenticated]
2022-04-17 13:22:25,352 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@edc13202: Principal: com.mpos.prueba.security.JwtUser@1680b570; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:22:25,352 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:22:25,352 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 13:22:25,353 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 13:22:25,353 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/saveUpdateProductCategory reached end of additional filter chain; proceeding with original chain
2022-04-17 13:22:25,394 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Chain processed normally
2022-04-17 13:22:25,395 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-4] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:22:25,395 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:23:58,346 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:23:58,346 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:23:58,346 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:23:58,347 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:23:58,347 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:23:58,347 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/logout'
2022-04-17 13:23:58,347 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:23:58,347 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'POST /logout'
2022-04-17 13:23:58,347 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:23:58,347 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'PUT /logout'
2022-04-17 13:23:58,347 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:23:58,347 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'DELETE /logout'
2022-04-17 13:23:58,347 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] No matches found
2022-04-17 13:23:58,348 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:23:58,349 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-7] checking authentication for user admin
2022-04-17 13:23:58,356 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-7] authenticated user admin, setting security context
2022-04-17 13:23:58,356 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:23:58,356 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:23:58,356 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:23:58,357 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@dd4a80f5: Principal: com.mpos.prueba.security.JwtUser@260b0787; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:23:58,357 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:23:58,357 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-7] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@46507dda
2022-04-17 13:23:58,357 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:23:58,357 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:23:58,357 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/'
2022-04-17 13:23:58,357 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/*.html'
2022-04-17 13:23:58,357 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/favicon.ico'
2022-04-17 13:23:58,358 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.html'
2022-04-17 13:23:58,358 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.css'
2022-04-17 13:23:58,358 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.js'
2022-04-17 13:23:58,358 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/auth/**'
2022-04-17 13:23:58,358 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/user/**'
2022-04-17 13:23:58,358 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Secure object: FilterInvocation: URL: /api/productCategory/getProductCategoryById?=1; Attributes: [authenticated]
2022-04-17 13:23:58,358 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@dd4a80f5: Principal: com.mpos.prueba.security.JwtUser@260b0787; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:23:58,358 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-7] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:23:58,359 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorization successful
2022-04-17 13:23:58,359 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] RunAsManager did not change Authentication object
2022-04-17 13:23:58,359 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:23:58,362 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-7] Invalid chunk starting at byte [0] and ending at byte [2] with a value of [=1] ignored
 Note: further occurrences of Parameter errors will be logged at DEBUG level.
2022-04-17 13:23:58,365 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-7] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:23:58,365 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-7] Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required Long parameter 'id' is not present]
2022-04-17 13:23:58,366 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Chain processed normally
2022-04-17 13:23:58,366 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:23:58,366 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:23:58,366 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:23:58,366 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:23:58,366 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:23:58,366 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:23:58,366 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/error'; against '/logout'
2022-04-17 13:23:58,367 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:23:58,367 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:23:58,367 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:23:58,367 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:23:58,367 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:23:58,367 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:23:58,367 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] No matches found
2022-04-17 13:23:58,367 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:23:58,367 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:23:58,367 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:23:58,368 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:23:58,368 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:23:58,368 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:23:58,368 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:23:58,368 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:23:58,368 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:23:58,369 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Chain processed normally
2022-04-17 13:23:58,370 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:24:30,904 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/productCategory/getProductCategoryById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:24:30,904 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/productCategory/getProductCategoryById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:24:30,904 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/productCategory/getProductCategoryById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:24:30,905 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/productCategory/getProductCategoryById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:24:30,905 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:24:30,905 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/logout'
2022-04-17 13:24:30,905 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:24:30,905 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'POST /logout'
2022-04-17 13:24:30,905 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:24:30,905 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'PUT /logout'
2022-04-17 13:24:30,905 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:24:30,905 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'DELETE /logout'
2022-04-17 13:24:30,905 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 13:24:30,905 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/productCategory/getProductCategoryById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:24:30,906 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] checking authentication for user admin
2022-04-17 13:24:30,911 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] authenticated user admin, setting security context
2022-04-17 13:24:30,912 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/productCategory/getProductCategoryById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:24:30,912 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/productCategory/getProductCategoryById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:24:30,912 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/productCategory/getProductCategoryById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:24:30,912 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f5f9d8d0: Principal: com.mpos.prueba.security.JwtUser@eb85fa2; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:24:30,912 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/productCategory/getProductCategoryById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:24:30,912 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-8] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@46507dda
2022-04-17 13:24:30,912 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/productCategory/getProductCategoryById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:24:30,912 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/productCategory/getProductCategoryById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:24:30,913 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/'
2022-04-17 13:24:30,913 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/*.html'
2022-04-17 13:24:30,913 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/favicon.ico'
2022-04-17 13:24:30,913 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.html'
2022-04-17 13:24:30,913 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.css'
2022-04-17 13:24:30,913 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.js'
2022-04-17 13:24:30,913 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/auth/**'
2022-04-17 13:24:30,913 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/user/**'
2022-04-17 13:24:30,913 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Secure object: FilterInvocation: URL: /api/productCategory/getProductCategoryById?id=1; Attributes: [authenticated]
2022-04-17 13:24:30,914 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f5f9d8d0: Principal: com.mpos.prueba.security.JwtUser@eb85fa2; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:24:30,914 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-8] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:24:30,914 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorization successful
2022-04-17 13:24:30,914 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] RunAsManager did not change Authentication object
2022-04-17 13:24:30,914 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/productCategory/getProductCategoryById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:24:30,921 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-8] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:24:30,922 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-8] Chain processed normally
2022-04-17 13:24:30,922 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:26:22,617 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryById?name=Capilar at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:26:22,617 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryById?name=Capilar at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:26:22,617 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryById?name=Capilar at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:26:22,617 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryById?name=Capilar at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:26:22,617 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:26:22,617 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/logout'
2022-04-17 13:26:22,618 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:26:22,618 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'POST /logout'
2022-04-17 13:26:22,618 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:26:22,618 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'PUT /logout'
2022-04-17 13:26:22,618 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:26:22,618 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'DELETE /logout'
2022-04-17 13:26:22,618 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 13:26:22,618 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryById?name=Capilar at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:26:22,618 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user null
2022-04-17 13:26:22,620 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryById?name=Capilar at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:26:22,620 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryById?name=Capilar at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:26:22,620 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryById?name=Capilar at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:26:22,620 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:26:22,621 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryById?name=Capilar at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:26:22,621 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryById?name=Capilar at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:26:22,621 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryById?name=Capilar at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:26:22,621 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/'
2022-04-17 13:26:22,621 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/*.html'
2022-04-17 13:26:22,621 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/favicon.ico'
2022-04-17 13:26:22,621 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.html'
2022-04-17 13:26:22,621 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.css'
2022-04-17 13:26:22,621 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.js'
2022-04-17 13:26:22,622 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/auth/**'
2022-04-17 13:26:22,622 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/user/**'
2022-04-17 13:26:22,622 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/productCategory/getProductCategoryById?name=Capilar; Attributes: [authenticated]
2022-04-17 13:26:22,622 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:26:22,622 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: -1
2022-04-17 13:26:22,623 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 13:26:22,623 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Calling Authentication entry point.
2022-04-17 13:26:22,623 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:26:22,623 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:26:22,624 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:26:22,624 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:26:22,624 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:26:22,624 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:26:22,624 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:26:22,624 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/error'; against '/logout'
2022-04-17 13:26:22,624 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:26:22,624 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:26:22,624 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:26:22,624 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:26:22,624 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:26:22,625 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:26:22,625 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 13:26:22,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:26:22,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:26:22,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:26:22,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:26:22,625 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:26:22,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:26:22,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:26:22,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:26:22,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar reached end of additional filter chain; proceeding with original chain
2022-04-17 13:26:22,627 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 13:26:22,627 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:26:42,092 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryById?name=Capilar at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:26:42,092 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryById?name=Capilar at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:26:42,092 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryById?name=Capilar at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:26:42,092 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryById?name=Capilar at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:26:42,093 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:26:42,093 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/logout'
2022-04-17 13:26:42,093 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:26:42,093 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'POST /logout'
2022-04-17 13:26:42,093 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:26:42,093 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'PUT /logout'
2022-04-17 13:26:42,093 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:26:42,093 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'DELETE /logout'
2022-04-17 13:26:42,093 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 13:26:42,093 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryById?name=Capilar at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:26:42,094 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user admin
2022-04-17 13:26:42,101 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] authenticated user admin, setting security context
2022-04-17 13:26:42,102 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryById?name=Capilar at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:26:42,102 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryById?name=Capilar at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:26:42,102 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryById?name=Capilar at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:26:42,102 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ceca3a73: Principal: com.mpos.prueba.security.JwtUser@358bbd01; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:26:42,102 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryById?name=Capilar at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:26:42,102 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-3] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@46507dda
2022-04-17 13:26:42,102 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryById?name=Capilar at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:26:42,102 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryById?name=Capilar at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:26:42,103 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/'
2022-04-17 13:26:42,103 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/*.html'
2022-04-17 13:26:42,103 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/favicon.ico'
2022-04-17 13:26:42,103 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.html'
2022-04-17 13:26:42,103 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.css'
2022-04-17 13:26:42,103 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.js'
2022-04-17 13:26:42,103 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/auth/**'
2022-04-17 13:26:42,103 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/user/**'
2022-04-17 13:26:42,103 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /api/productCategory/getProductCategoryById?name=Capilar; Attributes: [authenticated]
2022-04-17 13:26:42,103 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ceca3a73: Principal: com.mpos.prueba.security.JwtUser@358bbd01; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:26:42,104 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:26:42,104 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 13:26:42,104 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 13:26:42,104 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryById?name=Capilar reached end of additional filter chain; proceeding with original chain
2022-04-17 13:26:42,105 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:26:42,105 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-3] Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required Long parameter 'id' is not present]
2022-04-17 13:26:42,105 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 13:26:42,105 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:26:42,105 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:26:42,105 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:26:42,105 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/error'; against '/logout'
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:26:42,106 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:26:42,107 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:26:42,107 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:26:42,107 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:26:42,107 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar reached end of additional filter chain; proceeding with original chain
2022-04-17 13:26:42,108 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 13:26:42,108 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:27:04,811 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getProductCategoryByName?name=Capilar at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:27:04,811 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getProductCategoryByName?name=Capilar at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:27:04,811 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getProductCategoryByName?name=Capilar at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:27:04,811 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getProductCategoryByName?name=Capilar at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:27:04,811 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:27:04,811 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/logout'
2022-04-17 13:27:04,812 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:27:04,812 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/productCategory/getProductCategoryByName' doesn't match 'POST /logout'
2022-04-17 13:27:04,812 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:27:04,812 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/productCategory/getProductCategoryByName' doesn't match 'PUT /logout'
2022-04-17 13:27:04,812 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:27:04,812 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/productCategory/getProductCategoryByName' doesn't match 'DELETE /logout'
2022-04-17 13:27:04,812 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 13:27:04,812 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getProductCategoryByName?name=Capilar at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:27:04,813 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user admin
2022-04-17 13:27:04,820 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] authenticated user admin, setting security context
2022-04-17 13:27:04,820 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getProductCategoryByName?name=Capilar at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:27:04,820 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getProductCategoryByName?name=Capilar at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:27:04,820 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getProductCategoryByName?name=Capilar at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:27:04,821 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@acee0688: Principal: com.mpos.prueba.security.JwtUser@57af81fa; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:27:04,821 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getProductCategoryByName?name=Capilar at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:27:04,821 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-4] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@46507dda
2022-04-17 13:27:04,821 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getProductCategoryByName?name=Capilar at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:27:04,821 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getProductCategoryByName?name=Capilar at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:27:04,821 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/'
2022-04-17 13:27:04,821 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/*.html'
2022-04-17 13:27:04,821 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/favicon.ico'
2022-04-17 13:27:04,821 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/**/*.html'
2022-04-17 13:27:04,821 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/**/*.css'
2022-04-17 13:27:04,822 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/**/*.js'
2022-04-17 13:27:04,822 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/auth/**'
2022-04-17 13:27:04,822 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/user/**'
2022-04-17 13:27:04,822 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /api/productCategory/getProductCategoryByName?name=Capilar; Attributes: [authenticated]
2022-04-17 13:27:04,822 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@acee0688: Principal: com.mpos.prueba.security.JwtUser@57af81fa; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:27:04,822 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:27:04,822 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 13:27:04,822 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 13:27:04,822 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getProductCategoryByName?name=Capilar reached end of additional filter chain; proceeding with original chain
2022-04-17 13:27:04,826 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-4] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:27:04,827 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Chain processed normally
2022-04-17 13:27:04,827 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:28:41,164 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/changeStateProductCategoryById?id=1&newState=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:28:41,165 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/changeStateProductCategoryById?id=1&newState=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:28:41,165 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/changeStateProductCategoryById?id=1&newState=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:28:41,165 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/changeStateProductCategoryById?id=1&newState=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:28:41,165 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:28:41,165 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /logout'
2022-04-17 13:28:41,165 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:28:41,165 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/logout'
2022-04-17 13:28:41,166 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:28:41,166 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'PUT /logout'
2022-04-17 13:28:41,166 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:28:41,166 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'DELETE /logout'
2022-04-17 13:28:41,166 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] No matches found
2022-04-17 13:28:41,166 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/changeStateProductCategoryById?id=1&newState=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:28:41,167 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-9] checking authentication for user admin
2022-04-17 13:28:41,174 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-9] authenticated user admin, setting security context
2022-04-17 13:28:41,174 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/changeStateProductCategoryById?id=1&newState=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:28:41,174 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/changeStateProductCategoryById?id=1&newState=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:28:41,175 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/changeStateProductCategoryById?id=1&newState=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:28:41,175 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-9] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@87cee4e8: Principal: com.mpos.prueba.security.JwtUser@7c8f639a; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:28:41,175 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/changeStateProductCategoryById?id=1&newState=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:28:41,175 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-9] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@46507dda
2022-04-17 13:28:41,175 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/changeStateProductCategoryById?id=1&newState=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:28:41,175 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/changeStateProductCategoryById?id=1&newState=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:28:41,175 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /'
2022-04-17 13:28:41,175 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /*.html'
2022-04-17 13:28:41,175 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /favicon.ico'
2022-04-17 13:28:41,175 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.html'
2022-04-17 13:28:41,176 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.css'
2022-04-17 13:28:41,176 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.js'
2022-04-17 13:28:41,176 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/auth/**'
2022-04-17 13:28:41,176 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/user/**'
2022-04-17 13:28:41,176 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Secure object: FilterInvocation: URL: /api/productCategory/changeStateProductCategoryById?id=1&newState=2; Attributes: [authenticated]
2022-04-17 13:28:41,176 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@87cee4e8: Principal: com.mpos.prueba.security.JwtUser@7c8f639a; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:28:41,176 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-9] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:28:41,176 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorization successful
2022-04-17 13:28:41,176 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] RunAsManager did not change Authentication object
2022-04-17 13:28:41,177 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/changeStateProductCategoryById?id=1&newState=2 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:28:41,190 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-9] Chain processed normally
2022-04-17 13:28:41,190 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-9] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:28:41,190 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:31:05,581 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserByUsername?name=admin at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:31:05,582 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserByUsername?name=admin at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:31:05,582 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserByUsername?name=admin at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:31:05,582 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserByUsername?name=admin at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:31:05,582 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:31:05,582 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserByUsername'; against '/logout'
2022-04-17 13:31:05,582 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:31:05,583 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /api/user/getUserByUsername' doesn't match 'POST /logout'
2022-04-17 13:31:05,583 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:31:05,583 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /api/user/getUserByUsername' doesn't match 'PUT /logout'
2022-04-17 13:31:05,583 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:31:05,583 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /api/user/getUserByUsername' doesn't match 'DELETE /logout'
2022-04-17 13:31:05,583 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] No matches found
2022-04-17 13:31:05,583 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserByUsername?name=admin at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:31:05,584 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-10] checking authentication for user null
2022-04-17 13:31:05,584 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserByUsername?name=admin at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:31:05,585 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserByUsername?name=admin at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:31:05,585 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserByUsername?name=admin at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:31:05,585 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-10] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:31:05,585 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserByUsername?name=admin at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:31:05,585 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserByUsername?name=admin at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:31:05,585 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserByUsername?name=admin at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:31:05,586 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserByUsername'; against '/'
2022-04-17 13:31:05,586 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserByUsername'; against '/*.html'
2022-04-17 13:31:05,586 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserByUsername'; against '/favicon.ico'
2022-04-17 13:31:05,586 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserByUsername'; against '/**/*.html'
2022-04-17 13:31:05,586 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserByUsername'; against '/**/*.css'
2022-04-17 13:31:05,586 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserByUsername'; against '/**/*.js'
2022-04-17 13:31:05,586 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserByUsername'; against '/auth/**'
2022-04-17 13:31:05,586 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserByUsername'; against '/user/**'
2022-04-17 13:31:05,587 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Secure object: FilterInvocation: URL: /api/user/getUserByUsername?name=admin; Attributes: [authenticated]
2022-04-17 13:31:05,587 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:31:05,587 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-10] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: -1
2022-04-17 13:31:05,588 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-10] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 13:31:05,589 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-10] Calling Authentication entry point.
2022-04-17 13:31:05,589 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-10] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:31:05,589 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:31:05,589 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?name=admin at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:31:05,590 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?name=admin at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:31:05,590 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?name=admin at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:31:05,590 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?name=admin at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:31:05,590 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:31:05,590 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/error'; against '/logout'
2022-04-17 13:31:05,591 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:31:05,591 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:31:05,591 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:31:05,591 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:31:05,592 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:31:05,592 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:31:05,592 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] No matches found
2022-04-17 13:31:05,592 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?name=admin at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:31:05,592 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?name=admin at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:31:05,592 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?name=admin at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:31:05,593 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?name=admin at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:31:05,593 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-10] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:31:05,593 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?name=admin at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:31:05,593 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?name=admin at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:31:05,593 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?name=admin at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:31:05,593 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?name=admin reached end of additional filter chain; proceeding with original chain
2022-04-17 13:31:05,595 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-10] Chain processed normally
2022-04-17 13:31:05,595 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:31:29,632 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserByUsername?name=admin at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:31:29,632 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserByUsername?name=admin at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:31:29,632 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserByUsername?name=admin at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:31:29,633 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserByUsername?name=admin at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:31:29,633 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:31:29,633 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserByUsername'; against '/logout'
2022-04-17 13:31:29,633 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:31:29,633 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUserByUsername' doesn't match 'POST /logout'
2022-04-17 13:31:29,633 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:31:29,633 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUserByUsername' doesn't match 'PUT /logout'
2022-04-17 13:31:29,633 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:31:29,633 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUserByUsername' doesn't match 'DELETE /logout'
2022-04-17 13:31:29,633 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 13:31:29,633 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserByUsername?name=admin at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:31:29,634 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user admin
2022-04-17 13:31:29,643 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] authenticated user admin, setting security context
2022-04-17 13:31:29,643 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserByUsername?name=admin at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:31:29,643 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserByUsername?name=admin at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:31:29,643 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserByUsername?name=admin at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:31:29,643 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d3e0f7f6: Principal: com.mpos.prueba.security.JwtUser@28a17084; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:31:29,644 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserByUsername?name=admin at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:31:29,644 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-1] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@46507dda
2022-04-17 13:31:29,644 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserByUsername?name=admin at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:31:29,644 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserByUsername?name=admin at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:31:29,644 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserByUsername'; against '/'
2022-04-17 13:31:29,644 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserByUsername'; against '/*.html'
2022-04-17 13:31:29,644 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserByUsername'; against '/favicon.ico'
2022-04-17 13:31:29,644 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserByUsername'; against '/**/*.html'
2022-04-17 13:31:29,644 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserByUsername'; against '/**/*.css'
2022-04-17 13:31:29,645 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserByUsername'; against '/**/*.js'
2022-04-17 13:31:29,645 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserByUsername'; against '/auth/**'
2022-04-17 13:31:29,645 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserByUsername'; against '/user/**'
2022-04-17 13:31:29,645 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/user/getUserByUsername?name=admin; Attributes: [authenticated]
2022-04-17 13:31:29,645 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d3e0f7f6: Principal: com.mpos.prueba.security.JwtUser@28a17084; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:31:29,645 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:31:29,645 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorization successful
2022-04-17 13:31:29,645 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] RunAsManager did not change Authentication object
2022-04-17 13:31:29,646 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserByUsername?name=admin reached end of additional filter chain; proceeding with original chain
2022-04-17 13:31:29,646 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:31:29,647 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-1] Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter 'username' is not present]
2022-04-17 13:31:29,647 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 13:31:29,647 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:31:29,647 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=admin at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:31:29,647 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=admin at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:31:29,647 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=admin at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:31:29,647 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=admin at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:31:29,647 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:31:29,647 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/error'; against '/logout'
2022-04-17 13:31:29,648 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:31:29,648 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:31:29,648 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:31:29,648 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:31:29,648 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:31:29,648 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:31:29,648 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 13:31:29,648 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=admin at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:31:29,648 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=admin at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:31:29,648 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=admin at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:31:29,648 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=admin at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:31:29,648 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:31:29,648 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=admin at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:31:29,649 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=admin at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:31:29,649 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=admin at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:31:29,649 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=admin reached end of additional filter chain; proceeding with original chain
2022-04-17 13:31:29,650 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 13:31:29,650 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:31:49,055 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserByUsername?username=admin at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:31:49,055 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserByUsername?username=admin at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:31:49,055 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserByUsername?username=admin at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:31:49,055 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserByUsername?username=admin at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:31:49,055 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:31:49,055 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserByUsername'; against '/logout'
2022-04-17 13:31:49,056 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:31:49,056 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/user/getUserByUsername' doesn't match 'POST /logout'
2022-04-17 13:31:49,056 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:31:49,056 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/user/getUserByUsername' doesn't match 'PUT /logout'
2022-04-17 13:31:49,056 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:31:49,056 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/user/getUserByUsername' doesn't match 'DELETE /logout'
2022-04-17 13:31:49,056 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 13:31:49,056 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserByUsername?username=admin at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:31:49,057 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] checking authentication for user admin
2022-04-17 13:31:49,062 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] authenticated user admin, setting security context
2022-04-17 13:31:49,062 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserByUsername?username=admin at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:31:49,062 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserByUsername?username=admin at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:31:49,062 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserByUsername?username=admin at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:31:49,062 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bf52dee7: Principal: com.mpos.prueba.security.JwtUser@44135995; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:31:49,062 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserByUsername?username=admin at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:31:49,062 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-5] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@46507dda
2022-04-17 13:31:49,062 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserByUsername?username=admin at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:31:49,062 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserByUsername?username=admin at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:31:49,063 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserByUsername'; against '/'
2022-04-17 13:31:49,063 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserByUsername'; against '/*.html'
2022-04-17 13:31:49,063 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserByUsername'; against '/favicon.ico'
2022-04-17 13:31:49,063 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserByUsername'; against '/**/*.html'
2022-04-17 13:31:49,063 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserByUsername'; against '/**/*.css'
2022-04-17 13:31:49,063 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserByUsername'; against '/**/*.js'
2022-04-17 13:31:49,063 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserByUsername'; against '/auth/**'
2022-04-17 13:31:49,063 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/getUserByUsername'; against '/user/**'
2022-04-17 13:31:49,064 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: FilterInvocation: URL: /api/user/getUserByUsername?username=admin; Attributes: [authenticated]
2022-04-17 13:31:49,064 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bf52dee7: Principal: com.mpos.prueba.security.JwtUser@44135995; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:31:49,064 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:31:49,064 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorization successful
2022-04-17 13:31:49,064 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] RunAsManager did not change Authentication object
2022-04-17 13:31:49,064 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/getUserByUsername?username=admin reached end of additional filter chain; proceeding with original chain
2022-04-17 13:31:49,066 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:31:49,066 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bf52dee7: Principal: com.mpos.prueba.security.JwtUser@44135995; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:31:49,067 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@53eef4df, returned: 1
2022-04-17 13:31:49,067 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorization successful
2022-04-17 13:31:49,067 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] RunAsManager did not change Authentication object
2022-04-17 13:31:49,075 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-5] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:31:49,075 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Chain processed normally
2022-04-17 13:31:49,075 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:33:37,699 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/changeStateUserById?id=1&newState=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:33:37,700 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/changeStateUserById?id=1&newState=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:33:37,700 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/changeStateUserById?id=1&newState=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:33:37,700 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/changeStateUserById?id=1&newState=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:33:37,700 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:33:37,700 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/changeStateUserById'; against '/logout'
2022-04-17 13:33:37,700 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:33:37,701 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/user/changeStateUserById' doesn't match 'POST /logout'
2022-04-17 13:33:37,701 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:33:37,701 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/user/changeStateUserById' doesn't match 'PUT /logout'
2022-04-17 13:33:37,701 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:33:37,701 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/user/changeStateUserById' doesn't match 'DELETE /logout'
2022-04-17 13:33:37,701 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] No matches found
2022-04-17 13:33:37,701 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/changeStateUserById?id=1&newState=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:33:37,701 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-7] checking authentication for user null
2022-04-17 13:33:37,702 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/changeStateUserById?id=1&newState=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:33:37,702 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/changeStateUserById?id=1&newState=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:33:37,702 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/changeStateUserById?id=1&newState=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:33:37,702 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:33:37,702 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/changeStateUserById?id=1&newState=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:33:37,702 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/changeStateUserById?id=1&newState=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:33:37,703 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/changeStateUserById?id=1&newState=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:33:37,703 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/changeStateUserById'; against '/'
2022-04-17 13:33:37,703 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/changeStateUserById'; against '/*.html'
2022-04-17 13:33:37,703 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/changeStateUserById'; against '/favicon.ico'
2022-04-17 13:33:37,703 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/changeStateUserById'; against '/**/*.html'
2022-04-17 13:33:37,703 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/changeStateUserById'; against '/**/*.css'
2022-04-17 13:33:37,703 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/changeStateUserById'; against '/**/*.js'
2022-04-17 13:33:37,703 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/changeStateUserById'; against '/auth/**'
2022-04-17 13:33:37,704 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/changeStateUserById'; against '/user/**'
2022-04-17 13:33:37,704 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Secure object: FilterInvocation: URL: /api/user/changeStateUserById?id=1&newState=2; Attributes: [authenticated]
2022-04-17 13:33:37,704 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:33:37,704 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-7] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: -1
2022-04-17 13:33:37,705 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 13:33:37,705 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Calling Authentication entry point.
2022-04-17 13:33:37,705 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-7] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:33:37,705 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:33:37,705 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1&newState=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:33:37,705 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1&newState=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:33:37,705 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1&newState=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:33:37,705 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1&newState=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:33:37,705 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:33:37,705 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/error'; against '/logout'
2022-04-17 13:33:37,706 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:33:37,706 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:33:37,706 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:33:37,706 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:33:37,706 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:33:37,706 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:33:37,706 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] No matches found
2022-04-17 13:33:37,706 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1&newState=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:33:37,706 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1&newState=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:33:37,707 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1&newState=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:33:37,707 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1&newState=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:33:37,707 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:33:37,707 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1&newState=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:33:37,707 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1&newState=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:33:37,707 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1&newState=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:33:37,707 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1&newState=2 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:33:37,709 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Chain processed normally
2022-04-17 13:33:37,709 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:33:43,464 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:33:43,464 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:33:43,464 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:33:43,464 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:33:43,465 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:33:43,465 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 13:33:43,465 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:33:43,465 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/auth'; against '/logout'
2022-04-17 13:33:43,465 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:33:43,465 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 13:33:43,465 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:33:43,465 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 13:33:43,465 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] No matches found
2022-04-17 13:33:43,465 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:33:43,466 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-9] checking authentication for user null
2022-04-17 13:33:43,466 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:33:43,466 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:33:43,466 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:33:43,466 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-9] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:33:43,466 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:33:43,466 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:33:43,466 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:33:43,466 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 13:33:43,466 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 13:33:43,467 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 13:33:43,467 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 13:33:43,467 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 13:33:43,467 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 13:33:43,467 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 13:33:43,467 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 13:33:43,467 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:33:43,468 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-9] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:33:43,468 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorization successful
2022-04-17 13:33:43,468 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] RunAsManager did not change Authentication object
2022-04-17 13:33:43,468 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 13:33:43,469 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-9] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 13:33:43,496 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-9] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:33:43,497 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-9] Chain processed normally
2022-04-17 13:33:43,497 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:34:04,718 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/changeStateUserById?id=1&newState=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:34:04,718 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/changeStateUserById?id=1&newState=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:34:04,718 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/changeStateUserById?id=1&newState=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:34:04,718 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/changeStateUserById?id=1&newState=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:34:04,718 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:34:04,718 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/changeStateUserById'; against '/logout'
2022-04-17 13:34:04,718 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:34:04,719 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/changeStateUserById' doesn't match 'POST /logout'
2022-04-17 13:34:04,719 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:34:04,719 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/changeStateUserById' doesn't match 'PUT /logout'
2022-04-17 13:34:04,719 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:34:04,719 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/changeStateUserById' doesn't match 'DELETE /logout'
2022-04-17 13:34:04,719 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 13:34:04,719 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/changeStateUserById?id=1&newState=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:34:04,721 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] checking authentication for user admin
2022-04-17 13:34:04,727 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] authenticated user admin, setting security context
2022-04-17 13:34:04,727 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/changeStateUserById?id=1&newState=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:34:04,727 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/changeStateUserById?id=1&newState=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:34:04,728 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/changeStateUserById?id=1&newState=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:34:04,728 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@839ab8df: Principal: com.mpos.prueba.security.JwtUser@78db3fad; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:34:04,728 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/changeStateUserById?id=1&newState=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:34:04,728 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-8] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@46507dda
2022-04-17 13:34:04,728 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/changeStateUserById?id=1&newState=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:34:04,728 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/changeStateUserById?id=1&newState=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:34:04,728 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/changeStateUserById'; against '/'
2022-04-17 13:34:04,729 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/changeStateUserById'; against '/*.html'
2022-04-17 13:34:04,729 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/changeStateUserById'; against '/favicon.ico'
2022-04-17 13:34:04,729 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/changeStateUserById'; against '/**/*.html'
2022-04-17 13:34:04,729 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/changeStateUserById'; against '/**/*.css'
2022-04-17 13:34:04,729 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/changeStateUserById'; against '/**/*.js'
2022-04-17 13:34:04,729 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/changeStateUserById'; against '/auth/**'
2022-04-17 13:34:04,729 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/changeStateUserById'; against '/user/**'
2022-04-17 13:34:04,729 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Secure object: FilterInvocation: URL: /api/user/changeStateUserById?id=1&newState=2; Attributes: [authenticated]
2022-04-17 13:34:04,730 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@839ab8df: Principal: com.mpos.prueba.security.JwtUser@78db3fad; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:34:04,730 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-8] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:34:04,730 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorization successful
2022-04-17 13:34:04,730 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] RunAsManager did not change Authentication object
2022-04-17 13:34:04,730 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/changeStateUserById?id=1&newState=2 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:34:04,733 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-8] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:34:04,733 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-8] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2022-04-17 13:34:04,733 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-8] Chain processed normally
2022-04-17 13:34:04,733 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:34:04,733 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1&newState=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:34:04,733 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1&newState=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:34:04,733 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1&newState=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:34:04,734 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1&newState=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:34:04,734 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:34:04,734 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/error'; against '/logout'
2022-04-17 13:34:04,734 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:34:04,734 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:34:04,734 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:34:04,734 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:34:04,734 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:34:04,734 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:34:04,734 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 13:34:04,735 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1&newState=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:34:04,735 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1&newState=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:34:04,735 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1&newState=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:34:04,735 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1&newState=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:34:04,735 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:34:04,735 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1&newState=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:34:04,735 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1&newState=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:34:04,735 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1&newState=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:34:04,735 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=1&newState=2 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:34:04,737 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-8] Chain processed normally
2022-04-17 13:34:04,737 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:34:10,163 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/changeStateUserById?id=1&newState=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:34:10,163 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/changeStateUserById?id=1&newState=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:34:10,163 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/changeStateUserById?id=1&newState=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:34:10,163 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/changeStateUserById?id=1&newState=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:34:10,163 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:34:10,164 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /logout'
2022-04-17 13:34:10,164 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:34:10,164 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/changeStateUserById'; against '/logout'
2022-04-17 13:34:10,164 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:34:10,164 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/changeStateUserById' doesn't match 'PUT /logout'
2022-04-17 13:34:10,164 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:34:10,164 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/changeStateUserById' doesn't match 'DELETE /logout'
2022-04-17 13:34:10,164 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 13:34:10,165 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/changeStateUserById?id=1&newState=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:34:10,166 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user admin
2022-04-17 13:34:10,172 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] authenticated user admin, setting security context
2022-04-17 13:34:10,172 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/changeStateUserById?id=1&newState=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:34:10,172 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/changeStateUserById?id=1&newState=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:34:10,172 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/changeStateUserById?id=1&newState=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:34:10,172 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@937d5113: Principal: com.mpos.prueba.security.JwtUser@683cd661; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:34:10,172 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/changeStateUserById?id=1&newState=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:34:10,172 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-2] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@46507dda
2022-04-17 13:34:10,173 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/changeStateUserById?id=1&newState=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:34:10,173 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/changeStateUserById?id=1&newState=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:34:10,173 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /'
2022-04-17 13:34:10,173 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /*.html'
2022-04-17 13:34:10,173 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /favicon.ico'
2022-04-17 13:34:10,173 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /**/*.html'
2022-04-17 13:34:10,173 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /**/*.css'
2022-04-17 13:34:10,173 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /**/*.js'
2022-04-17 13:34:10,174 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/changeStateUserById'; against '/auth/**'
2022-04-17 13:34:10,174 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/changeStateUserById'; against '/user/**'
2022-04-17 13:34:10,174 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/user/changeStateUserById?id=1&newState=2; Attributes: [authenticated]
2022-04-17 13:34:10,174 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@937d5113: Principal: com.mpos.prueba.security.JwtUser@683cd661; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:34:10,175 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:34:10,175 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 13:34:10,175 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 13:34:10,175 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/changeStateUserById?id=1&newState=2 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:34:10,177 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:34:10,177 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@937d5113: Principal: com.mpos.prueba.security.JwtUser@683cd661; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:34:10,177 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@53eef4df, returned: 1
2022-04-17 13:34:10,178 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 13:34:10,178 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 13:34:10,201 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 13:34:10,201 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:34:10,201 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:34:24,469 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/changeStateUserById?id=1&newState=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:34:24,470 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/changeStateUserById?id=1&newState=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:34:24,470 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/changeStateUserById?id=1&newState=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:34:24,470 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/changeStateUserById?id=1&newState=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:34:24,470 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:34:24,470 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /logout'
2022-04-17 13:34:24,470 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:34:24,470 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/changeStateUserById'; against '/logout'
2022-04-17 13:34:24,470 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:34:24,470 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/user/changeStateUserById' doesn't match 'PUT /logout'
2022-04-17 13:34:24,470 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:34:24,471 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/user/changeStateUserById' doesn't match 'DELETE /logout'
2022-04-17 13:34:24,471 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] No matches found
2022-04-17 13:34:24,471 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/changeStateUserById?id=1&newState=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:34:24,472 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-10] checking authentication for user admin
2022-04-17 13:34:24,478 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-10] authenticated user admin, setting security context
2022-04-17 13:34:24,478 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/changeStateUserById?id=1&newState=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:34:24,478 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/changeStateUserById?id=1&newState=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:34:24,478 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/changeStateUserById?id=1&newState=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:34:24,478 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-10] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ab924706: Principal: com.mpos.prueba.security.JwtUser@50d3c074; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:34:24,478 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/changeStateUserById?id=1&newState=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:34:24,478 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-10] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@46507dda
2022-04-17 13:34:24,478 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/changeStateUserById?id=1&newState=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:34:24,479 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/changeStateUserById?id=1&newState=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:34:24,479 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /'
2022-04-17 13:34:24,479 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /*.html'
2022-04-17 13:34:24,479 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /favicon.ico'
2022-04-17 13:34:24,479 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /**/*.html'
2022-04-17 13:34:24,479 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /**/*.css'
2022-04-17 13:34:24,479 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /**/*.js'
2022-04-17 13:34:24,479 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/changeStateUserById'; against '/auth/**'
2022-04-17 13:34:24,480 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/changeStateUserById'; against '/user/**'
2022-04-17 13:34:24,480 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Secure object: FilterInvocation: URL: /api/user/changeStateUserById?id=1&newState=1; Attributes: [authenticated]
2022-04-17 13:34:24,480 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ab924706: Principal: com.mpos.prueba.security.JwtUser@50d3c074; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:34:24,480 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-10] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:34:24,480 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorization successful
2022-04-17 13:34:24,480 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] RunAsManager did not change Authentication object
2022-04-17 13:34:24,480 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/changeStateUserById?id=1&newState=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:34:24,481 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:34:24,481 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ab924706: Principal: com.mpos.prueba.security.JwtUser@50d3c074; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:34:24,482 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-10] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@53eef4df, returned: 1
2022-04-17 13:34:24,482 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorization successful
2022-04-17 13:34:24,482 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] RunAsManager did not change Authentication object
2022-04-17 13:34:24,496 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-10] Chain processed normally
2022-04-17 13:34:24,497 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-10] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:34:24,497 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:34:52,508 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryByName?name=Capilar at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:34:52,508 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryByName?name=Capilar at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:34:52,508 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryByName?name=Capilar at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:34:52,508 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryByName?name=Capilar at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:34:52,508 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:34:52,508 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/logout'
2022-04-17 13:34:52,509 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:34:52,509 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/productCategory/getProductCategoryByName' doesn't match 'POST /logout'
2022-04-17 13:34:52,509 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:34:52,509 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/productCategory/getProductCategoryByName' doesn't match 'PUT /logout'
2022-04-17 13:34:52,509 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:34:52,509 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/productCategory/getProductCategoryByName' doesn't match 'DELETE /logout'
2022-04-17 13:34:52,509 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 13:34:52,509 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryByName?name=Capilar at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:34:52,510 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user null
2022-04-17 13:34:52,511 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryByName?name=Capilar at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:34:52,511 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryByName?name=Capilar at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:34:52,511 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryByName?name=Capilar at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:34:52,511 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:34:52,511 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryByName?name=Capilar at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:34:52,511 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryByName?name=Capilar at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:34:52,511 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/getProductCategoryByName?name=Capilar at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:34:52,512 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/'
2022-04-17 13:34:52,512 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/*.html'
2022-04-17 13:34:52,512 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/favicon.ico'
2022-04-17 13:34:52,512 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/**/*.html'
2022-04-17 13:34:52,512 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/**/*.css'
2022-04-17 13:34:52,512 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/**/*.js'
2022-04-17 13:34:52,512 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/auth/**'
2022-04-17 13:34:52,512 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/user/**'
2022-04-17 13:34:52,513 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/productCategory/getProductCategoryByName?name=Capilar; Attributes: [authenticated]
2022-04-17 13:34:52,513 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:34:52,513 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: -1
2022-04-17 13:34:52,514 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 13:34:52,514 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Calling Authentication entry point.
2022-04-17 13:34:52,514 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:34:52,514 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:34:52,514 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:34:52,514 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:34:52,515 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:34:52,515 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:34:52,515 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:34:52,515 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/error'; against '/logout'
2022-04-17 13:34:52,515 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:34:52,515 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:34:52,515 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:34:52,515 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:34:52,515 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:34:52,515 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:34:52,515 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 13:34:52,515 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:34:52,516 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:34:52,516 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:34:52,516 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:34:52,516 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:34:52,516 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:34:52,516 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:34:52,516 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:34:52,516 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?name=Capilar reached end of additional filter chain; proceeding with original chain
2022-04-17 13:34:52,517 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 13:34:52,517 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:35:21,291 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryByName?name=Capilar at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:35:21,291 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryByName?name=Capilar at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:35:21,291 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryByName?name=Capilar at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:35:21,291 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryByName?name=Capilar at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:35:21,292 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:35:21,292 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/logout'
2022-04-17 13:35:21,292 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:35:21,292 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/productCategory/getProductCategoryByName' doesn't match 'POST /logout'
2022-04-17 13:35:21,292 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:35:21,292 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/productCategory/getProductCategoryByName' doesn't match 'PUT /logout'
2022-04-17 13:35:21,292 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:35:21,292 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/productCategory/getProductCategoryByName' doesn't match 'DELETE /logout'
2022-04-17 13:35:21,292 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 13:35:21,293 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryByName?name=Capilar at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:35:21,293 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user null
2022-04-17 13:35:21,293 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryByName?name=Capilar at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:35:21,293 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryByName?name=Capilar at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:35:21,293 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryByName?name=Capilar at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:35:21,294 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:35:21,294 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryByName?name=Capilar at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:35:21,294 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryByName?name=Capilar at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:35:21,294 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/productCategory/getProductCategoryByName?name=Capilar at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:35:21,294 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/'
2022-04-17 13:35:21,294 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/*.html'
2022-04-17 13:35:21,295 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/favicon.ico'
2022-04-17 13:35:21,295 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/**/*.html'
2022-04-17 13:35:21,295 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/**/*.css'
2022-04-17 13:35:21,295 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/**/*.js'
2022-04-17 13:35:21,295 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/auth/**'
2022-04-17 13:35:21,295 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/productCategory/getProductCategoryByName'; against '/user/**'
2022-04-17 13:35:21,296 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /api/productCategory/getProductCategoryByName?name=Capilar; Attributes: [authenticated]
2022-04-17 13:35:21,296 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:35:21,296 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: -1
2022-04-17 13:35:21,297 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 13:35:21,297 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Calling Authentication entry point.
2022-04-17 13:35:21,297 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:35:21,297 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:35:21,298 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:35:21,298 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:35:21,298 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:35:21,298 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:35:21,298 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:35:21,298 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/error'; against '/logout'
2022-04-17 13:35:21,298 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:35:21,298 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:35:21,299 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:35:21,299 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:35:21,299 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:35:21,299 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:35:21,299 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 13:35:21,299 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:35:21,299 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:35:21,299 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:35:21,299 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:35:21,299 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:35:21,299 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:35:21,300 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:35:21,300 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:35:21,300 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /error?name=Capilar reached end of additional filter chain; proceeding with original chain
2022-04-17 13:35:21,301 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 13:35:21,301 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:35:52,421 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/getProductCategoryById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:35:52,421 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/getProductCategoryById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:35:52,421 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/getProductCategoryById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:35:52,421 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/getProductCategoryById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:35:52,421 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:35:52,421 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/logout'
2022-04-17 13:35:52,421 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:35:52,421 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'POST /logout'
2022-04-17 13:35:52,422 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:35:52,422 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'PUT /logout'
2022-04-17 13:35:52,422 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:35:52,422 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'DELETE /logout'
2022-04-17 13:35:52,422 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 13:35:52,422 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/getProductCategoryById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:35:52,422 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] checking authentication for user null
2022-04-17 13:35:52,423 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/getProductCategoryById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:35:52,423 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/getProductCategoryById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:35:52,423 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/getProductCategoryById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:35:52,423 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:35:52,423 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/getProductCategoryById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:35:52,423 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/getProductCategoryById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:35:52,423 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/getProductCategoryById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:35:52,423 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/'
2022-04-17 13:35:52,424 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/*.html'
2022-04-17 13:35:52,424 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/favicon.ico'
2022-04-17 13:35:52,424 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.html'
2022-04-17 13:35:52,424 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.css'
2022-04-17 13:35:52,424 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.js'
2022-04-17 13:35:52,424 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/auth/**'
2022-04-17 13:35:52,424 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/user/**'
2022-04-17 13:35:52,424 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: FilterInvocation: URL: /api/productCategory/getProductCategoryById?id=1; Attributes: [authenticated]
2022-04-17 13:35:52,424 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:35:52,425 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: -1
2022-04-17 13:35:52,425 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 13:35:52,425 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Calling Authentication entry point.
2022-04-17 13:35:52,426 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-5] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:35:52,426 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:35:52,426 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:35:52,426 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:35:52,426 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:35:52,426 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:35:52,426 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:35:52,426 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/error'; against '/logout'
2022-04-17 13:35:52,426 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:35:52,426 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:35:52,427 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:35:52,427 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:35:52,427 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:35:52,427 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:35:52,427 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 13:35:52,427 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:35:52,427 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:35:52,427 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:35:52,427 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:35:52,427 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:35:52,427 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:35:52,427 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:35:52,428 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:35:52,428 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:35:52,429 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Chain processed normally
2022-04-17 13:35:52,429 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:36:01,864 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:36:01,865 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:36:01,865 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:36:01,865 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:36:01,865 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:36:01,865 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 13:36:01,865 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:36:01,865 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/auth'; against '/logout'
2022-04-17 13:36:01,865 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:36:01,866 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 13:36:01,866 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:36:01,866 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 13:36:01,866 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 13:36:01,866 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:36:01,866 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user null
2022-04-17 13:36:01,866 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:36:01,866 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:36:01,866 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:36:01,867 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:36:01,867 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:36:01,867 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:36:01,867 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:36:01,867 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 13:36:01,867 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 13:36:01,867 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 13:36:01,867 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 13:36:01,868 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 13:36:01,868 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 13:36:01,868 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 13:36:01,868 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 13:36:01,868 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:36:01,868 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:36:01,868 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 13:36:01,868 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 13:36:01,869 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 13:36:01,869 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-4] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 13:36:01,897 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-4] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:36:01,898 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Chain processed normally
2022-04-17 13:36:01,898 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:36:09,819 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:36:09,820 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:36:09,820 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:36:09,820 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:36:09,820 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:36:09,820 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/logout'
2022-04-17 13:36:09,820 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:36:09,820 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'POST /logout'
2022-04-17 13:36:09,820 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:36:09,820 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'PUT /logout'
2022-04-17 13:36:09,821 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:36:09,821 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'DELETE /logout'
2022-04-17 13:36:09,821 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 13:36:09,821 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:36:09,821 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] checking authentication for user null
2022-04-17 13:36:09,821 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:36:09,821 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:36:09,821 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:36:09,822 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:36:09,822 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:36:09,822 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:36:09,822 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:36:09,822 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/'
2022-04-17 13:36:09,822 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/*.html'
2022-04-17 13:36:09,822 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/favicon.ico'
2022-04-17 13:36:09,823 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.html'
2022-04-17 13:36:09,823 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.css'
2022-04-17 13:36:09,823 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.js'
2022-04-17 13:36:09,823 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/auth/**'
2022-04-17 13:36:09,823 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/user/**'
2022-04-17 13:36:09,823 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: FilterInvocation: URL: /api/productCategory/getProductCategoryById?id=1; Attributes: [authenticated]
2022-04-17 13:36:09,823 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:36:09,824 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: -1
2022-04-17 13:36:09,824 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 13:36:09,825 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Calling Authentication entry point.
2022-04-17 13:36:09,825 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-6] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:36:09,825 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:36:09,825 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:36:09,825 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:36:09,825 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:36:09,825 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:36:09,826 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:36:09,826 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/error'; against '/logout'
2022-04-17 13:36:09,826 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:36:09,826 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:36:09,826 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:36:09,826 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:36:09,826 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:36:09,826 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:36:09,826 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 13:36:09,826 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:36:09,826 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:36:09,827 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:36:09,827 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:36:09,827 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:36:09,827 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:36:09,827 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:36:09,827 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:36:09,827 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:36:09,829 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Chain processed normally
2022-04-17 13:36:09,829 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:37:07,780 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:37:07,781 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:37:07,781 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:37:07,781 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:37:07,781 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:37:07,781 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/logout'
2022-04-17 13:37:07,781 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:37:07,782 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'POST /logout'
2022-04-17 13:37:07,782 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:37:07,782 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'PUT /logout'
2022-04-17 13:37:07,782 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:37:07,782 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'DELETE /logout'
2022-04-17 13:37:07,782 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] No matches found
2022-04-17 13:37:07,782 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:37:07,782 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-7] checking authentication for user null
2022-04-17 13:37:07,783 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:37:07,783 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:37:07,783 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:37:07,783 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:37:07,783 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:37:07,783 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:37:07,783 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/productCategory/getProductCategoryById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:37:07,784 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/'
2022-04-17 13:37:07,784 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/*.html'
2022-04-17 13:37:07,784 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/favicon.ico'
2022-04-17 13:37:07,784 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.html'
2022-04-17 13:37:07,784 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.css'
2022-04-17 13:37:07,784 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.js'
2022-04-17 13:37:07,784 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/auth/**'
2022-04-17 13:37:07,784 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/user/**'
2022-04-17 13:37:07,785 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Secure object: FilterInvocation: URL: /api/productCategory/getProductCategoryById?id=1; Attributes: [authenticated]
2022-04-17 13:37:07,785 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:37:07,785 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-7] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: -1
2022-04-17 13:37:07,786 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 13:37:07,786 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Calling Authentication entry point.
2022-04-17 13:37:07,786 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-7] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:37:07,786 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:37:07,787 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:37:07,787 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:37:07,787 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:37:07,787 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:37:07,787 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:37:07,787 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/error'; against '/logout'
2022-04-17 13:37:07,787 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:37:07,787 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:37:07,787 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:37:07,787 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:37:07,787 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:37:07,787 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:37:07,788 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] No matches found
2022-04-17 13:37:07,788 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:37:07,788 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:37:07,788 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:37:07,788 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:37:07,788 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:37:07,788 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:37:07,788 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:37:07,788 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:37:07,789 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:37:07,790 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Chain processed normally
2022-04-17 13:37:07,790 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:42:44,349 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getProductById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:42:44,349 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getProductById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:42:44,349 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getProductById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:42:44,349 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getProductById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:42:44,350 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:42:44,350 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getProductById'; against '/logout'
2022-04-17 13:42:44,350 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:42:44,350 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getProductById' doesn't match 'POST /logout'
2022-04-17 13:42:44,350 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:42:44,350 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getProductById' doesn't match 'PUT /logout'
2022-04-17 13:42:44,350 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:42:44,350 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getProductById' doesn't match 'DELETE /logout'
2022-04-17 13:42:44,351 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 13:42:44,351 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getProductById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:42:44,351 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user null
2022-04-17 13:42:44,351 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getProductById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:42:44,352 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getProductById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:42:44,352 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getProductById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:42:44,352 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:42:44,352 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getProductById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:42:44,352 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getProductById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:42:44,352 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getProductById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:42:44,353 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getProductById'; against '/'
2022-04-17 13:42:44,353 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getProductById'; against '/*.html'
2022-04-17 13:42:44,353 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getProductById'; against '/favicon.ico'
2022-04-17 13:42:44,353 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getProductById'; against '/**/*.html'
2022-04-17 13:42:44,353 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getProductById'; against '/**/*.css'
2022-04-17 13:42:44,354 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getProductById'; against '/**/*.js'
2022-04-17 13:42:44,354 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getProductById'; against '/auth/**'
2022-04-17 13:42:44,354 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getProductById'; against '/user/**'
2022-04-17 13:42:44,354 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/user/getProductById?id=1; Attributes: [authenticated]
2022-04-17 13:42:44,354 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:42:44,355 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: -1
2022-04-17 13:42:44,355 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 13:42:44,356 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Calling Authentication entry point.
2022-04-17 13:42:44,356 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:42:44,356 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:42:44,356 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:42:44,356 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:42:44,356 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:42:44,356 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:42:44,356 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:42:44,356 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/error'; against '/logout'
2022-04-17 13:42:44,357 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:42:44,357 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 13:42:44,357 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:42:44,357 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 13:42:44,357 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:42:44,357 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 13:42:44,357 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 13:42:44,357 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:42:44,357 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:42:44,357 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:42:44,357 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:42:44,357 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:42:44,358 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:42:44,358 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:42:44,358 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:42:44,358 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:42:44,359 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 13:42:44,359 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:46:48,888 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:46:48,888 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:46:48,888 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:46:48,888 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:46:48,888 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:46:48,889 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 13:46:48,889 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:46:48,889 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/logout'
2022-04-17 13:46:48,889 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:46:48,889 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 13:46:48,889 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:46:48,889 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 13:46:48,889 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 13:46:48,889 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:46:48,890 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user null
2022-04-17 13:46:48,890 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:46:48,890 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:46:48,890 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:46:48,890 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:46:48,890 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:46:48,890 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:46:48,891 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:46:48,891 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 13:46:48,891 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 13:46:48,891 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 13:46:48,891 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 13:46:48,891 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 13:46:48,891 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 13:46:48,892 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 13:46:48,892 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 13:46:48,892 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@61a22e15: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:46:48,892 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:46:48,892 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 13:46:48,893 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 13:46:48,893 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 13:46:48,894 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-3] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 13:46:48,923 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:46:48,923 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 13:46:48,923 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:48:41,899 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/saveUpdateProduct at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:48:41,899 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/saveUpdateProduct at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:48:41,899 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/saveUpdateProduct at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:48:41,900 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/saveUpdateProduct at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:48:41,900 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:48:41,900 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /logout'
2022-04-17 13:48:41,900 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:48:41,900 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/saveUpdateProduct'; against '/logout'
2022-04-17 13:48:41,900 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:48:41,900 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/product/saveUpdateProduct' doesn't match 'PUT /logout'
2022-04-17 13:48:41,900 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:48:41,900 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/product/saveUpdateProduct' doesn't match 'DELETE /logout'
2022-04-17 13:48:41,900 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 13:48:41,901 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/saveUpdateProduct at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:48:41,902 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] checking authentication for user admin
2022-04-17 13:48:41,909 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] authenticated user admin, setting security context
2022-04-17 13:48:41,909 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/saveUpdateProduct at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:48:41,909 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/saveUpdateProduct at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:48:41,909 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/saveUpdateProduct at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:48:41,910 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@849b24bb: Principal: com.mpos.prueba.security.JwtUser@7fdaa3c9; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:48:41,910 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/saveUpdateProduct at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:48:41,910 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-6] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@46507dda
2022-04-17 13:48:41,910 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/saveUpdateProduct at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:48:41,910 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/saveUpdateProduct at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:48:41,910 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /'
2022-04-17 13:48:41,910 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /*.html'
2022-04-17 13:48:41,911 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /favicon.ico'
2022-04-17 13:48:41,911 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /**/*.html'
2022-04-17 13:48:41,911 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /**/*.css'
2022-04-17 13:48:41,911 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /**/*.js'
2022-04-17 13:48:41,911 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/saveUpdateProduct'; against '/auth/**'
2022-04-17 13:48:41,911 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/saveUpdateProduct'; against '/user/**'
2022-04-17 13:48:41,911 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: FilterInvocation: URL: /api/product/saveUpdateProduct; Attributes: [authenticated]
2022-04-17 13:48:41,911 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@849b24bb: Principal: com.mpos.prueba.security.JwtUser@7fdaa3c9; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:48:41,912 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:48:41,912 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorization successful
2022-04-17 13:48:41,912 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] RunAsManager did not change Authentication object
2022-04-17 13:48:41,912 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/saveUpdateProduct reached end of additional filter chain; proceeding with original chain
2022-04-17 13:49:08,781 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-6] SQL Error: 515, SQLState: 23000
2022-04-17 13:49:08,788 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-6] Cannot insert the value NULL into column 'product_category_id', table 'MposPrueba.dbo.product'; column does not allow nulls. INSERT fails.
2022-04-17 13:49:43,646 ERROR com.mpos.prueba.controllers.ProductRestController [http-nio-8080-exec-6] org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-04-17 13:49:43,648 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Chain processed normally
2022-04-17 13:49:43,648 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-6] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@57c13940
2022-04-17 13:49:43,648 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:49:51,072 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/product/saveUpdateProduct at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:49:51,072 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/product/saveUpdateProduct at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:49:51,072 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/product/saveUpdateProduct at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:49:51,072 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/product/saveUpdateProduct at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:49:51,072 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:49:51,073 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /logout'
2022-04-17 13:49:51,073 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:49:51,073 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/product/saveUpdateProduct'; against '/logout'
2022-04-17 13:49:51,073 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:49:51,073 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/product/saveUpdateProduct' doesn't match 'PUT /logout'
2022-04-17 13:49:51,073 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:49:51,073 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/product/saveUpdateProduct' doesn't match 'DELETE /logout'
2022-04-17 13:49:51,073 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] No matches found
2022-04-17 13:49:51,073 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/product/saveUpdateProduct at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:49:51,075 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-9] checking authentication for user admin
2022-04-17 13:49:51,088 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-9] authenticated user admin, setting security context
2022-04-17 13:49:51,089 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/product/saveUpdateProduct at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:49:51,089 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/product/saveUpdateProduct at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:49:51,089 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/product/saveUpdateProduct at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:49:51,089 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-9] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b4799046: Principal: com.mpos.prueba.security.JwtUser@4f381734; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:49:51,089 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/product/saveUpdateProduct at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:49:51,089 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-9] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@46507dda
2022-04-17 13:49:51,090 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/product/saveUpdateProduct at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:49:51,090 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/product/saveUpdateProduct at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:49:51,090 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /'
2022-04-17 13:49:51,090 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /*.html'
2022-04-17 13:49:51,090 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /favicon.ico'
2022-04-17 13:49:51,090 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /**/*.html'
2022-04-17 13:49:51,091 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /**/*.css'
2022-04-17 13:49:51,091 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /**/*.js'
2022-04-17 13:49:51,091 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/product/saveUpdateProduct'; against '/auth/**'
2022-04-17 13:49:51,091 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/product/saveUpdateProduct'; against '/user/**'
2022-04-17 13:49:51,091 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Secure object: FilterInvocation: URL: /api/product/saveUpdateProduct; Attributes: [authenticated]
2022-04-17 13:49:51,091 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b4799046: Principal: com.mpos.prueba.security.JwtUser@4f381734; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:49:51,091 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-9] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4215947d, returned: 1
2022-04-17 13:49:51,092 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorization successful
2022-04-17 13:49:51,092 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] RunAsManager did not change Authentication object
2022-04-17 13:49:51,092 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/product/saveUpdateProduct reached end of additional filter chain; proceeding with original chain
2022-04-17 13:54:42,916 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 34388 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 13:54:42,920 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 13:54:43,498 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 13:54:43,564 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 61ms. Found 3 repository interfaces.
2022-04-17 13:54:43,836 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1445ff76] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:54:43,867 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$acf3c7b0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:54:43,871 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:54:43,873 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6ab4a5b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:54:43,874 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$d1c86a62] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:54:43,877 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 13:54:44,240 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 13:54:44,262 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 13:54:44,262 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 13:54:44,272 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 13:54:44,363 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1409 ms
2022-04-17 13:54:44,623 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 13:54:45,032 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 13:54:45,090 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 13:54:45,161 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 13:54:45,164 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 13:54:45,340 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 13:54:45,513 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 13:54:46,580 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 13:54:47,169 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$b708ff68@2d5d001f}
2022-04-17 13:54:47,230 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:54:47,252 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:54:47,260 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 13:54:47,270 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:54:47,271 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutority(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:54:47,271 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:54:47,271 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:54:47,271 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:54:47,272 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:54:47,272 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:54:47,272 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:54:47,272 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 13:54:47,273 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 13:54:47,371 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 13:54:47,372 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 13:54:47,372 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 13:54:47,372 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 13:54:47,373 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 13:54:47,373 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 13:54:47,373 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 13:54:47,373 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 13:54:47,373 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 13:54:47,375 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 13:54:47,375 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 13:54:47,377 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c930e7e, org.springframework.security.web.context.SecurityContextPersistenceFilter@6075a4ea, org.springframework.security.web.header.HeaderWriterFilter@1248f83, org.springframework.security.web.authentication.logout.LogoutFilter@6e80de85, com.mpos.prueba.security.JwtAuthenticationTokenFilter@156eeff1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f2169e9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7891742e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e69bf78, org.springframework.security.web.session.SessionManagementFilter@1edf52e6, org.springframework.security.web.access.ExceptionTranslationFilter@4be1c797, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f629aa4]
2022-04-17 13:54:47,540 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 13:54:47,592 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 13:54:47,799 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 13:54:47,800 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.242 seconds (JVM running for 6.018)
2022-04-17 13:55:10,198 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 13:55:10,208 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 9 ms
2022-04-17 13:55:10,218 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/saveUpdateProduct at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:55:10,219 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/saveUpdateProduct at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:55:10,221 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/saveUpdateProduct at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:55:10,223 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/saveUpdateProduct at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:55:10,224 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:55:10,224 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /logout'
2022-04-17 13:55:10,224 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:55:10,224 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/product/saveUpdateProduct'; against '/logout'
2022-04-17 13:55:10,224 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:55:10,224 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/product/saveUpdateProduct' doesn't match 'PUT /logout'
2022-04-17 13:55:10,225 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:55:10,225 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/product/saveUpdateProduct' doesn't match 'DELETE /logout'
2022-04-17 13:55:10,225 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 13:55:10,225 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/saveUpdateProduct at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:55:10,282 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user admin
2022-04-17 13:55:10,306 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-2] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 13:55:10,466 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] authenticated user admin, setting security context
2022-04-17 13:55:14,397 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/saveUpdateProduct at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:55:14,398 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/saveUpdateProduct at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:55:14,400 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/saveUpdateProduct at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:55:14,400 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fefdb58c: Principal: com.mpos.prueba.security.JwtUser@5bc32fe; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:55:14,400 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/saveUpdateProduct at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:55:14,401 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-2] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@294bb6ae
2022-04-17 13:55:14,401 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/saveUpdateProduct at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:55:14,401 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/saveUpdateProduct at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:55:14,403 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /'
2022-04-17 13:55:14,403 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /*.html'
2022-04-17 13:55:14,403 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /favicon.ico'
2022-04-17 13:55:14,403 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /**/*.html'
2022-04-17 13:55:14,403 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /**/*.css'
2022-04-17 13:55:14,404 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/product/saveUpdateProduct' doesn't match 'GET /**/*.js'
2022-04-17 13:55:14,404 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/product/saveUpdateProduct'; against '/auth/**'
2022-04-17 13:55:14,404 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/product/saveUpdateProduct'; against '/user/**'
2022-04-17 13:55:14,404 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/product/saveUpdateProduct; Attributes: [authenticated]
2022-04-17 13:55:14,404 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fefdb58c: Principal: com.mpos.prueba.security.JwtUser@5bc32fe; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:55:14,409 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@73af5cd0, returned: 1
2022-04-17 13:55:14,409 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 13:55:14,409 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 13:55:14,409 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/saveUpdateProduct reached end of additional filter chain; proceeding with original chain
2022-04-17 13:55:33,279 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 13:55:33,279 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@39415b3
2022-04-17 13:55:33,280 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:56:21,526 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:56:21,526 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:56:21,526 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:56:21,527 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:56:21,527 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:56:21,527 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 13:56:21,527 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:56:21,527 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/logout'
2022-04-17 13:56:21,528 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:56:21,528 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 13:56:21,528 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:56:21,528 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 13:56:21,528 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 13:56:21,528 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:56:21,528 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user null
2022-04-17 13:56:25,022 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:56:25,023 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:56:25,023 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:56:25,024 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@c73e3dfe: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 13:56:25,024 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:56:25,024 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:56:25,024 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:56:25,024 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 13:56:25,025 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 13:56:25,025 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 13:56:25,025 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 13:56:25,025 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 13:56:25,025 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 13:56:25,026 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 13:56:25,026 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 13:56:25,026 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@c73e3dfe: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 13:56:25,028 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@73af5cd0, returned: 1
2022-04-17 13:56:25,028 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 13:56:25,028 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 13:56:25,028 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 13:56:25,030 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-3] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 13:56:25,182 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@39415b3
2022-04-17 13:56:25,184 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 13:56:25,185 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:56:42,155 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/product/getProductById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:56:42,156 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/product/getProductById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:56:42,156 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/product/getProductById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:56:42,156 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/product/getProductById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:56:42,156 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:56:42,156 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/product/getProductById'; against '/logout'
2022-04-17 13:56:42,156 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:56:42,156 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/product/getProductById' doesn't match 'POST /logout'
2022-04-17 13:56:42,157 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:56:42,157 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/product/getProductById' doesn't match 'PUT /logout'
2022-04-17 13:56:42,157 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:56:42,157 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/product/getProductById' doesn't match 'DELETE /logout'
2022-04-17 13:56:42,157 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 13:56:42,157 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/product/getProductById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:56:42,159 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user admin
2022-04-17 13:56:42,167 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] authenticated user admin, setting security context
2022-04-17 13:56:42,167 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/product/getProductById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:56:42,167 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/product/getProductById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:56:42,167 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/product/getProductById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:56:42,167 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d48e10e4: Principal: com.mpos.prueba.security.JwtUser@2fcf9796; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:56:42,167 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/product/getProductById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:56:42,168 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-4] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@294bb6ae
2022-04-17 13:56:42,168 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/product/getProductById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:56:42,168 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/product/getProductById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:56:42,168 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/product/getProductById'; against '/'
2022-04-17 13:56:42,168 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/product/getProductById'; against '/*.html'
2022-04-17 13:56:42,168 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/product/getProductById'; against '/favicon.ico'
2022-04-17 13:56:42,168 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/product/getProductById'; against '/**/*.html'
2022-04-17 13:56:42,169 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/product/getProductById'; against '/**/*.css'
2022-04-17 13:56:42,169 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/product/getProductById'; against '/**/*.js'
2022-04-17 13:56:42,169 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/product/getProductById'; against '/auth/**'
2022-04-17 13:56:42,169 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/product/getProductById'; against '/user/**'
2022-04-17 13:56:42,169 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /api/product/getProductById?id=1; Attributes: [authenticated]
2022-04-17 13:56:42,169 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d48e10e4: Principal: com.mpos.prueba.security.JwtUser@2fcf9796; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:56:42,170 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@73af5cd0, returned: 1
2022-04-17 13:56:42,170 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 13:56:42,170 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 13:56:42,170 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/product/getProductById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:56:42,175 ERROR com.mpos.prueba.controllers.ProductRestController [http-nio-8080-exec-4] java.util.NoSuchElementException: No value present
2022-04-17 13:56:42,176 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Chain processed normally
2022-04-17 13:56:42,176 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-4] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@39415b3
2022-04-17 13:56:42,176 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:57:41,853 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductById?id=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:57:41,854 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductById?id=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:57:41,854 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductById?id=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:57:41,854 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductById?id=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:57:41,854 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:57:41,854 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductById'; against '/logout'
2022-04-17 13:57:41,855 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:57:41,855 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/product/getProductById' doesn't match 'POST /logout'
2022-04-17 13:57:41,855 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:57:41,855 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/product/getProductById' doesn't match 'PUT /logout'
2022-04-17 13:57:41,855 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:57:41,855 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/product/getProductById' doesn't match 'DELETE /logout'
2022-04-17 13:57:41,855 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 13:57:41,856 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductById?id=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:57:41,858 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] checking authentication for user admin
2022-04-17 13:57:41,865 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] authenticated user admin, setting security context
2022-04-17 13:57:41,866 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductById?id=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:57:41,866 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductById?id=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:57:41,866 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductById?id=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:57:41,866 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fd4fbce2: Principal: com.mpos.prueba.security.JwtUser@60e3b90; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:57:41,866 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductById?id=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:57:41,866 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-6] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@294bb6ae
2022-04-17 13:57:41,866 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductById?id=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:57:41,866 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductById?id=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:57:41,867 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductById'; against '/'
2022-04-17 13:57:41,867 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductById'; against '/*.html'
2022-04-17 13:57:41,867 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductById'; against '/favicon.ico'
2022-04-17 13:57:41,867 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductById'; against '/**/*.html'
2022-04-17 13:57:41,867 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductById'; against '/**/*.css'
2022-04-17 13:57:41,867 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductById'; against '/**/*.js'
2022-04-17 13:57:41,867 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductById'; against '/auth/**'
2022-04-17 13:57:41,867 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductById'; against '/user/**'
2022-04-17 13:57:41,868 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: FilterInvocation: URL: /api/product/getProductById?id=2; Attributes: [authenticated]
2022-04-17 13:57:41,868 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fd4fbce2: Principal: com.mpos.prueba.security.JwtUser@60e3b90; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:57:41,868 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@73af5cd0, returned: 1
2022-04-17 13:57:41,868 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorization successful
2022-04-17 13:57:41,868 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] RunAsManager did not change Authentication object
2022-04-17 13:57:41,868 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductById?id=2 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:57:41,901 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-6] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@39415b3
2022-04-17 13:57:42,028 WARN org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver [http-nio-8080-exec-6] Failure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]
java.lang.IllegalStateException: Cannot call sendError() after the response has been committed
	at org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:472)
	at javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:129)
	at javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:129)
	at org.springframework.security.web.util.OnCommittedResponseWrapper.sendError(OnCommittedResponseWrapper.java:109)
	at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.sendServerError(DefaultHandlerExceptionResolver.java:549)
	at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.handleHttpMessageNotWritable(DefaultHandlerExceptionResolver.java:439)
	at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.doResolveException(DefaultHandlerExceptionResolver.java:209)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:139)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1297)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1109)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 13:57:42,030 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 13:58:37,944 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductById?id=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 13:58:37,945 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductById?id=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 13:58:37,945 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductById?id=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 13:58:37,945 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductById?id=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 13:58:37,945 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 13:58:37,945 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductById'; against '/logout'
2022-04-17 13:58:37,946 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 13:58:37,946 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/product/getProductById' doesn't match 'POST /logout'
2022-04-17 13:58:37,946 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 13:58:37,946 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/product/getProductById' doesn't match 'PUT /logout'
2022-04-17 13:58:37,946 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 13:58:37,946 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/product/getProductById' doesn't match 'DELETE /logout'
2022-04-17 13:58:37,946 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 13:58:37,947 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductById?id=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 13:58:37,948 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] checking authentication for user admin
2022-04-17 13:58:37,955 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] authenticated user admin, setting security context
2022-04-17 13:58:37,955 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductById?id=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 13:58:37,955 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductById?id=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 13:58:37,955 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductById?id=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 13:58:37,956 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8406ef3d: Principal: com.mpos.prueba.security.JwtUser@7f47684f; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 13:58:37,956 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductById?id=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 13:58:37,956 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-8] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@294bb6ae
2022-04-17 13:58:37,956 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductById?id=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 13:58:37,957 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductById?id=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 13:58:37,957 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductById'; against '/'
2022-04-17 13:58:37,957 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductById'; against '/*.html'
2022-04-17 13:58:37,957 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductById'; against '/favicon.ico'
2022-04-17 13:58:37,957 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductById'; against '/**/*.html'
2022-04-17 13:58:37,958 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductById'; against '/**/*.css'
2022-04-17 13:58:37,958 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductById'; against '/**/*.js'
2022-04-17 13:58:37,958 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductById'; against '/auth/**'
2022-04-17 13:58:37,958 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductById'; against '/user/**'
2022-04-17 13:58:37,958 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Secure object: FilterInvocation: URL: /api/product/getProductById?id=2; Attributes: [authenticated]
2022-04-17 13:58:37,958 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8406ef3d: Principal: com.mpos.prueba.security.JwtUser@7f47684f; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 13:58:37,959 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-8] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@73af5cd0, returned: 1
2022-04-17 13:58:37,959 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorization successful
2022-04-17 13:58:37,959 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] RunAsManager did not change Authentication object
2022-04-17 13:58:37,959 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductById?id=2 reached end of additional filter chain; proceeding with original chain
2022-04-17 13:59:57,234 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-8] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@39415b3
2022-04-17 13:59:57,330 WARN org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver [http-nio-8080-exec-8] Failure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]
java.lang.IllegalStateException: Cannot call sendError() after the response has been committed
	at org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:472)
	at javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:129)
	at javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:129)
	at org.springframework.security.web.util.OnCommittedResponseWrapper.sendError(OnCommittedResponseWrapper.java:109)
	at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.sendServerError(DefaultHandlerExceptionResolver.java:549)
	at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.handleHttpMessageNotWritable(DefaultHandlerExceptionResolver.java:439)
	at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.doResolveException(DefaultHandlerExceptionResolver.java:209)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:139)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1297)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1109)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 13:59:57,331 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:05:06,417 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 25868 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 14:05:06,421 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 14:05:07,054 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 14:05:07,124 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 64ms. Found 3 repository interfaces.
2022-04-17 14:05:07,405 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fdce8155] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:05:07,438 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$967c498f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:05:07,442 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:05:07,443 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@623dcf2a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:05:07,446 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$bb50ec41] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:05:07,449 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:05:07,779 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 14:05:07,798 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 14:05:07,799 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 14:05:07,807 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 14:05:07,905 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1448 ms
2022-04-17 14:05:08,179 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 14:05:08,554 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 14:05:08,607 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 14:05:08,679 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 14:05:08,681 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 14:05:08,853 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 14:05:09,032 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 14:05:10,171 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 14:05:10,799 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$a0918147@1b6683c4}
2022-04-17 14:05:10,869 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:05:10,890 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:05:10,899 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 14:05:10,910 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:05:10,911 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:05:10,911 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:05:10,911 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:05:10,912 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:05:10,912 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutority(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:05:10,912 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:05:10,913 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:05:10,913 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:05:10,913 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:05:11,021 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 14:05:11,022 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 14:05:11,022 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 14:05:11,022 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 14:05:11,022 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 14:05:11,022 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 14:05:11,022 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 14:05:11,023 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 14:05:11,023 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 14:05:11,024 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 14:05:11,024 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 14:05:11,027 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@43b3b1b0, org.springframework.security.web.context.SecurityContextPersistenceFilter@60f1f95b, org.springframework.security.web.header.HeaderWriterFilter@6b338591, org.springframework.security.web.authentication.logout.LogoutFilter@4d6027be, com.mpos.prueba.security.JwtAuthenticationTokenFilter@138b9abe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ddb6abb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10e4ce98, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f6d8c9, org.springframework.security.web.session.SessionManagementFilter@51a69e8f, org.springframework.security.web.access.ExceptionTranslationFilter@239bc43f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6ae6a77b]
2022-04-17 14:05:11,187 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 14:05:11,241 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 14:05:11,443 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 14:05:11,444 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.399 seconds (JVM running for 6.19)
2022-04-17 14:05:21,303 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-04-17 14:05:21,311 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 8 ms
2022-04-17 14:05:21,322 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:05:21,323 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:05:21,325 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:05:21,327 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:05:21,327 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:05:21,328 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/logout'
2022-04-17 14:05:21,328 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:05:21,328 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/product/getProductById' doesn't match 'POST /logout'
2022-04-17 14:05:21,328 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:05:21,328 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/product/getProductById' doesn't match 'PUT /logout'
2022-04-17 14:05:21,328 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:05:21,328 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/product/getProductById' doesn't match 'DELETE /logout'
2022-04-17 14:05:21,328 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 14:05:21,329 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:05:21,386 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user admin
2022-04-17 14:05:21,407 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-1] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 14:05:21,571 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] authenticated user admin, setting security context
2022-04-17 14:05:21,571 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:05:21,571 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:05:21,572 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:05:21,573 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f69763c8: Principal: com.mpos.prueba.security.JwtUser@dd6e4ba; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 14:05:21,573 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:05:21,573 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-1] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@3a00237d
2022-04-17 14:05:21,573 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:05:21,573 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:05:21,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/'
2022-04-17 14:05:21,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/*.html'
2022-04-17 14:05:21,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/favicon.ico'
2022-04-17 14:05:21,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/**/*.html'
2022-04-17 14:05:21,575 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/**/*.css'
2022-04-17 14:05:21,575 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/**/*.js'
2022-04-17 14:05:21,575 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/auth/**'
2022-04-17 14:05:21,575 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/user/**'
2022-04-17 14:05:21,575 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/product/getProductById?id=2; Attributes: [authenticated]
2022-04-17 14:05:21,576 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f69763c8: Principal: com.mpos.prueba.security.JwtUser@dd6e4ba; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 14:05:21,579 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7f7215ed, returned: 1
2022-04-17 14:05:21,580 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorization successful
2022-04-17 14:05:21,580 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] RunAsManager did not change Authentication object
2022-04-17 14:05:21,580 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 reached end of additional filter chain; proceeding with original chain
2022-04-17 14:08:23,212 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@606178da
2022-04-17 14:08:23,216 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 14:08:23,216 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:16:33,756 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 19848 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 14:16:33,760 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 14:16:34,377 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 14:16:34,446 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 62ms. Found 3 repository interfaces.
2022-04-17 14:16:34,734 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a7f34eaa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:16:34,766 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$40a116e4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:16:34,770 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:16:34,771 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2e6f610d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:16:34,774 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$6575b996] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:16:34,777 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:16:35,112 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 14:16:35,135 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 14:16:35,136 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 14:16:35,146 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 14:16:35,242 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1444 ms
2022-04-17 14:16:35,525 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 14:16:35,957 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 14:16:36,021 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 14:16:36,100 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 14:16:36,102 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 14:16:36,288 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 14:16:36,475 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 14:16:37,637 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 14:16:38,267 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$4ab64e9c@434b2e0c}
2022-04-17 14:16:38,330 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:16:38,354 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:16:38,365 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 14:16:38,378 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:16:38,379 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutority(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:16:38,379 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:16:38,379 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:16:38,379 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:16:38,380 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:16:38,380 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:16:38,380 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:16:38,381 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:16:38,381 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:16:38,490 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 14:16:38,491 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 14:16:38,491 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 14:16:38,491 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 14:16:38,491 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 14:16:38,492 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 14:16:38,492 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 14:16:38,492 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 14:16:38,492 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 14:16:38,494 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 14:16:38,494 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 14:16:38,496 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d67bf4d, org.springframework.security.web.context.SecurityContextPersistenceFilter@736f2fb8, org.springframework.security.web.header.HeaderWriterFilter@37b5a51c, org.springframework.security.web.authentication.logout.LogoutFilter@752ffce3, com.mpos.prueba.security.JwtAuthenticationTokenFilter@1ff23bd1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d8096ee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7fa8fff, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31de8099, org.springframework.security.web.session.SessionManagementFilter@24a807a9, org.springframework.security.web.access.ExceptionTranslationFilter@61f08aa9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1018f702]
2022-04-17 14:16:38,667 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 14:16:38,722 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 14:16:38,926 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 14:16:38,927 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.562 seconds (JVM running for 6.404)
2022-04-17 14:16:52,674 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 14:16:52,683 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 9 ms
2022-04-17 14:16:52,693 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:16:52,694 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:16:52,695 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:16:52,699 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:16:52,699 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:16:52,699 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 14:16:52,699 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:16:52,700 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/auth'; against '/logout'
2022-04-17 14:16:52,700 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:16:52,700 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 14:16:52,700 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:16:52,700 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 14:16:52,701 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 14:16:52,701 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:16:52,715 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user null
2022-04-17 14:16:52,716 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:16:52,716 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:16:52,717 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:16:52,718 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@25078b5a: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 14:16:52,718 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:16:52,719 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:16:52,719 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:16:52,719 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 14:16:52,719 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 14:16:52,720 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 14:16:52,720 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 14:16:52,720 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 14:16:52,720 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 14:16:52,720 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 14:16:52,720 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 14:16:52,721 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@25078b5a: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 14:16:52,725 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@206dfd0d, returned: 1
2022-04-17 14:16:52,725 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 14:16:52,725 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 14:16:52,726 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 14:17:00,439 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-2] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 14:17:00,558 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-2] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 14:17:04,583 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3c308a1c
2022-04-17 14:17:04,588 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 14:17:04,588 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:17:21,407 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:17:21,408 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:17:21,408 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:17:21,408 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:17:21,408 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:17:21,408 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/logout'
2022-04-17 14:17:21,408 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:17:21,409 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/product/getProductById' doesn't match 'POST /logout'
2022-04-17 14:17:21,409 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:17:21,409 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/product/getProductById' doesn't match 'PUT /logout'
2022-04-17 14:17:21,409 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:17:21,409 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/product/getProductById' doesn't match 'DELETE /logout'
2022-04-17 14:17:21,410 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 14:17:21,410 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:17:21,428 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user admin
2022-04-17 14:17:21,452 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] authenticated user admin, setting security context
2022-04-17 14:17:21,452 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:17:21,452 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:17:21,452 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:17:21,452 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a4591bd2: Principal: com.mpos.prueba.security.JwtUser@5f189ca0; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 14:17:21,453 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:17:21,453 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-1] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@30ca66c5
2022-04-17 14:17:21,453 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:17:21,453 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:17:21,453 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/'
2022-04-17 14:17:21,454 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/*.html'
2022-04-17 14:17:21,454 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/favicon.ico'
2022-04-17 14:17:21,454 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/**/*.html'
2022-04-17 14:17:21,454 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/**/*.css'
2022-04-17 14:17:21,454 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/**/*.js'
2022-04-17 14:17:21,454 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/auth/**'
2022-04-17 14:17:21,455 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/getProductById'; against '/user/**'
2022-04-17 14:17:21,455 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/product/getProductById?id=2; Attributes: [authenticated]
2022-04-17 14:17:21,455 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a4591bd2: Principal: com.mpos.prueba.security.JwtUser@5f189ca0; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 14:17:21,455 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@206dfd0d, returned: 1
2022-04-17 14:17:21,456 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorization successful
2022-04-17 14:17:21,456 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] RunAsManager did not change Authentication object
2022-04-17 14:17:21,456 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/getProductById?id=2 reached end of additional filter chain; proceeding with original chain
2022-04-17 14:17:26,017 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3c308a1c
2022-04-17 14:17:26,018 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 14:17:26,019 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:19:23,491 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:19:23,492 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:19:23,493 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:19:23,493 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:19:23,493 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:19:23,493 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/logout'
2022-04-17 14:19:23,493 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:19:23,493 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'POST /logout'
2022-04-17 14:19:23,494 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:19:23,494 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'PUT /logout'
2022-04-17 14:19:23,494 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:19:23,494 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/productCategory/getProductCategoryById' doesn't match 'DELETE /logout'
2022-04-17 14:19:23,494 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 14:19:23,494 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:19:23,498 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] checking authentication for user admin
2022-04-17 14:19:23,511 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] authenticated user admin, setting security context
2022-04-17 14:19:23,511 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:19:23,511 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:19:23,512 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:19:23,512 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fbf607ab: Principal: com.mpos.prueba.security.JwtUser@b780d9; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 14:19:23,512 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:19:23,512 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-6] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@30ca66c5
2022-04-17 14:19:23,512 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:19:23,512 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:19:23,513 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/'
2022-04-17 14:19:23,513 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/*.html'
2022-04-17 14:19:23,513 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/favicon.ico'
2022-04-17 14:19:23,513 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.html'
2022-04-17 14:19:23,513 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.css'
2022-04-17 14:19:23,514 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/**/*.js'
2022-04-17 14:19:23,514 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/auth/**'
2022-04-17 14:19:23,514 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/productCategory/getProductCategoryById'; against '/user/**'
2022-04-17 14:19:23,514 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: FilterInvocation: URL: /api/productCategory/getProductCategoryById?id=1; Attributes: [authenticated]
2022-04-17 14:19:23,514 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fbf607ab: Principal: com.mpos.prueba.security.JwtUser@b780d9; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 14:19:23,515 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@206dfd0d, returned: 1
2022-04-17 14:19:23,515 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorization successful
2022-04-17 14:19:23,515 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] RunAsManager did not change Authentication object
2022-04-17 14:19:23,515 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/productCategory/getProductCategoryById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 14:19:23,524 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-6] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3c308a1c
2022-04-17 14:19:23,525 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Chain processed normally
2022-04-17 14:19:23,525 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:19:32,761 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/product/getProductByName?name=Shampoo%20 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:19:32,761 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/product/getProductByName?name=Shampoo%20 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:19:32,761 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/product/getProductByName?name=Shampoo%20 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:19:32,762 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/product/getProductByName?name=Shampoo%20 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:19:32,762 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:19:32,762 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/product/getProductByName'; against '/logout'
2022-04-17 14:19:32,762 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:19:32,762 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/product/getProductByName' doesn't match 'POST /logout'
2022-04-17 14:19:32,762 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:19:32,762 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/product/getProductByName' doesn't match 'PUT /logout'
2022-04-17 14:19:32,763 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:19:32,763 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/product/getProductByName' doesn't match 'DELETE /logout'
2022-04-17 14:19:32,763 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] No matches found
2022-04-17 14:19:32,763 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/product/getProductByName?name=Shampoo%20 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:19:32,763 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-7] checking authentication for user null
2022-04-17 14:19:32,763 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/product/getProductByName?name=Shampoo%20 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:19:32,763 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/product/getProductByName?name=Shampoo%20 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:19:32,764 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/product/getProductByName?name=Shampoo%20 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:19:32,764 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@25078b5a: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 14:19:32,764 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/product/getProductByName?name=Shampoo%20 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:19:32,764 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/product/getProductByName?name=Shampoo%20 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:19:32,764 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/product/getProductByName?name=Shampoo%20 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:19:32,764 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/product/getProductByName'; against '/'
2022-04-17 14:19:32,765 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/product/getProductByName'; against '/*.html'
2022-04-17 14:19:32,765 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/product/getProductByName'; against '/favicon.ico'
2022-04-17 14:19:32,765 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/product/getProductByName'; against '/**/*.html'
2022-04-17 14:19:32,765 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/product/getProductByName'; against '/**/*.css'
2022-04-17 14:19:32,765 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/product/getProductByName'; against '/**/*.js'
2022-04-17 14:19:32,765 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/product/getProductByName'; against '/auth/**'
2022-04-17 14:19:32,765 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/product/getProductByName'; against '/user/**'
2022-04-17 14:19:32,766 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Secure object: FilterInvocation: URL: /api/product/getProductByName?name=Shampoo%20; Attributes: [authenticated]
2022-04-17 14:19:32,766 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@25078b5a: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 14:19:32,766 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-7] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@206dfd0d, returned: -1
2022-04-17 14:19:32,773 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 14:19:32,777 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Calling Authentication entry point.
2022-04-17 14:19:32,777 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-7] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3c308a1c
2022-04-17 14:19:32,777 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:19:32,779 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?name=Shampoo%20 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:19:32,780 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?name=Shampoo%20 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:19:32,780 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?name=Shampoo%20 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:19:32,780 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?name=Shampoo%20 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:19:32,780 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:19:32,780 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/error'; against '/logout'
2022-04-17 14:19:32,780 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:19:32,780 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 14:19:32,780 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:19:32,780 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 14:19:32,781 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:19:32,781 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 14:19:32,781 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] No matches found
2022-04-17 14:19:32,781 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?name=Shampoo%20 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:19:32,781 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?name=Shampoo%20 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:19:32,781 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?name=Shampoo%20 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:19:32,781 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?name=Shampoo%20 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:19:32,781 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@25078b5a: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 14:19:32,781 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?name=Shampoo%20 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:19:32,781 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?name=Shampoo%20 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:19:32,782 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?name=Shampoo%20 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:19:32,782 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /error?name=Shampoo%20 reached end of additional filter chain; proceeding with original chain
2022-04-17 14:19:32,793 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Chain processed normally
2022-04-17 14:19:32,793 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:19:39,752 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductByName?name=Shampoo%20 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:19:39,753 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductByName?name=Shampoo%20 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:19:39,753 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductByName?name=Shampoo%20 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:19:39,754 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductByName?name=Shampoo%20 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:19:39,754 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:19:39,754 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductByName'; against '/logout'
2022-04-17 14:19:39,754 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:19:39,754 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/product/getProductByName' doesn't match 'POST /logout'
2022-04-17 14:19:39,754 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:19:39,755 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/product/getProductByName' doesn't match 'PUT /logout'
2022-04-17 14:19:39,755 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:19:39,755 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/product/getProductByName' doesn't match 'DELETE /logout'
2022-04-17 14:19:39,755 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 14:19:39,755 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductByName?name=Shampoo%20 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:19:39,756 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] checking authentication for user admin
2022-04-17 14:19:39,765 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] authenticated user admin, setting security context
2022-04-17 14:19:39,766 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductByName?name=Shampoo%20 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:19:39,766 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductByName?name=Shampoo%20 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:19:39,766 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductByName?name=Shampoo%20 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:19:39,767 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@80652335: Principal: com.mpos.prueba.security.JwtUser@7b24a447; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 14:19:39,767 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductByName?name=Shampoo%20 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:19:39,767 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-8] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@30ca66c5
2022-04-17 14:19:39,767 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductByName?name=Shampoo%20 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:19:39,767 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductByName?name=Shampoo%20 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:19:39,768 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductByName'; against '/'
2022-04-17 14:19:39,768 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductByName'; against '/*.html'
2022-04-17 14:19:39,768 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductByName'; against '/favicon.ico'
2022-04-17 14:19:39,768 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductByName'; against '/**/*.html'
2022-04-17 14:19:39,768 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductByName'; against '/**/*.css'
2022-04-17 14:19:39,769 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductByName'; against '/**/*.js'
2022-04-17 14:19:39,769 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductByName'; against '/auth/**'
2022-04-17 14:19:39,769 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductByName'; against '/user/**'
2022-04-17 14:19:39,769 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Secure object: FilterInvocation: URL: /api/product/getProductByName?name=Shampoo%20; Attributes: [authenticated]
2022-04-17 14:19:39,769 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@80652335: Principal: com.mpos.prueba.security.JwtUser@7b24a447; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 14:19:39,770 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-8] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@206dfd0d, returned: 1
2022-04-17 14:19:39,770 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorization successful
2022-04-17 14:19:39,770 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] RunAsManager did not change Authentication object
2022-04-17 14:19:39,770 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductByName?name=Shampoo%20 reached end of additional filter chain; proceeding with original chain
2022-04-17 14:19:39,780 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-8] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3c308a1c
2022-04-17 14:19:39,781 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-8] Chain processed normally
2022-04-17 14:19:39,781 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:26:36,672 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 24248 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 14:26:36,675 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 14:26:37,344 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 14:26:37,413 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 63ms. Found 3 repository interfaces.
2022-04-17 14:26:37,713 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$35d95b3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:26:37,744 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$9c0b5ded] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:26:37,749 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:26:37,751 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@a2ddf26' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:26:37,753 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$c0e0009f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:26:37,756 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:26:38,114 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 14:26:38,137 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 14:26:38,138 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 14:26:38,151 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 14:26:38,257 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1548 ms
2022-04-17 14:26:38,523 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 14:26:38,940 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 14:26:39,001 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 14:26:39,081 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 14:26:39,083 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 14:26:39,268 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 14:26:39,451 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 14:26:40,645 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 14:26:41,274 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$a62095a5@4a49919c}
2022-04-17 14:26:41,321 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:26:41,341 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:26:41,351 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 14:26:41,363 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:26:41,363 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:26:41,364 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:26:41,364 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:26:41,364 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:26:41,365 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:26:41,365 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:26:41,365 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:26:41,365 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:26:41,366 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:26:41,459 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 14:26:41,460 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 14:26:41,460 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 14:26:41,460 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 14:26:41,460 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 14:26:41,461 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 14:26:41,461 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 14:26:41,461 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 14:26:41,461 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 14:26:41,463 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 14:26:41,463 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 14:26:41,466 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31de8099, org.springframework.security.web.context.SecurityContextPersistenceFilter@aca594d, org.springframework.security.web.header.HeaderWriterFilter@1a1f22f2, org.springframework.security.web.authentication.logout.LogoutFilter@270be080, com.mpos.prueba.security.JwtAuthenticationTokenFilter@729c8def, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9715d26, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79ae3fb1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40d04cf8, org.springframework.security.web.session.SessionManagementFilter@44e7c06b, org.springframework.security.web.access.ExceptionTranslationFilter@e2ee348, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5400db7e]
2022-04-17 14:26:41,636 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 14:26:41,690 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 14:26:41,893 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 14:26:41,895 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.593 seconds (JVM running for 6.364)
2022-04-17 14:26:53,118 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-04-17 14:26:53,127 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 9 ms
2022-04-17 14:26:53,138 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUsersByAutorityId?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:26:53,139 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUsersByAutorityId?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:26:53,141 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUsersByAutorityId?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:26:53,144 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUsersByAutorityId?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:26:53,144 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:26:53,145 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUsersByAutorityId'; against '/logout'
2022-04-17 14:26:53,145 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:26:53,145 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'POST /logout'
2022-04-17 14:26:53,145 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:26:53,146 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'PUT /logout'
2022-04-17 14:26:53,146 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:26:53,146 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'DELETE /logout'
2022-04-17 14:26:53,146 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 14:26:53,147 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUsersByAutorityId?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:26:53,160 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user null
2022-04-17 14:26:53,160 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUsersByAutorityId?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:26:53,160 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUsersByAutorityId?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:26:53,162 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUsersByAutorityId?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:26:53,163 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@f6e47627: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 14:26:53,163 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUsersByAutorityId?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:26:53,164 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUsersByAutorityId?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:26:53,164 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUsersByAutorityId?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:26:53,164 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUsersByAutorityId'; against '/'
2022-04-17 14:26:53,165 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUsersByAutorityId'; against '/*.html'
2022-04-17 14:26:53,165 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUsersByAutorityId'; against '/favicon.ico'
2022-04-17 14:26:53,165 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.html'
2022-04-17 14:26:53,165 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.css'
2022-04-17 14:26:53,165 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.js'
2022-04-17 14:26:53,165 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUsersByAutorityId'; against '/auth/**'
2022-04-17 14:26:53,166 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUsersByAutorityId'; against '/user/**'
2022-04-17 14:26:53,166 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/user/getUsersByAutorityId?autorityId=1; Attributes: [authenticated]
2022-04-17 14:26:53,166 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@f6e47627: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 14:26:53,170 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2475f6bd, returned: -1
2022-04-17 14:26:53,174 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 14:26:53,176 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Calling Authentication entry point.
2022-04-17 14:26:53,178 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7f7ed5ce
2022-04-17 14:26:53,178 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:26:53,181 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:26:53,182 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:26:53,182 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:26:53,182 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:26:53,182 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:26:53,182 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/error'; against '/logout'
2022-04-17 14:26:53,182 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:26:53,183 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 14:26:53,183 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:26:53,183 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 14:26:53,183 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:26:53,183 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 14:26:53,183 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 14:26:53,183 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:26:53,183 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:26:53,184 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:26:53,184 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:26:53,184 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@f6e47627: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 14:26:53,184 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:26:53,184 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:26:53,184 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:26:53,184 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?autorityId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 14:26:53,265 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 14:26:53,266 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:27:13,552 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:27:13,553 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:27:13,553 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:27:13,553 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:27:13,554 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:27:13,554 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 14:27:13,554 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:27:13,554 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/logout'
2022-04-17 14:27:13,554 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:27:13,554 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 14:27:13,554 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:27:13,555 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 14:27:13,555 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 14:27:13,555 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:27:13,555 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user null
2022-04-17 14:27:13,556 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:27:13,556 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:27:13,556 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:27:13,556 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@f6e47627: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 14:27:13,556 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:27:13,557 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:27:13,557 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:27:13,557 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 14:27:13,557 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 14:27:13,557 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 14:27:13,558 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 14:27:13,558 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 14:27:13,558 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 14:27:13,558 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 14:27:13,558 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 14:27:13,559 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@f6e47627: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 14:27:13,561 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2475f6bd, returned: 1
2022-04-17 14:27:13,561 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 14:27:13,562 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 14:27:13,562 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 14:27:13,605 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-3] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 14:27:13,706 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-3] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 14:27:13,907 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7f7ed5ce
2022-04-17 14:27:13,909 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 14:27:13,909 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:27:26,629 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:27:26,630 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:27:26,630 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:27:26,630 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:27:26,630 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:27:26,630 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/logout'
2022-04-17 14:27:26,630 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:27:26,631 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'POST /logout'
2022-04-17 14:27:26,631 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:27:26,631 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'PUT /logout'
2022-04-17 14:27:26,631 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:27:26,631 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'DELETE /logout'
2022-04-17 14:27:26,631 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 14:27:26,631 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:27:26,645 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user admin
2022-04-17 14:27:26,667 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] authenticated user admin, setting security context
2022-04-17 14:27:26,668 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:27:26,668 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:27:26,668 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:27:26,668 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e9a08db9: Principal: com.mpos.prueba.security.JwtUser@12e10acb; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 14:27:26,668 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:27:26,668 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-4] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@22ed2886
2022-04-17 14:27:26,669 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:27:26,669 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:27:26,669 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/'
2022-04-17 14:27:26,669 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/*.html'
2022-04-17 14:27:26,669 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/favicon.ico'
2022-04-17 14:27:26,669 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.html'
2022-04-17 14:27:26,669 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.css'
2022-04-17 14:27:26,670 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.js'
2022-04-17 14:27:26,670 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/auth/**'
2022-04-17 14:27:26,670 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/user/**'
2022-04-17 14:27:26,670 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /api/user/getUsersByAutorityId?autorityId=1; Attributes: [authenticated]
2022-04-17 14:27:26,670 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e9a08db9: Principal: com.mpos.prueba.security.JwtUser@12e10acb; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 14:27:26,670 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2475f6bd, returned: 1
2022-04-17 14:27:26,671 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 14:27:26,671 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 14:27:26,671 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 14:27:26,674 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:27:26,674 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e9a08db9: Principal: com.mpos.prueba.security.JwtUser@12e10acb; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 14:27:26,675 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@57ac73bf, returned: 1
2022-04-17 14:27:26,675 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 14:27:26,675 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 14:27:26,691 ERROR com.mpos.prueba.controllers.UserRestController [http-nio-8080-exec-4] org.springframework.dao.InvalidDataAccessApiUsageException: Parameter value element [1] did not match expected type [com.mpos.prueba.models.Authority (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value element [1] did not match expected type [com.mpos.prueba.models.Authority (n/a)]
2022-04-17 14:27:26,692 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Chain processed normally
2022-04-17 14:27:26,692 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-4] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7f7ed5ce
2022-04-17 14:27:26,693 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:27:47,386 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:27:47,387 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:27:47,387 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:27:47,387 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:27:47,387 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:27:47,387 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/logout'
2022-04-17 14:27:47,387 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:27:47,388 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'POST /logout'
2022-04-17 14:27:47,388 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:27:47,388 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'PUT /logout'
2022-04-17 14:27:47,388 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:27:47,388 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'DELETE /logout'
2022-04-17 14:27:47,388 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 14:27:47,388 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:27:47,391 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] checking authentication for user admin
2022-04-17 14:27:47,397 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] authenticated user admin, setting security context
2022-04-17 14:27:47,397 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:27:47,397 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:27:47,397 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:27:47,397 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f488e68e: Principal: com.mpos.prueba.security.JwtUser@fc961fc; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 14:27:47,398 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:27:47,398 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-6] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@22ed2886
2022-04-17 14:27:47,398 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:27:47,398 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:27:47,398 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/'
2022-04-17 14:27:47,398 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/*.html'
2022-04-17 14:27:47,399 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/favicon.ico'
2022-04-17 14:27:47,399 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.html'
2022-04-17 14:27:47,399 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.css'
2022-04-17 14:27:47,399 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.js'
2022-04-17 14:27:47,399 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/auth/**'
2022-04-17 14:27:47,399 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/user/**'
2022-04-17 14:27:47,399 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: FilterInvocation: URL: /api/user/getUsersByAutorityId?autorityId=1; Attributes: [authenticated]
2022-04-17 14:27:47,400 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f488e68e: Principal: com.mpos.prueba.security.JwtUser@fc961fc; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 14:27:47,400 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2475f6bd, returned: 1
2022-04-17 14:27:47,400 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorization successful
2022-04-17 14:27:47,400 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] RunAsManager did not change Authentication object
2022-04-17 14:27:47,400 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 14:27:47,401 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:27:47,401 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f488e68e: Principal: com.mpos.prueba.security.JwtUser@fc961fc; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 14:27:47,402 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@57ac73bf, returned: 1
2022-04-17 14:27:47,402 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorization successful
2022-04-17 14:27:47,402 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] RunAsManager did not change Authentication object
2022-04-17 14:28:06,063 ERROR com.mpos.prueba.controllers.UserRestController [http-nio-8080-exec-6] org.springframework.dao.InvalidDataAccessApiUsageException: Parameter value element [1] did not match expected type [com.mpos.prueba.models.Authority (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value element [1] did not match expected type [com.mpos.prueba.models.Authority (n/a)]
2022-04-17 14:28:06,064 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Chain processed normally
2022-04-17 14:28:06,065 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-6] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7f7ed5ce
2022-04-17 14:28:06,065 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:28:33,073 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:28:33,074 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:28:33,074 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:28:33,074 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:28:33,075 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:28:33,075 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/logout'
2022-04-17 14:28:33,075 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:28:33,075 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'POST /logout'
2022-04-17 14:28:33,075 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:28:33,076 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'PUT /logout'
2022-04-17 14:28:33,076 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:28:33,076 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'DELETE /logout'
2022-04-17 14:28:33,076 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 14:28:33,076 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:28:33,077 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] checking authentication for user admin
2022-04-17 14:28:33,086 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] authenticated user admin, setting security context
2022-04-17 14:28:33,087 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:28:33,087 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:28:33,087 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:28:33,087 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c44b5280: Principal: com.mpos.prueba.security.JwtUser@3f0ad5f2; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 14:28:33,087 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:28:33,087 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-8] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@22ed2886
2022-04-17 14:28:33,088 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:28:33,088 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:28:33,088 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/'
2022-04-17 14:28:33,088 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/*.html'
2022-04-17 14:28:33,088 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/favicon.ico'
2022-04-17 14:28:33,088 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.html'
2022-04-17 14:28:33,089 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.css'
2022-04-17 14:28:33,089 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.js'
2022-04-17 14:28:33,089 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/auth/**'
2022-04-17 14:28:33,089 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/user/**'
2022-04-17 14:28:33,089 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Secure object: FilterInvocation: URL: /api/user/getUsersByAutorityId?autorityId=1; Attributes: [authenticated]
2022-04-17 14:28:33,089 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c44b5280: Principal: com.mpos.prueba.security.JwtUser@3f0ad5f2; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 14:28:33,089 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-8] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2475f6bd, returned: 1
2022-04-17 14:28:33,090 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorization successful
2022-04-17 14:28:33,090 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] RunAsManager did not change Authentication object
2022-04-17 14:28:33,090 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 14:28:33,091 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:28:33,091 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c44b5280: Principal: com.mpos.prueba.security.JwtUser@3f0ad5f2; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 14:28:33,091 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-8] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@57ac73bf, returned: 1
2022-04-17 14:28:33,091 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorization successful
2022-04-17 14:28:33,091 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] RunAsManager did not change Authentication object
2022-04-17 14:28:43,936 ERROR com.mpos.prueba.controllers.UserRestController [http-nio-8080-exec-8] org.springframework.dao.InvalidDataAccessApiUsageException: Parameter value element [1] did not match expected type [com.mpos.prueba.models.Authority (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value element [1] did not match expected type [com.mpos.prueba.models.Authority (n/a)]
2022-04-17 14:28:43,937 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-8] Chain processed normally
2022-04-17 14:28:43,937 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-8] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7f7ed5ce
2022-04-17 14:28:43,937 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:34:00,786 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 8172 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 14:34:00,790 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 14:34:01,465 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 14:34:01,544 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 71ms. Found 3 repository interfaces.
2022-04-17 14:34:01,822 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f6c49e07] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:34:01,853 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$8f726641] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:34:01,857 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:34:01,858 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4f6b687e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:34:01,860 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b44708f3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:34:01,863 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:34:02,193 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 14:34:02,215 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 14:34:02,215 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 14:34:02,225 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 14:34:02,315 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1486 ms
2022-04-17 14:34:02,588 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 14:34:02,992 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 14:34:03,052 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 14:34:03,126 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 14:34:03,129 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 14:34:03,304 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 14:34:03,489 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 14:34:04,568 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 14:34:04,821 ERROR org.springframework.boot.web.embedded.tomcat.TomcatStarter [main] Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'webSecurityConfig': Unsatisfied dependency expressed through field 'userDetailsService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl': Unsatisfied dependency expressed through field 'userRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.mpos.prueba.repositories.UserRepository.findByAuthorityIdIn(java.lang.Long)! No property authorityId found for type User!
2022-04-17 14:34:04,845 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-04-17 14:34:04,848 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2022-04-17 14:34:04,849 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2022-04-17 14:34:04,850 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [mssql-jdbc-TimeoutTimer-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
 java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
 java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2022-04-17 14:34:04,851 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2022-04-17 14:34:04,851 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 14:34:04,852 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-04-17 14:34:04,854 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-04-17 14:34:05,021 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-04-17 14:34:05,027 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:157)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at com.mpos.prueba.PruebaApplication.main(PruebaApplication.java:10)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:125)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:86)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig': Unsatisfied dependency expressed through field 'userDetailsService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl': Unsatisfied dependency expressed through field 'userRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.mpos.prueba.repositories.UserRepository.findByAuthorityIdIn(java.lang.Long)! No property authorityId found for type User!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:235)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:193)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:188)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:170)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:89)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:54)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:455)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl': Unsatisfied dependency expressed through field 'userRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.mpos.prueba.repositories.UserRepository.findByAuthorityIdIn(java.lang.Long)! No property authorityId found for type User!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)
	... 63 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.mpos.prueba.repositories.UserRepository.findByAuthorityIdIn(java.lang.Long)! No property authorityId found for type User!
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)
	... 76 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.mpos.prueba.repositories.UserRepository.findByAuthorityIdIn(java.lang.Long)! No property authorityId found for type User!
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:82)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:103)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:208)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:79)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:566)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:559)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Iterator.forEachRemaining(Iterator.java:116)
	at java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1049)
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:561)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:551)
	at java.util.Optional.map(Optional.java:215)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.<init>(RepositoryFactorySupport.java:551)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:324)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:211)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:119)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 86 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property authorityId found for type User!
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:382)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:358)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:311)
	at java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:324)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:293)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:276)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:251)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:380)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:381)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:96)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:76)
	... 112 common frames omitted
2022-04-17 14:39:05,371 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 26332 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 14:39:05,374 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 14:39:05,968 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 14:39:06,040 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 66ms. Found 4 repository interfaces.
2022-04-17 14:39:06,328 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9549760b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:39:06,359 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$2df73e45] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:39:06,363 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:39:06,365 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1317b708' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:39:06,367 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$52cbe0f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:39:06,370 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 14:39:06,661 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 14:39:06,683 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 14:39:06,683 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 14:39:06,693 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 14:39:06,874 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1466 ms
2022-04-17 14:39:07,140 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 14:39:07,584 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 14:39:07,641 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 14:39:07,713 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 14:39:07,716 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 14:39:07,884 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 14:39:08,032 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 14:39:09,125 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 14:39:09,555 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$380c75fd@60e80279}
2022-04-17 14:39:09,623 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:39:09,646 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:39:09,654 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 14:39:09,664 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:39:09,665 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:39:09,665 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:39:09,665 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:39:09,666 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:39:09,666 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:39:09,666 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:39:09,666 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:39:09,667 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 14:39:09,667 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:39:09,986 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 14:39:09,987 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 14:39:09,987 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 14:39:09,987 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 14:39:09,987 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 14:39:09,988 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 14:39:09,988 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 14:39:09,988 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 14:39:09,988 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 14:39:09,989 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 14:39:09,990 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 14:39:09,992 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ddc889b, org.springframework.security.web.context.SecurityContextPersistenceFilter@23cfdfa2, org.springframework.security.web.header.HeaderWriterFilter@347f8029, org.springframework.security.web.authentication.logout.LogoutFilter@22c4354d, com.mpos.prueba.security.JwtAuthenticationTokenFilter@7526bb18, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e09c0b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2119b989, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ec3689b, org.springframework.security.web.session.SessionManagementFilter@257d3968, org.springframework.security.web.access.ExceptionTranslationFilter@61d24347, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d213a2b]
2022-04-17 14:39:10,155 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 14:39:10,207 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 14:39:10,406 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 14:39:10,408 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.402 seconds (JVM running for 6.172)
2022-04-17 14:58:33,644 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m30s355ms449µs100ns).
2022-04-17 14:58:55,548 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-04-17 14:58:55,559 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 10 ms
2022-04-17 14:58:55,575 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:58:55,576 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:58:55,578 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:58:55,581 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:58:55,582 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:58:55,582 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 14:58:55,582 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:58:55,582 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/auth'; against '/logout'
2022-04-17 14:58:55,583 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:58:55,583 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 14:58:55,583 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:58:55,583 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 14:58:55,583 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 14:58:55,583 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:58:55,604 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user null
2022-04-17 14:58:55,604 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:58:55,605 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:58:55,606 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:58:55,608 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@e89d103c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 14:58:55,608 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:58:55,609 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:58:55,609 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:58:55,610 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 14:58:55,610 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 14:58:55,610 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 14:58:55,610 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 14:58:55,611 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 14:58:55,611 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 14:58:55,611 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 14:58:55,611 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 14:58:55,611 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@e89d103c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 14:58:55,618 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ebd7251, returned: 1
2022-04-17 14:58:55,618 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorization successful
2022-04-17 14:58:55,618 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] RunAsManager did not change Authentication object
2022-04-17 14:58:55,619 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 14:58:55,727 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-1] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 14:58:55,860 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-1] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 14:58:59,363 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@517d323d
2022-04-17 14:58:59,370 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 14:58:59,370 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:59:15,414 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:59:15,414 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:59:15,414 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:59:15,415 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:59:15,415 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:59:15,415 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/logout'
2022-04-17 14:59:15,415 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:59:15,416 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'POST /logout'
2022-04-17 14:59:15,416 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:59:15,416 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'PUT /logout'
2022-04-17 14:59:15,416 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:59:15,416 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'DELETE /logout'
2022-04-17 14:59:15,416 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 14:59:15,417 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:59:15,433 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user admin
2022-04-17 14:59:15,455 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] authenticated user admin, setting security context
2022-04-17 14:59:15,455 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:59:15,455 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:59:15,456 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:59:15,456 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d5c279c0: Principal: com.mpos.prueba.security.JwtUser@2e83feb2; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 14:59:15,456 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:59:15,456 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-3] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@52d434c1
2022-04-17 14:59:15,456 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:59:15,456 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:59:15,456 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/'
2022-04-17 14:59:15,457 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/*.html'
2022-04-17 14:59:15,457 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/favicon.ico'
2022-04-17 14:59:15,457 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.html'
2022-04-17 14:59:15,457 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.css'
2022-04-17 14:59:15,457 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.js'
2022-04-17 14:59:15,457 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/auth/**'
2022-04-17 14:59:15,457 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/user/**'
2022-04-17 14:59:15,458 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /api/user/getUsersByAutorityId?autorityId=1; Attributes: [authenticated]
2022-04-17 14:59:15,458 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d5c279c0: Principal: com.mpos.prueba.security.JwtUser@2e83feb2; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 14:59:15,459 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ebd7251, returned: 1
2022-04-17 14:59:15,459 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 14:59:15,459 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 14:59:15,459 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 14:59:15,463 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:59:15,463 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d5c279c0: Principal: com.mpos.prueba.security.JwtUser@2e83feb2; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 14:59:15,464 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@510dd3fc, returned: 1
2022-04-17 14:59:15,464 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 14:59:15,464 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 14:59:15,497 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 14:59:15,497 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@517d323d
2022-04-17 14:59:15,497 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 14:59:40,761 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 14:59:40,762 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 14:59:40,762 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 14:59:40,762 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 14:59:40,762 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 14:59:40,762 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/logout'
2022-04-17 14:59:40,762 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 14:59:40,763 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'POST /logout'
2022-04-17 14:59:40,763 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 14:59:40,763 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'PUT /logout'
2022-04-17 14:59:40,763 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 14:59:40,763 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'DELETE /logout'
2022-04-17 14:59:40,763 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 14:59:40,763 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 14:59:40,766 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user admin
2022-04-17 14:59:40,776 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] authenticated user admin, setting security context
2022-04-17 14:59:40,776 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 14:59:40,777 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 14:59:40,777 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 14:59:40,777 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e9921a5f: Principal: com.mpos.prueba.security.JwtUser@12d39d2d; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 14:59:40,777 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 14:59:40,777 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-4] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@52d434c1
2022-04-17 14:59:40,777 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 14:59:40,778 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 14:59:40,778 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/'
2022-04-17 14:59:40,778 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/*.html'
2022-04-17 14:59:40,778 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/favicon.ico'
2022-04-17 14:59:40,778 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.html'
2022-04-17 14:59:40,778 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.css'
2022-04-17 14:59:40,778 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.js'
2022-04-17 14:59:40,779 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/auth/**'
2022-04-17 14:59:40,779 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/user/**'
2022-04-17 14:59:40,779 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /api/user/getUsersByAutorityId?autorityId=1; Attributes: [authenticated]
2022-04-17 14:59:40,779 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e9921a5f: Principal: com.mpos.prueba.security.JwtUser@12d39d2d; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 14:59:40,779 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ebd7251, returned: 1
2022-04-17 14:59:40,779 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 14:59:40,780 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 14:59:40,780 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 14:59:40,780 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 14:59:40,781 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e9921a5f: Principal: com.mpos.prueba.security.JwtUser@12d39d2d; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 14:59:40,782 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@510dd3fc, returned: 1
2022-04-17 14:59:40,782 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 14:59:40,782 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 16:09:07,175 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-4] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@517d323d
2022-04-17 16:09:07,176 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-17 16:09:07,181 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 16:09:07,181 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 16:09:07,181 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 16:09:07,181 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 16:09:07,181 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 16:09:07,181 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/error'; against '/logout'
2022-04-17 16:09:07,181 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 16:09:07,182 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 16:09:07,182 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 16:09:07,182 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 16:09:07,182 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 16:09:07,182 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 16:09:07,182 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 16:09:07,182 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 16:09:07,182 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 16:09:07,182 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 16:09:07,183 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 16:09:07,183 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@e89d103c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 16:09:07,183 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 16:09:07,183 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 16:09:07,183 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 16:09:07,183 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?autorityId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 16:09:07,198 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Chain processed normally
2022-04-17 16:09:07,198 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-17 16:10:55,759 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 16:10:55,761 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 16:10:55,761 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 16:10:55,761 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 16:10:55,761 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 16:10:55,761 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/logout'
2022-04-17 16:10:55,761 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 16:10:55,762 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'POST /logout'
2022-04-17 16:10:55,762 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 16:10:55,762 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'PUT /logout'
2022-04-17 16:10:55,762 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 16:10:55,762 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'DELETE /logout'
2022-04-17 16:10:55,762 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 16:10:55,763 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 16:10:55,765 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] checking authentication for user null
2022-04-17 16:10:55,766 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 16:10:55,766 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 16:10:55,766 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 16:10:55,766 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@e89d103c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 16:10:55,766 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 16:10:55,766 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 16:10:55,766 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUsersByAutorityId?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 16:10:55,767 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/'
2022-04-17 16:10:55,767 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/*.html'
2022-04-17 16:10:55,767 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/favicon.ico'
2022-04-17 16:10:55,767 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.html'
2022-04-17 16:10:55,767 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.css'
2022-04-17 16:10:55,768 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.js'
2022-04-17 16:10:55,768 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/auth/**'
2022-04-17 16:10:55,768 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUsersByAutorityId'; against '/user/**'
2022-04-17 16:10:55,768 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: FilterInvocation: URL: /api/user/getUsersByAutorityId?autorityId=1; Attributes: [authenticated]
2022-04-17 16:10:55,768 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@e89d103c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 16:10:55,769 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ebd7251, returned: -1
2022-04-17 16:10:55,775 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 16:10:55,780 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Calling Authentication entry point.
2022-04-17 16:11:01,158 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-6] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@517d323d
2022-04-17 16:11:01,158 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 16:11:01,161 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 16:11:01,161 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 16:11:01,161 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 16:11:01,161 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 16:11:01,161 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 16:11:01,162 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/error'; against '/logout'
2022-04-17 16:11:01,162 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 16:11:01,162 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 16:11:01,162 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 16:11:01,163 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 16:11:01,163 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 16:11:01,163 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 16:11:01,163 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 16:11:01,163 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 16:11:01,163 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 16:11:01,163 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 16:11:01,164 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 16:11:01,164 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@e89d103c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 16:11:01,164 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 16:11:01,164 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 16:11:01,164 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 16:11:01,164 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?autorityId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 16:11:01,168 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Chain processed normally
2022-04-17 16:11:01,168 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 16:11:05,128 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 16:11:05,129 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 16:11:05,129 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 16:11:05,129 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 16:11:05,129 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 16:11:05,129 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 16:11:05,129 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 16:11:05,129 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/auth'; against '/logout'
2022-04-17 16:11:05,130 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 16:11:05,130 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 16:11:05,130 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 16:11:05,130 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 16:11:05,130 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] No matches found
2022-04-17 16:11:05,130 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 16:11:05,131 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-7] checking authentication for user null
2022-04-17 16:11:05,131 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 16:11:05,131 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 16:11:05,131 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 16:11:05,131 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@e89d103c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 16:11:05,131 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 16:11:05,132 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 16:11:05,132 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 16:11:05,132 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 16:11:05,132 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 16:11:05,132 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 16:11:05,132 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 16:11:05,132 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 16:11:05,132 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 16:11:05,133 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 16:11:05,133 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 16:11:05,133 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@e89d103c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 16:11:05,133 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-7] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ebd7251, returned: 1
2022-04-17 16:11:05,134 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorization successful
2022-04-17 16:11:05,134 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] RunAsManager did not change Authentication object
2022-04-17 16:11:05,134 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 16:11:05,135 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-7] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 16:11:09,264 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-7] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@517d323d
2022-04-17 16:11:09,266 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Chain processed normally
2022-04-17 16:11:09,266 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] SecurityContextHolder now cleared, as request processing completed
2022-04-17 16:11:22,600 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 16:11:22,601 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 16:11:22,601 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 16:11:22,601 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 16:11:22,601 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 16:11:22,601 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/logout'
2022-04-17 16:11:22,601 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 16:11:22,601 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'POST /logout'
2022-04-17 16:11:22,601 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 16:11:22,602 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'PUT /logout'
2022-04-17 16:11:22,602 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 16:11:22,602 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'DELETE /logout'
2022-04-17 16:11:22,602 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 16:11:22,602 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 16:11:22,603 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] checking authentication for user admin
2022-04-17 16:11:22,609 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] authenticated user admin, setting security context
2022-04-17 16:11:22,609 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 16:11:22,609 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 16:11:22,609 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 16:11:22,609 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d79ca615: Principal: com.mpos.prueba.security.JwtUser@2cdd2167; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 16:11:22,610 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 16:11:22,610 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-8] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@52d434c1
2022-04-17 16:11:22,610 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 16:11:22,610 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 16:11:22,610 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/'
2022-04-17 16:11:22,610 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/*.html'
2022-04-17 16:11:22,611 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/favicon.ico'
2022-04-17 16:11:22,611 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.html'
2022-04-17 16:11:22,611 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.css'
2022-04-17 16:11:22,611 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.js'
2022-04-17 16:11:22,611 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/auth/**'
2022-04-17 16:11:22,611 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUsersByAutorityId'; against '/user/**'
2022-04-17 16:11:22,611 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Secure object: FilterInvocation: URL: /api/user/getUsersByAutorityId?autorityId=1; Attributes: [authenticated]
2022-04-17 16:11:22,612 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d79ca615: Principal: com.mpos.prueba.security.JwtUser@2cdd2167; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 16:11:22,612 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-8] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ebd7251, returned: 1
2022-04-17 16:11:22,612 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorization successful
2022-04-17 16:11:22,612 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] RunAsManager did not change Authentication object
2022-04-17 16:11:22,612 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUsersByAutorityId?autorityId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 16:11:22,613 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:11:22,613 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d79ca615: Principal: com.mpos.prueba.security.JwtUser@2cdd2167; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 16:11:22,613 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-8] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@510dd3fc, returned: 1
2022-04-17 16:11:22,614 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorization successful
2022-04-17 16:11:22,614 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] RunAsManager did not change Authentication object
2022-04-17 16:11:22,622 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-8] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@517d323d
2022-04-17 16:11:22,622 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 16:11:22,623 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 16:11:22,623 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 16:11:22,623 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 16:11:22,623 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 16:11:22,623 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 16:11:22,624 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/error'; against '/logout'
2022-04-17 16:11:22,624 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 16:11:22,624 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 16:11:22,624 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 16:11:22,624 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 16:11:22,624 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 16:11:22,624 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 16:11:22,624 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 16:11:22,624 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 16:11:22,624 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 16:11:22,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 16:11:22,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 16:11:22,625 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@e89d103c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 16:11:22,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 16:11:22,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 16:11:22,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 16:11:22,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?autorityId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 16:11:22,627 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-8] Chain processed normally
2022-04-17 16:11:22,627 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 16:11:28,666 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUsersByAutorityId?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 16:11:28,667 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUsersByAutorityId?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 16:11:28,667 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUsersByAutorityId?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 16:11:28,667 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUsersByAutorityId?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 16:11:28,667 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 16:11:28,667 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUsersByAutorityId'; against '/logout'
2022-04-17 16:11:28,668 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 16:11:28,668 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'POST /logout'
2022-04-17 16:11:28,668 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 16:11:28,668 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'PUT /logout'
2022-04-17 16:11:28,668 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 16:11:28,668 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'DELETE /logout'
2022-04-17 16:11:28,668 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] No matches found
2022-04-17 16:11:28,668 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUsersByAutorityId?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 16:11:28,670 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-10] checking authentication for user admin
2022-04-17 16:11:28,677 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-10] authenticated user admin, setting security context
2022-04-17 16:11:28,678 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUsersByAutorityId?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 16:11:28,678 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUsersByAutorityId?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 16:11:28,678 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUsersByAutorityId?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 16:11:28,678 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-10] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d01e5e0a: Principal: com.mpos.prueba.security.JwtUser@2b5fd978; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 16:11:28,678 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUsersByAutorityId?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 16:11:28,678 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-10] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@52d434c1
2022-04-17 16:11:28,679 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUsersByAutorityId?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 16:11:28,679 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUsersByAutorityId?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 16:11:28,679 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUsersByAutorityId'; against '/'
2022-04-17 16:11:28,679 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUsersByAutorityId'; against '/*.html'
2022-04-17 16:11:28,679 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUsersByAutorityId'; against '/favicon.ico'
2022-04-17 16:11:28,679 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.html'
2022-04-17 16:11:28,679 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.css'
2022-04-17 16:11:28,680 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.js'
2022-04-17 16:11:28,680 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUsersByAutorityId'; against '/auth/**'
2022-04-17 16:11:28,680 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUsersByAutorityId'; against '/user/**'
2022-04-17 16:11:28,680 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Secure object: FilterInvocation: URL: /api/user/getUsersByAutorityId?autorityId=1; Attributes: [authenticated]
2022-04-17 16:11:28,680 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d01e5e0a: Principal: com.mpos.prueba.security.JwtUser@2b5fd978; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 16:11:28,680 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-10] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ebd7251, returned: 1
2022-04-17 16:11:28,681 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorization successful
2022-04-17 16:11:28,681 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] RunAsManager did not change Authentication object
2022-04-17 16:11:28,681 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUsersByAutorityId?autorityId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 16:11:28,682 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:11:28,682 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d01e5e0a: Principal: com.mpos.prueba.security.JwtUser@2b5fd978; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 16:11:28,682 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-10] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@510dd3fc, returned: 1
2022-04-17 16:11:28,682 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorization successful
2022-04-17 16:11:28,682 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] RunAsManager did not change Authentication object
2022-04-17 16:11:30,583 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-10] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@517d323d
2022-04-17 16:11:30,584 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] SecurityContextHolder now cleared, as request processing completed
2022-04-17 16:11:30,584 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 16:11:30,584 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 16:11:30,584 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 16:11:30,584 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 16:11:30,585 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 16:11:30,585 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/error'; against '/logout'
2022-04-17 16:11:30,585 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 16:11:30,585 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 16:11:30,585 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 16:11:30,585 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 16:11:30,585 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 16:11:30,585 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 16:11:30,585 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] No matches found
2022-04-17 16:11:30,585 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 16:11:30,585 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 16:11:30,586 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 16:11:30,586 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 16:11:30,586 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-10] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@e89d103c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 16:11:30,586 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 16:11:30,586 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 16:11:30,586 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 16:11:30,586 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /error?autorityId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 16:11:30,588 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-10] Chain processed normally
2022-04-17 16:11:30,588 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] SecurityContextHolder now cleared, as request processing completed
2022-04-17 16:11:49,999 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 7744 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 16:11:50,002 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 16:11:50,565 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 16:11:50,645 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 73ms. Found 4 repository interfaces.
2022-04-17 16:11:50,918 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$35de1991] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 16:11:50,948 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ce8be1cb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 16:11:50,951 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 16:11:50,953 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3b4d50b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 16:11:50,955 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f360847d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 16:11:50,966 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 16:11:51,304 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 16:11:51,328 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 16:11:51,329 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 16:11:51,338 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 16:11:51,431 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1394 ms
2022-04-17 16:11:51,693 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 16:11:52,101 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 16:11:52,168 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 16:11:52,266 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 16:11:52,268 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 16:11:52,471 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 16:11:52,655 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 16:11:53,737 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 16:11:54,302 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$d8a11983@6885f3f7}
2022-04-17 16:11:54,361 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 16:11:54,382 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:11:54,390 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 16:11:54,400 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 16:11:54,400 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:11:54,401 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 16:11:54,401 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:11:54,401 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 16:11:54,401 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:11:54,401 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 16:11:54,402 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:11:54,402 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 16:11:54,402 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:11:54,496 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 16:11:54,497 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 16:11:54,497 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 16:11:54,497 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 16:11:54,497 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 16:11:54,497 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 16:11:54,497 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 16:11:54,498 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 16:11:54,498 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 16:11:54,499 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 16:11:54,499 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 16:11:54,502 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c0a6f62, org.springframework.security.web.context.SecurityContextPersistenceFilter@c414eb3, org.springframework.security.web.header.HeaderWriterFilter@67baa05, org.springframework.security.web.authentication.logout.LogoutFilter@13ae87a6, com.mpos.prueba.security.JwtAuthenticationTokenFilter@6219006a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a73f3d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5400db7e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@219a2203, org.springframework.security.web.session.SessionManagementFilter@222eda8a, org.springframework.security.web.access.ExceptionTranslationFilter@5f14590c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@78a34c47]
2022-04-17 16:11:54,654 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 16:11:54,703 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 16:11:54,887 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 16:11:54,888 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.254 seconds (JVM running for 6.173)
2022-04-17 16:12:05,698 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 16:12:05,706 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 8 ms
2022-04-17 16:12:05,719 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUsersByAutorityId?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 16:12:05,719 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUsersByAutorityId?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 16:12:05,721 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUsersByAutorityId?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 16:12:05,724 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUsersByAutorityId?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 16:12:05,724 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 16:12:05,724 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUsersByAutorityId'; against '/logout'
2022-04-17 16:12:05,724 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 16:12:05,725 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'POST /logout'
2022-04-17 16:12:05,725 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 16:12:05,725 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'PUT /logout'
2022-04-17 16:12:05,725 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 16:12:05,726 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'DELETE /logout'
2022-04-17 16:12:05,726 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 16:12:05,726 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUsersByAutorityId?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 16:12:05,785 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user admin
2022-04-17 16:12:05,808 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-2] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 16:12:05,984 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] authenticated user admin, setting security context
2022-04-17 16:12:05,984 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUsersByAutorityId?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 16:12:05,985 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUsersByAutorityId?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 16:12:05,986 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUsersByAutorityId?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 16:12:05,986 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f7a14d15: Principal: com.mpos.prueba.security.JwtUser@ce0ca67; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 16:12:05,986 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUsersByAutorityId?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 16:12:05,986 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-2] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1a05ff8e
2022-04-17 16:12:05,987 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUsersByAutorityId?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 16:12:05,987 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUsersByAutorityId?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 16:12:05,987 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUsersByAutorityId'; against '/'
2022-04-17 16:12:05,987 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUsersByAutorityId'; against '/*.html'
2022-04-17 16:12:05,988 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUsersByAutorityId'; against '/favicon.ico'
2022-04-17 16:12:05,988 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.html'
2022-04-17 16:12:05,988 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.css'
2022-04-17 16:12:05,988 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.js'
2022-04-17 16:12:05,988 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUsersByAutorityId'; against '/auth/**'
2022-04-17 16:12:05,988 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUsersByAutorityId'; against '/user/**'
2022-04-17 16:12:05,989 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/user/getUsersByAutorityId?autorityId=1; Attributes: [authenticated]
2022-04-17 16:12:05,989 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f7a14d15: Principal: com.mpos.prueba.security.JwtUser@ce0ca67; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 16:12:05,993 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@55db336f, returned: 1
2022-04-17 16:12:05,994 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 16:12:05,994 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 16:12:05,994 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUsersByAutorityId?autorityId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 16:12:06,020 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:12:06,021 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f7a14d15: Principal: com.mpos.prueba.security.JwtUser@ce0ca67; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 16:12:06,022 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@2984838, returned: 1
2022-04-17 16:12:06,022 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 16:12:06,022 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 16:12:44,873 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@413cd91
2022-04-17 16:12:44,877 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 16:12:44,878 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 16:13:07,180 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 16:13:07,181 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 16:13:07,181 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 16:13:07,181 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 16:13:07,182 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 16:13:07,182 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/logout'
2022-04-17 16:13:07,182 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 16:13:07,182 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'POST /logout'
2022-04-17 16:13:07,182 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 16:13:07,182 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'PUT /logout'
2022-04-17 16:13:07,183 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 16:13:07,183 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'DELETE /logout'
2022-04-17 16:13:07,183 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 16:13:07,183 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 16:13:07,185 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user admin
2022-04-17 16:13:07,192 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] authenticated user admin, setting security context
2022-04-17 16:13:07,192 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 16:13:07,192 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 16:13:07,192 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 16:13:07,192 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@92f40945: Principal: com.mpos.prueba.security.JwtUser@69b58e37; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 16:13:07,193 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 16:13:07,193 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-3] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1a05ff8e
2022-04-17 16:13:07,193 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 16:13:07,193 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 16:13:07,193 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/'
2022-04-17 16:13:07,193 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/*.html'
2022-04-17 16:13:07,194 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/favicon.ico'
2022-04-17 16:13:07,194 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.html'
2022-04-17 16:13:07,194 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.css'
2022-04-17 16:13:07,194 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.js'
2022-04-17 16:13:07,195 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/auth/**'
2022-04-17 16:13:07,195 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/user/**'
2022-04-17 16:13:07,195 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /api/user/getUsersByAutorityId?autorityId=2; Attributes: [authenticated]
2022-04-17 16:13:07,195 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@92f40945: Principal: com.mpos.prueba.security.JwtUser@69b58e37; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 16:13:07,195 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@55db336f, returned: 1
2022-04-17 16:13:07,196 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 16:13:07,196 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 16:13:07,196 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 reached end of additional filter chain; proceeding with original chain
2022-04-17 16:13:07,197 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:13:07,197 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@92f40945: Principal: com.mpos.prueba.security.JwtUser@69b58e37; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 16:13:07,198 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@2984838, returned: 1
2022-04-17 16:13:07,198 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 16:13:07,198 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 16:13:07,202 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@413cd91
2022-04-17 16:13:07,203 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 16:13:07,203 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 16:18:57,661 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 29088 (C:\Users\user\Desktop\PruebaMPOS\Prueba\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\Prueba)
2022-04-17 16:18:57,665 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 16:18:58,245 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 16:18:58,311 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 60ms. Found 4 repository interfaces.
2022-04-17 16:18:58,581 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$566905c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 16:18:58,613 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$9e145896] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 16:18:58,617 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 16:18:58,618 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@49122b8f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 16:18:58,621 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$c2e8fb48] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 16:18:58,624 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 16:18:58,971 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 16:18:58,992 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 16:18:58,992 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 16:18:59,001 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 16:18:59,087 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1385 ms
2022-04-17 16:18:59,334 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 16:18:59,731 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 16:18:59,786 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 16:18:59,856 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 16:18:59,859 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 16:19:00,027 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 16:19:00,233 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 16:19:01,434 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 16:19:01,992 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$a829904e@8636cf4}
2022-04-17 16:19:02,038 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 16:19:02,057 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:19:02,064 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 16:19:02,075 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 16:19:02,076 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:19:02,076 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 16:19:02,076 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:19:02,077 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 16:19:02,077 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:19:02,077 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 16:19:02,077 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:19:02,078 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 16:19:02,078 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 16:19:02,164 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 16:19:02,165 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 16:19:02,165 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 16:19:02,165 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 16:19:02,166 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 16:19:02,166 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 16:19:02,166 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 16:19:02,166 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 16:19:02,166 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 16:19:02,168 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 16:19:02,168 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 16:19:02,170 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b634e24, org.springframework.security.web.context.SecurityContextPersistenceFilter@74babce8, org.springframework.security.web.header.HeaderWriterFilter@5357de0e, org.springframework.security.web.authentication.logout.LogoutFilter@528a16fb, com.mpos.prueba.security.JwtAuthenticationTokenFilter@450f0d89, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28e24663, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50a095cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b0dfa91, org.springframework.security.web.session.SessionManagementFilter@483fe83a, org.springframework.security.web.access.ExceptionTranslationFilter@2ecc4be7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a7e469d]
2022-04-17 16:19:02,329 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 16:19:02,379 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 16:19:02,566 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 16:19:02,567 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.255 seconds (JVM running for 6.003)
2022-04-17 17:17:26,968 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 24256 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 17:17:26,972 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 17:17:27,545 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 17:17:27,619 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 68ms. Found 4 repository interfaces.
2022-04-17 17:17:27,891 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7348ecdc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:17:27,922 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$bf6b516] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:17:27,926 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:17:27,928 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@25290bca' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:17:27,931 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$30cb57c8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:17:27,934 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:17:28,285 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 17:17:28,307 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 17:17:28,308 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 17:17:28,319 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 17:17:28,408 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1402 ms
2022-04-17 17:17:28,674 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 17:17:29,075 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 17:17:29,134 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 17:17:29,201 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 17:17:29,203 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 17:17:29,381 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 17:17:29,572 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 17:17:30,701 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 17:17:31,351 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$160becce@3538a129}
2022-04-17 17:17:31,401 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:17:31,423 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:17:31,432 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 17:17:31,443 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:17:31,444 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:17:31,444 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:17:31,444 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:17:31,444 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:17:31,445 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:17:31,445 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:17:31,445 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:17:31,445 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:17:31,446 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:17:31,534 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 17:17:31,535 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 17:17:31,535 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 17:17:31,536 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 17:17:31,536 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 17:17:31,536 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 17:17:31,536 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 17:17:31,536 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 17:17:31,536 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 17:17:31,538 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 17:17:31,538 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 17:17:31,541 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51a69e8f, org.springframework.security.web.context.SecurityContextPersistenceFilter@341df373, org.springframework.security.web.header.HeaderWriterFilter@1a53ac0c, org.springframework.security.web.authentication.logout.LogoutFilter@74f92d14, com.mpos.prueba.security.JwtAuthenticationTokenFilter@563392e5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@453e1bba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c552f08, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6442cf3e, org.springframework.security.web.session.SessionManagementFilter@3a00237d, org.springframework.security.web.access.ExceptionTranslationFilter@e47637c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@40fd1a78]
2022-04-17 17:17:31,700 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 17:17:31,749 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 17:17:31,947 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 17:17:31,949 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.342 seconds (JVM running for 6.103)
2022-04-17 17:20:47,702 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 3096 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 17:20:47,706 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 17:20:48,270 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 17:20:48,343 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 66ms. Found 4 repository interfaces.
2022-04-17 17:20:48,610 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ff907d46] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:20:48,641 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$983e4580] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:20:48,645 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:20:48,646 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@66273da0' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:20:48,648 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$bd12e832] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:20:48,652 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:20:48,968 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 17:20:48,986 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 17:20:48,986 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 17:20:48,995 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 17:20:49,074 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1336 ms
2022-04-17 17:20:49,326 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 17:20:49,725 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 17:20:49,789 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 17:20:49,865 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 17:20:49,867 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 17:20:50,031 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 17:20:50,240 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 17:20:51,383 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 17:20:51,991 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$a2537d38@5020b59f}
2022-04-17 17:20:52,045 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:20:52,066 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:20:52,074 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 17:20:52,085 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:20:52,086 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:20:52,086 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:20:52,086 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:20:52,086 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:20:52,086 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:20:52,087 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:20:52,087 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:20:52,087 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:20:52,087 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:20:52,174 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 17:20:52,175 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 17:20:52,176 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 17:20:52,176 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 17:20:52,176 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 17:20:52,176 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 17:20:52,176 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 17:20:52,176 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 17:20:52,177 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 17:20:52,178 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 17:20:52,178 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 17:20:52,181 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cf4d454, org.springframework.security.web.context.SecurityContextPersistenceFilter@684430c1, org.springframework.security.web.header.HeaderWriterFilter@51f009ef, org.springframework.security.web.authentication.logout.LogoutFilter@19c06762, com.mpos.prueba.security.JwtAuthenticationTokenFilter@b889cb6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@556944cd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74f92d14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ff3275b, org.springframework.security.web.session.SessionManagementFilter@5fa9971f, org.springframework.security.web.access.ExceptionTranslationFilter@453e1bba, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24749ad3]
2022-04-17 17:20:52,358 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 17:20:52,409 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 17:20:52,604 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 17:20:52,606 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.251 seconds (JVM running for 5.996)
2022-04-17 17:20:55,855 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 17:20:55,862 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 6 ms
2022-04-17 17:20:55,873 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 17:20:55,874 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 17:20:55,875 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 17:20:55,877 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 17:20:55,878 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 17:20:55,878 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 17:20:55,878 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 17:20:55,878 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/auth'; against '/logout'
2022-04-17 17:20:55,878 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 17:20:55,879 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 17:20:55,879 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 17:20:55,879 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 17:20:55,879 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 17:20:55,879 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 17:20:55,893 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user null
2022-04-17 17:20:55,893 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 17:20:55,893 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 17:20:55,894 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 17:20:55,895 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@1e9e1713: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 17:20:55,895 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 17:20:55,896 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 17:20:55,896 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 17:20:55,896 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 17:20:55,897 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 17:20:55,897 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 17:20:55,897 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 17:20:55,897 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 17:20:55,898 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 17:20:55,898 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 17:20:55,898 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 17:20:55,899 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@1e9e1713: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 17:20:55,903 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2d225f0e, returned: 1
2022-04-17 17:20:55,903 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 17:20:55,903 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 17:20:55,903 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 17:20:55,985 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-2] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 17:20:56,088 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-2] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 17:20:56,301 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@63153174
2022-04-17 17:20:56,305 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 17:20:56,305 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 17:21:23,906 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserByIdForCompleteReport?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 17:21:23,907 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserByIdForCompleteReport?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 17:21:23,907 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserByIdForCompleteReport?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 17:21:23,907 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserByIdForCompleteReport?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 17:21:23,908 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 17:21:23,908 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserByIdForCompleteReport'; against '/logout'
2022-04-17 17:21:23,908 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 17:21:23,908 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUserByIdForCompleteReport' doesn't match 'POST /logout'
2022-04-17 17:21:23,909 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 17:21:23,909 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUserByIdForCompleteReport' doesn't match 'PUT /logout'
2022-04-17 17:21:23,909 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 17:21:23,909 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUserByIdForCompleteReport' doesn't match 'DELETE /logout'
2022-04-17 17:21:23,910 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 17:21:23,910 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserByIdForCompleteReport?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 17:21:23,938 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user admin
2022-04-17 17:21:23,973 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] authenticated user admin, setting security context
2022-04-17 17:21:23,974 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserByIdForCompleteReport?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 17:21:23,974 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserByIdForCompleteReport?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 17:21:23,974 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserByIdForCompleteReport?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 17:21:23,974 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e2aa79f1: Principal: com.mpos.prueba.security.JwtUser@19ebfe83; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 17:21:23,975 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserByIdForCompleteReport?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 17:21:23,975 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-3] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@3662c887
2022-04-17 17:21:23,975 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserByIdForCompleteReport?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 17:21:23,976 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserByIdForCompleteReport?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 17:21:23,976 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserByIdForCompleteReport'; against '/'
2022-04-17 17:21:23,976 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserByIdForCompleteReport'; against '/*.html'
2022-04-17 17:21:23,977 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserByIdForCompleteReport'; against '/favicon.ico'
2022-04-17 17:21:23,977 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserByIdForCompleteReport'; against '/**/*.html'
2022-04-17 17:21:23,977 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserByIdForCompleteReport'; against '/**/*.css'
2022-04-17 17:21:23,977 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserByIdForCompleteReport'; against '/**/*.js'
2022-04-17 17:21:23,978 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserByIdForCompleteReport'; against '/auth/**'
2022-04-17 17:21:23,978 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserByIdForCompleteReport'; against '/user/**'
2022-04-17 17:21:23,978 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /api/user/getUserByIdForCompleteReport?id=1; Attributes: [authenticated]
2022-04-17 17:21:23,979 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e2aa79f1: Principal: com.mpos.prueba.security.JwtUser@19ebfe83; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 17:21:23,979 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2d225f0e, returned: 1
2022-04-17 17:21:23,979 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 17:21:23,979 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 17:21:23,980 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserByIdForCompleteReport?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 17:21:23,985 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:21:23,985 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e2aa79f1: Principal: com.mpos.prueba.security.JwtUser@19ebfe83; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 17:21:23,987 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@2b58267f, returned: 1
2022-04-17 17:21:23,987 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 17:21:23,987 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 17:21:24,020 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@63153174
2022-04-17 17:21:24,022 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 17:21:24,022 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 17:34:30,586 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 33676 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 17:34:30,590 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 17:34:31,191 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 17:34:31,261 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 64ms. Found 4 repository interfaces.
2022-04-17 17:34:31,539 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$726cb9d5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:34:31,570 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$b1a820f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:34:31,574 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:34:31,575 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@9596ce8' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:34:31,578 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2fef24c1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:34:31,581 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:34:31,930 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 17:34:31,949 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 17:34:31,949 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 17:34:31,958 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 17:34:32,042 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1412 ms
2022-04-17 17:34:32,300 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 17:34:32,698 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 17:34:32,756 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 17:34:32,827 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 17:34:32,830 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 17:34:33,026 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 17:34:33,180 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 17:34:34,336 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 17:34:34,948 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$152fb9c7@7d15c513}
2022-04-17 17:34:34,996 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:34:35,016 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:34:35,025 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 17:34:35,037 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:34:35,037 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:34:35,037 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:34:35,038 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:34:35,038 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:34:35,038 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:34:35,038 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:34:35,039 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:34:35,039 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:34:35,039 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:34:35,039 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:34:35,039 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:34:35,138 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 17:34:35,139 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 17:34:35,139 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 17:34:35,140 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 17:34:35,140 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 17:34:35,140 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 17:34:35,140 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 17:34:35,140 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 17:34:35,140 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 17:34:35,142 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 17:34:35,142 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 17:34:35,144 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24558113, org.springframework.security.web.context.SecurityContextPersistenceFilter@239bc43f, org.springframework.security.web.header.HeaderWriterFilter@22e1a1dc, org.springframework.security.web.authentication.logout.LogoutFilter@2a5ed225, com.mpos.prueba.security.JwtAuthenticationTokenFilter@8beb0dd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b338591, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32430075, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d5e0bf0, org.springframework.security.web.session.SessionManagementFilter@122ea8dc, org.springframework.security.web.access.ExceptionTranslationFilter@6c537267, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2ea0161f]
2022-04-17 17:34:35,300 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 17:34:35,351 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 17:34:35,379 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'userRestController' method 
public org.springframework.http.ResponseEntity<?> com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPostTO)
to {POST /api/user/saveUpdateUser}: There is already 'userRestController' bean method
public org.springframework.http.ResponseEntity<?> com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO) mapped.
2022-04-17 17:34:35,380 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Shutting down ExecutorService 'applicationTaskExecutor'
2022-04-17 17:34:35,381 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 17:34:35,383 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-04-17 17:34:35,384 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-04-17 17:34:35,385 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-04-17 17:34:35,389 WARN org.apache.juli.logging.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [mssql-jdbc-TimeoutTimer-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
 java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
 java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2022-04-17 17:34:35,395 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-04-17 17:34:35,400 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'userRestController' method 
public org.springframework.http.ResponseEntity<?> com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPostTO)
to {POST /api/user/saveUpdateUser}: There is already 'userRestController' bean method
public org.springframework.http.ResponseEntity<?> com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at com.mpos.prueba.PruebaApplication.main(PruebaApplication.java:10)
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'userRestController' method 
public org.springframework.http.ResponseEntity<?> com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPostTO)
to {POST /api/user/saveUpdateUser}: There is already 'userRestController' bean method
public org.springframework.http.ResponseEntity<?> com.mpos.prueba.controllers.UserRestController.saveUpdateUser(com.mpos.to.UserPostTO) mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.assertUniqueMethodMapping(AbstractHandlerMethodMapping.java:618)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:586)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:312)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$1(AbstractHandlerMethodMapping.java:282)
	at java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:280)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:252)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:211)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:199)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 16 common frames omitted
2022-04-17 17:37:27,714 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 23184 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 17:37:27,718 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 17:37:28,298 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 17:37:28,372 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 67ms. Found 4 repository interfaces.
2022-04-17 17:37:28,685 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f97b22f5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:37:28,718 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$9228eb2f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:37:28,722 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:37:28,724 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7a8406c2' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:37:28,726 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b6fd8de1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:37:28,729 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 17:37:29,068 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 17:37:29,090 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 17:37:29,090 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 17:37:29,100 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 17:37:29,181 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1428 ms
2022-04-17 17:37:29,438 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 17:37:29,828 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 17:37:29,887 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 17:37:29,958 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 17:37:29,960 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 17:37:30,127 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 17:37:30,296 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 17:37:31,391 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 17:37:31,980 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$9c3e22e7@6fdd3382}
2022-04-17 17:37:32,026 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:37:32,044 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:37:32,052 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 17:37:32,061 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:37:32,062 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:37:32,062 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:37:32,062 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:37:32,062 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:37:32,063 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:37:32,063 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:37:32,063 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:37:32,063 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:37:32,064 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:37:32,064 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 17:37:32,064 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:37:32,153 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 17:37:32,154 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 17:37:32,154 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 17:37:32,155 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 17:37:32,155 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 17:37:32,155 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 17:37:32,155 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 17:37:32,155 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 17:37:32,155 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 17:37:32,157 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 17:37:32,157 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 17:37:32,159 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@329efc61, org.springframework.security.web.context.SecurityContextPersistenceFilter@69926b6e, org.springframework.security.web.header.HeaderWriterFilter@180fb796, org.springframework.security.web.authentication.logout.LogoutFilter@347f8029, com.mpos.prueba.security.JwtAuthenticationTokenFilter@54ed249f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a010eec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@633cad4d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32f45e15, org.springframework.security.web.session.SessionManagementFilter@5eff5e4c, org.springframework.security.web.access.ExceptionTranslationFilter@558575fe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a012678]
2022-04-17 17:37:32,325 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 17:37:32,377 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 17:37:32,569 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 17:37:32,570 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.257 seconds (JVM running for 6.026)
2022-04-17 17:38:06,605 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 17:38:06,614 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 8 ms
2022-04-17 17:38:06,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 17:38:06,626 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 17:38:06,628 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 17:38:06,630 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 17:38:06,630 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 17:38:06,630 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 17:38:06,630 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 17:38:06,631 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/auth'; against '/logout'
2022-04-17 17:38:06,631 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 17:38:06,631 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 17:38:06,631 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 17:38:06,631 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 17:38:06,631 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 17:38:06,631 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 17:38:06,645 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user null
2022-04-17 17:38:06,646 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 17:38:06,646 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 17:38:06,647 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 17:38:06,648 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@eec7e4c3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 17:38:06,648 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 17:38:06,648 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 17:38:06,648 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 17:38:06,649 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 17:38:06,649 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 17:38:06,649 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 17:38:06,649 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 17:38:06,649 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 17:38:06,650 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 17:38:06,650 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 17:38:06,650 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 17:38:06,650 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@eec7e4c3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 17:38:06,654 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@34ec4534, returned: 1
2022-04-17 17:38:06,655 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 17:38:06,655 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 17:38:06,655 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 17:38:06,762 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-2] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 17:38:06,909 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-2] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 17:38:07,132 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@54c1ea28
2022-04-17 17:38:07,136 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 17:38:07,136 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 17:38:30,447 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 17:38:30,448 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 17:38:30,448 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 17:38:30,448 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 17:38:30,448 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 17:38:30,448 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 17:38:30,448 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 17:38:30,449 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 17:38:30,449 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 17:38:30,449 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 17:38:30,449 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 17:38:30,449 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 17:38:30,449 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 17:38:30,450 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 17:38:30,466 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user admin
2022-04-17 17:38:30,487 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] authenticated user admin, setting security context
2022-04-17 17:38:30,487 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 17:38:30,487 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 17:38:30,487 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 17:38:30,488 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@cac61f84: Principal: com.mpos.prueba.security.JwtUser@318798f6; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 17:38:30,488 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 17:38:30,488 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-4] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4eab9aec
2022-04-17 17:38:30,488 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 17:38:30,488 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 17:38:30,488 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 17:38:30,489 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 17:38:30,489 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 17:38:30,489 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 17:38:30,489 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 17:38:30,489 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 17:38:30,490 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 17:38:30,490 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 17:38:30,490 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /api/user/getUserById?id=1; Attributes: [authenticated]
2022-04-17 17:38:30,490 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@cac61f84: Principal: com.mpos.prueba.security.JwtUser@318798f6; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 17:38:30,491 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@34ec4534, returned: 1
2022-04-17 17:38:30,491 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 17:38:30,491 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 17:38:30,491 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 17:38:30,495 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:38:30,495 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@cac61f84: Principal: com.mpos.prueba.security.JwtUser@318798f6; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 17:38:30,496 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5da0a39b, returned: 1
2022-04-17 17:38:30,496 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 17:38:30,496 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 17:38:30,517 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-4] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@54c1ea28
2022-04-17 17:38:30,518 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Chain processed normally
2022-04-17 17:38:30,518 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-17 17:38:40,917 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 17:38:40,918 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 17:38:40,918 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 17:38:40,918 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 17:38:40,918 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 17:38:40,918 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 17:38:40,918 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 17:38:40,918 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 17:38:40,919 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 17:38:40,919 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 17:38:40,919 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 17:38:40,919 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 17:38:40,919 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 17:38:40,919 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 17:38:40,921 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user admin
2022-04-17 17:39:54,881 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] authenticated user admin, setting security context
2022-04-17 17:39:54,882 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 17:39:54,882 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 17:39:54,883 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 17:39:54,883 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f0e172a8: Principal: com.mpos.prueba.security.JwtUser@ba0f5da; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 17:39:54,883 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 17:39:54,883 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-3] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4eab9aec
2022-04-17 17:39:54,883 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 17:39:54,883 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 17:39:54,883 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 17:39:54,884 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 17:39:54,884 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 17:39:54,884 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 17:39:54,884 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 17:39:54,884 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 17:39:54,884 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 17:39:54,885 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 17:39:54,885 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /api/user/getUserById?id=1; Attributes: [authenticated]
2022-04-17 17:39:54,885 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f0e172a8: Principal: com.mpos.prueba.security.JwtUser@ba0f5da; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 17:39:54,885 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@34ec4534, returned: 1
2022-04-17 17:39:54,885 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 17:39:54,886 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 17:39:54,886 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 17:39:54,887 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:39:54,887 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f0e172a8: Principal: com.mpos.prueba.security.JwtUser@ba0f5da; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 17:39:54,888 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5da0a39b, returned: 1
2022-04-17 17:39:54,888 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 17:39:54,888 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 17:39:54,894 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@54c1ea28
2022-04-17 17:39:54,895 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 17:39:54,895 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 17:40:09,927 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 17:40:09,927 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 17:40:09,927 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 17:40:09,928 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 17:40:09,928 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 17:40:09,928 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 17:40:09,928 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 17:40:09,928 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/auth'; against '/logout'
2022-04-17 17:40:09,929 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 17:40:09,929 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 17:40:09,929 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 17:40:09,929 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 17:40:09,929 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 17:40:09,929 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 17:40:09,930 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] checking authentication for user null
2022-04-17 17:40:26,566 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 17:40:26,573 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 17:40:26,580 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 17:40:26,586 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@eec7e4c3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 17:40:26,593 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 17:40:26,599 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 17:40:26,605 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 17:40:26,612 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 17:40:26,617 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 17:40:26,623 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 17:40:26,630 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 17:40:26,636 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 17:40:26,643 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 17:40:26,648 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 17:40:26,654 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 17:40:26,661 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@eec7e4c3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 17:40:26,672 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@34ec4534, returned: 1
2022-04-17 17:40:26,679 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorization successful
2022-04-17 17:40:26,685 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] RunAsManager did not change Authentication object
2022-04-17 17:40:26,693 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 17:40:26,736 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-5] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 17:40:28,209 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-5] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@54c1ea28
2022-04-17 17:40:28,234 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Chain processed normally
2022-04-17 17:40:41,834 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 17:41:09,827 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 17:41:09,827 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 17:41:09,827 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 17:41:09,827 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 17:41:09,828 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 17:41:09,828 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 17:41:09,828 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 17:41:09,828 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 17:41:09,828 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 17:41:09,828 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 17:41:09,828 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 17:41:09,829 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 17:41:09,829 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 17:41:09,829 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 17:41:09,830 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] checking authentication for user null
2022-04-17 17:41:27,186 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 17:41:27,187 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 17:41:27,187 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 17:41:27,187 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@eec7e4c3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 17:41:27,187 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 17:41:27,187 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 17:41:27,187 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 17:41:27,188 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 17:41:27,188 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 17:41:27,188 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 17:41:27,188 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 17:41:27,189 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 17:41:27,189 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 17:41:27,189 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 17:41:27,190 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 17:41:27,190 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: FilterInvocation: URL: /api/user/getUserById?id=1; Attributes: [authenticated]
2022-04-17 17:41:27,190 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@eec7e4c3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 17:41:27,190 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@34ec4534, returned: -1
2022-04-17 17:41:27,195 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 17:41:27,198 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Calling Authentication entry point.
2022-04-17 17:41:27,199 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-6] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@54c1ea28
2022-04-17 17:41:27,199 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 17:41:27,201 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 17:41:27,202 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 17:41:27,202 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 17:41:27,202 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 17:41:27,202 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 17:41:27,202 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/error'; against '/logout'
2022-04-17 17:41:27,202 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 17:41:27,202 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 17:41:27,202 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 17:41:27,202 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 17:41:27,202 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 17:41:27,203 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 17:41:27,203 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 17:41:27,203 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 17:41:27,203 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 17:41:27,203 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 17:41:27,203 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 17:41:27,203 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@eec7e4c3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 17:41:27,203 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 17:41:27,204 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 17:41:27,204 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 17:41:27,204 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 17:41:27,216 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Chain processed normally
2022-04-17 17:41:27,217 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 17:41:33,048 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 17:41:33,048 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 17:41:33,049 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 17:41:33,049 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 17:41:33,049 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 17:41:33,049 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 17:41:33,049 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 17:41:33,049 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 17:41:33,049 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 17:41:33,049 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 17:41:33,050 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 17:41:33,050 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 17:41:33,050 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] No matches found
2022-04-17 17:41:33,050 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 17:41:33,051 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-7] checking authentication for user admin
2022-04-17 17:41:45,270 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-7] authenticated user admin, setting security context
2022-04-17 17:41:45,270 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 17:41:45,270 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 17:41:45,270 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 17:41:45,271 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c19a578c: Principal: com.mpos.prueba.security.JwtUser@3adbd0fe; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 17:41:45,271 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 17:41:45,271 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-7] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4eab9aec
2022-04-17 17:41:45,271 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 17:41:45,271 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 17:41:45,271 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 17:41:45,271 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 17:41:45,272 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 17:41:45,272 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 17:41:45,272 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 17:41:45,272 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 17:41:45,272 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 17:41:45,272 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 17:41:45,272 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Secure object: FilterInvocation: URL: /api/user/getUserById?id=1; Attributes: [authenticated]
2022-04-17 17:41:45,273 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c19a578c: Principal: com.mpos.prueba.security.JwtUser@3adbd0fe; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 17:41:45,273 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-7] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@34ec4534, returned: 1
2022-04-17 17:41:45,273 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorization successful
2022-04-17 17:41:45,273 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] RunAsManager did not change Authentication object
2022-04-17 17:41:45,273 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 17:41:45,274 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 17:41:45,274 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c19a578c: Principal: com.mpos.prueba.security.JwtUser@3adbd0fe; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 17:41:45,274 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-7] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5da0a39b, returned: 1
2022-04-17 17:41:45,274 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorization successful
2022-04-17 17:41:45,275 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] RunAsManager did not change Authentication object
2022-04-17 17:41:45,281 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-7] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@54c1ea28
2022-04-17 17:41:45,281 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Chain processed normally
2022-04-17 17:41:45,282 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] SecurityContextHolder now cleared, as request processing completed
2022-04-17 18:06:44,622 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 33064 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 18:06:44,626 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 18:06:45,194 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 18:06:45,260 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 60ms. Found 4 repository interfaces.
2022-04-17 18:06:45,519 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b3fcb018] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 18:06:45,549 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$4caa7852] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 18:06:45,552 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 18:06:45,554 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@508a65bf' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 18:06:45,556 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$717f1b04] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 18:06:45,559 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 18:06:45,867 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 18:06:45,885 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 18:06:45,885 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 18:06:45,893 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 18:06:45,970 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1309 ms
2022-04-17 18:06:46,212 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 18:06:46,594 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 18:06:46,648 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 18:06:46,715 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 18:06:46,717 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 18:06:46,879 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 18:06:47,043 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 18:06:48,069 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 18:06:48,649 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$56bfb00a@61aa6300}
2022-04-17 18:06:48,694 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 18:06:48,713 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:06:48,720 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 18:06:48,731 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 18:06:48,731 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:06:48,732 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 18:06:48,732 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:06:48,732 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 18:06:48,732 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:06:48,733 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 18:06:48,733 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:06:48,733 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 18:06:48,733 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:06:48,734 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 18:06:48,734 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:06:48,820 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 18:06:48,821 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 18:06:48,821 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 18:06:48,821 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 18:06:48,821 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 18:06:48,822 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 18:06:48,822 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 18:06:48,822 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 18:06:48,822 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 18:06:48,824 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 18:06:48,824 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 18:06:48,826 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a013b23, org.springframework.security.web.context.SecurityContextPersistenceFilter@1d4531fa, org.springframework.security.web.header.HeaderWriterFilter@4fd00e10, org.springframework.security.web.authentication.logout.LogoutFilter@1d9bd4d6, com.mpos.prueba.security.JwtAuthenticationTokenFilter@3702d0ed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c2f310c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2689b752, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f20dfd5, org.springframework.security.web.session.SessionManagementFilter@6166aac5, org.springframework.security.web.access.ExceptionTranslationFilter@1bd6638, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1cf4d454]
2022-04-17 18:06:48,982 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 18:06:49,031 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 18:06:49,216 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 18:06:49,218 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 4.94 seconds (JVM running for 5.683)
2022-04-17 18:07:09,406 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-04-17 18:07:09,415 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 9 ms
2022-04-17 18:07:09,426 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:07:09,427 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:07:09,429 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:07:09,432 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:07:09,433 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:07:09,433 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 18:07:09,433 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:07:09,433 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 18:07:09,433 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:07:09,433 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 18:07:09,434 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:07:09,434 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 18:07:09,434 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 18:07:09,434 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:07:09,497 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user null
2022-04-17 18:07:20,052 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 18:07:20,052 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 18:07:20,054 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 18:07:20,055 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@da86e1d6: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 18:07:20,056 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 18:07:20,056 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 18:07:20,056 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 18:07:20,057 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 18:07:20,057 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 18:07:20,057 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 18:07:20,057 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 18:07:20,058 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 18:07:20,058 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 18:07:20,058 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 18:07:20,058 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 18:07:20,058 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/user/getUserById?id=10; Attributes: [authenticated]
2022-04-17 18:07:20,058 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@da86e1d6: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 18:07:20,061 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4cc6d176, returned: -1
2022-04-17 18:07:20,066 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 18:07:20,069 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Calling Authentication entry point.
2022-04-17 18:07:20,070 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@32dd8cf6
2022-04-17 18:07:20,070 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 18:07:20,073 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=10 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:07:20,073 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=10 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:07:20,074 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=10 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:07:20,074 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=10 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:07:20,074 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:07:20,074 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/error'; against '/logout'
2022-04-17 18:07:20,074 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:07:20,074 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 18:07:20,074 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:07:20,074 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 18:07:20,074 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:07:20,074 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 18:07:20,074 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 18:07:20,075 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=10 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:07:20,075 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=10 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 18:07:20,075 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=10 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 18:07:20,075 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=10 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 18:07:20,075 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@da86e1d6: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 18:07:20,075 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=10 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 18:07:20,076 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=10 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 18:07:20,076 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=10 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 18:07:20,076 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=10 reached end of additional filter chain; proceeding with original chain
2022-04-17 18:07:20,147 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 18:07:20,147 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 18:07:27,759 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:07:27,759 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:07:27,760 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:07:27,760 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:07:27,760 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:07:27,760 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 18:07:27,760 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:07:27,760 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/logout'
2022-04-17 18:07:27,761 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:07:27,761 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 18:07:27,761 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:07:27,761 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 18:07:27,761 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 18:07:27,761 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:07:27,762 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user null
2022-04-17 18:07:27,762 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 18:07:27,762 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 18:07:27,762 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 18:07:27,762 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@da86e1d6: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 18:07:27,763 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 18:07:27,763 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 18:07:27,763 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 18:07:27,763 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 18:07:27,763 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 18:07:27,763 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 18:07:27,764 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 18:07:27,764 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 18:07:27,764 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 18:07:27,764 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 18:07:27,764 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 18:07:27,764 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@da86e1d6: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 18:07:27,766 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4cc6d176, returned: 1
2022-04-17 18:07:27,766 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 18:07:27,766 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 18:07:27,766 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 18:07:27,797 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-3] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 18:07:27,905 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-3] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 18:07:28,122 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@32dd8cf6
2022-04-17 18:07:28,124 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 18:07:28,125 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 18:07:43,991 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=10 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:07:43,991 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=10 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:07:43,991 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=10 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:07:43,992 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=10 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:07:43,992 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:07:43,992 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 18:07:43,992 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:07:43,992 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 18:07:43,992 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:07:43,992 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 18:07:43,992 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:07:43,992 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 18:07:43,993 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 18:07:43,993 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=10 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:07:43,996 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user admin
2022-04-17 18:07:44,020 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] authenticated user admin, setting security context
2022-04-17 18:07:44,021 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=10 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 18:07:44,021 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=10 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 18:07:44,021 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=10 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 18:07:44,021 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@96d9f326: Principal: com.mpos.prueba.security.JwtUser@6d987454; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 18:07:44,021 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=10 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 18:07:44,021 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-4] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@912a644
2022-04-17 18:07:44,021 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=10 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 18:07:44,022 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=10 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 18:07:44,022 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 18:07:44,022 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 18:07:44,022 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 18:07:44,022 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 18:07:44,022 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 18:07:44,022 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 18:07:44,022 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 18:07:44,022 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 18:07:44,023 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /api/user/getUserById?id=10; Attributes: [authenticated]
2022-04-17 18:07:44,023 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@96d9f326: Principal: com.mpos.prueba.security.JwtUser@6d987454; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 18:07:44,023 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4cc6d176, returned: 1
2022-04-17 18:07:44,023 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 18:07:44,023 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 18:07:44,023 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUserById?id=10 reached end of additional filter chain; proceeding with original chain
2022-04-17 18:07:44,026 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:07:44,027 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@96d9f326: Principal: com.mpos.prueba.security.JwtUser@6d987454; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 18:07:44,028 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@1b2cc57c, returned: 1
2022-04-17 18:07:44,028 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 18:07:44,028 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 18:07:44,045 ERROR com.mpos.prueba.controllers.UserRestController [http-nio-8080-exec-4] java.util.NoSuchElementException: No value present
2022-04-17 18:07:44,047 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Chain processed normally
2022-04-17 18:07:44,048 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-4] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@32dd8cf6
2022-04-17 18:07:44,048 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-17 18:08:05,468 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=10 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:08:05,469 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=10 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:08:05,469 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=10 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:08:05,469 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=10 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:08:05,469 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:08:05,469 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 18:08:05,470 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:08:05,470 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 18:08:05,470 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:08:05,470 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 18:08:05,470 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:08:05,470 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 18:08:05,470 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 18:08:05,470 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=10 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:08:05,472 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] checking authentication for user admin
2022-04-17 18:08:09,049 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] authenticated user admin, setting security context
2022-04-17 18:08:09,049 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=10 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 18:08:09,049 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=10 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 18:08:09,049 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=10 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 18:08:09,050 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bf52dee7: Principal: com.mpos.prueba.security.JwtUser@44135995; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 18:08:09,050 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=10 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 18:08:09,050 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-6] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@912a644
2022-04-17 18:08:09,050 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=10 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 18:08:09,050 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=10 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 18:08:09,050 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 18:08:09,051 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 18:08:09,051 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 18:08:09,051 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 18:08:09,051 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 18:08:09,051 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 18:08:09,051 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 18:08:09,052 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 18:08:09,052 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: FilterInvocation: URL: /api/user/getUserById?id=10; Attributes: [authenticated]
2022-04-17 18:08:09,052 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bf52dee7: Principal: com.mpos.prueba.security.JwtUser@44135995; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 18:08:09,052 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4cc6d176, returned: 1
2022-04-17 18:08:09,052 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorization successful
2022-04-17 18:08:09,052 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] RunAsManager did not change Authentication object
2022-04-17 18:08:09,053 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/getUserById?id=10 reached end of additional filter chain; proceeding with original chain
2022-04-17 18:08:09,053 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:08:09,054 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bf52dee7: Principal: com.mpos.prueba.security.JwtUser@44135995; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 18:08:09,054 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@1b2cc57c, returned: 1
2022-04-17 18:08:09,054 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorization successful
2022-04-17 18:08:09,054 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] RunAsManager did not change Authentication object
2022-04-17 18:08:09,056 ERROR com.mpos.prueba.controllers.UserRestController [http-nio-8080-exec-6] java.util.NoSuchElementException: No value present
2022-04-17 18:08:09,057 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Chain processed normally
2022-04-17 18:08:09,057 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-6] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@32dd8cf6
2022-04-17 18:08:09,057 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 18:08:31,197 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=10 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:08:31,198 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=10 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:08:31,198 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=10 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:08:31,198 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=10 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:08:31,199 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:08:31,199 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 18:08:31,199 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:08:31,199 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 18:08:31,199 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:08:31,200 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 18:08:31,200 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:08:31,200 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 18:08:31,200 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 18:08:31,200 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=10 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:08:31,202 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] checking authentication for user admin
2022-04-17 18:08:38,395 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] authenticated user admin, setting security context
2022-04-17 18:08:38,395 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=10 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 18:08:38,395 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=10 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 18:08:38,395 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=10 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 18:08:38,395 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@918cd33e: Principal: com.mpos.prueba.security.JwtUser@6acd544c; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 18:08:38,396 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=10 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 18:08:38,396 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-8] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@912a644
2022-04-17 18:08:38,396 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=10 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 18:08:38,396 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=10 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 18:08:38,397 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 18:08:38,398 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 18:08:38,398 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 18:08:38,398 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 18:08:38,398 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 18:08:38,398 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 18:08:38,399 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 18:08:38,399 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 18:08:38,399 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Secure object: FilterInvocation: URL: /api/user/getUserById?id=10; Attributes: [authenticated]
2022-04-17 18:08:38,399 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@918cd33e: Principal: com.mpos.prueba.security.JwtUser@6acd544c; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 18:08:38,399 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-8] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4cc6d176, returned: 1
2022-04-17 18:08:38,400 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorization successful
2022-04-17 18:08:38,400 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] RunAsManager did not change Authentication object
2022-04-17 18:08:38,400 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/getUserById?id=10 reached end of additional filter chain; proceeding with original chain
2022-04-17 18:08:38,401 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:08:38,401 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@918cd33e: Principal: com.mpos.prueba.security.JwtUser@6acd544c; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 18:08:38,401 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-8] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@1b2cc57c, returned: 1
2022-04-17 18:08:38,402 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorization successful
2022-04-17 18:08:38,402 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] RunAsManager did not change Authentication object
2022-04-17 18:08:58,883 ERROR com.mpos.prueba.controllers.UserRestController [http-nio-8080-exec-8] java.util.NoSuchElementException: No value present
2022-04-17 18:08:58,884 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-8] Chain processed normally
2022-04-17 18:08:58,884 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-8] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@32dd8cf6
2022-04-17 18:08:58,884 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 18:09:10,821 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserById?id=10 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:09:10,822 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserById?id=10 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:09:10,822 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserById?id=10 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:09:10,822 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserById?id=10 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:09:10,822 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:09:10,822 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 18:09:10,822 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:09:10,823 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 18:09:10,823 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:09:10,823 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 18:09:10,823 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:09:10,823 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 18:09:10,823 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-10] No matches found
2022-04-17 18:09:10,823 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserById?id=10 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:09:10,825 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-10] checking authentication for user admin
2022-04-17 18:09:12,923 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-10] authenticated user admin, setting security context
2022-04-17 18:09:12,923 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserById?id=10 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 18:09:12,924 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserById?id=10 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 18:09:12,924 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserById?id=10 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 18:09:12,924 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-10] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@af3e6f6b: Principal: com.mpos.prueba.security.JwtUser@547fe819; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 18:09:12,924 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserById?id=10 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 18:09:12,924 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-10] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@912a644
2022-04-17 18:09:12,924 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserById?id=10 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 18:09:12,925 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserById?id=10 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 18:09:12,925 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 18:09:12,925 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 18:09:12,926 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 18:09:12,926 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 18:09:12,926 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 18:09:12,926 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 18:09:12,926 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 18:09:12,927 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-10] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 18:09:12,927 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Secure object: FilterInvocation: URL: /api/user/getUserById?id=10; Attributes: [authenticated]
2022-04-17 18:09:12,927 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@af3e6f6b: Principal: com.mpos.prueba.security.JwtUser@547fe819; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 18:09:12,927 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-10] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4cc6d176, returned: 1
2022-04-17 18:09:12,927 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorization successful
2022-04-17 18:09:12,928 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] RunAsManager did not change Authentication object
2022-04-17 18:09:12,928 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] /api/user/getUserById?id=10 reached end of additional filter chain; proceeding with original chain
2022-04-17 18:09:12,929 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:09:12,929 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@af3e6f6b: Principal: com.mpos.prueba.security.JwtUser@547fe819; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 18:09:12,929 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-10] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@1b2cc57c, returned: 1
2022-04-17 18:09:12,930 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorization successful
2022-04-17 18:09:12,930 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] RunAsManager did not change Authentication object
2022-04-17 18:09:15,878 ERROR com.mpos.prueba.controllers.UserRestController [http-nio-8080-exec-10] java.util.NoSuchElementException: No value present
2022-04-17 18:09:15,879 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-10] Chain processed normally
2022-04-17 18:09:15,880 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-10] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@32dd8cf6
2022-04-17 18:09:15,880 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] SecurityContextHolder now cleared, as request processing completed
2022-04-17 18:09:34,136 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:09:34,137 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:09:34,137 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:09:34,137 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:09:34,137 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:09:34,137 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 18:09:34,137 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:09:34,137 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 18:09:34,137 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:09:34,138 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 18:09:34,138 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:09:34,138 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 18:09:34,138 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 18:09:34,138 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:09:34,139 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user admin
2022-04-17 18:09:36,963 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] authenticated user admin, setting security context
2022-04-17 18:09:36,963 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 18:09:36,963 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 18:09:36,964 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 18:09:36,964 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fd5345f4: Principal: com.mpos.prueba.security.JwtUser@612c286; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 18:09:36,965 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 18:09:36,965 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-1] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@912a644
2022-04-17 18:09:36,965 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 18:09:36,966 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 18:09:36,966 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 18:09:36,966 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 18:09:36,966 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 18:09:36,967 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 18:09:36,967 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 18:09:36,967 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 18:09:36,967 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 18:09:36,967 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 18:09:36,967 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/user/getUserById?id=10; Attributes: [authenticated]
2022-04-17 18:09:36,968 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fd5345f4: Principal: com.mpos.prueba.security.JwtUser@612c286; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 18:09:36,968 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4cc6d176, returned: 1
2022-04-17 18:09:36,968 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorization successful
2022-04-17 18:09:36,968 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] RunAsManager did not change Authentication object
2022-04-17 18:09:36,968 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=10 reached end of additional filter chain; proceeding with original chain
2022-04-17 18:09:36,970 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:09:36,970 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fd5345f4: Principal: com.mpos.prueba.security.JwtUser@612c286; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 18:09:36,970 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@1b2cc57c, returned: 1
2022-04-17 18:09:36,971 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorization successful
2022-04-17 18:09:36,971 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] RunAsManager did not change Authentication object
2022-04-17 18:54:42,644 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 33040 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 18:54:42,647 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 18:54:43,204 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 18:54:43,273 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 62ms. Found 4 repository interfaces.
2022-04-17 18:54:43,534 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ffb7e7b3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 18:54:43,563 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$9865afed] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 18:54:43,567 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 18:54:43,569 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@cdb2d95' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 18:54:43,572 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$bd3a529f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 18:54:43,574 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 18:54:43,888 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 18:54:43,908 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 18:54:43,908 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 18:54:43,918 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 18:54:44,003 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1322 ms
2022-04-17 18:54:44,259 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 18:54:44,716 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 18:54:44,773 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 18:54:44,842 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 18:54:44,845 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 18:54:45,007 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 18:54:45,178 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 18:54:46,205 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 18:54:46,774 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$a27ae7a5@2a4bd699}
2022-04-17 18:54:46,822 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 18:54:46,843 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:54:46,853 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 18:54:46,866 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 18:54:46,867 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:54:46,867 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 18:54:46,867 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:54:46,868 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 18:54:46,868 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:54:46,868 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 18:54:46,868 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:54:46,869 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 18:54:46,869 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:54:46,869 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 18:54:46,869 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 18:54:47,030 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 18:54:47,032 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 18:54:47,032 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 18:54:47,032 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 18:54:47,032 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 18:54:47,032 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 18:54:47,033 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 18:54:47,033 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 18:54:47,033 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 18:54:47,035 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 18:54:47,036 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 18:54:47,039 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c2fa57a, org.springframework.security.web.context.SecurityContextPersistenceFilter@7b4c793b, org.springframework.security.web.header.HeaderWriterFilter@6cb417fc, org.springframework.security.web.authentication.logout.LogoutFilter@1f02b6d1, com.mpos.prueba.security.JwtAuthenticationTokenFilter@23ffc910, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6442cf3e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24749ad3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4027edeb, org.springframework.security.web.session.SessionManagementFilter@1a45e29f, org.springframework.security.web.access.ExceptionTranslationFilter@406decb2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@48a21ea6]
2022-04-17 18:54:47,229 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 18:54:47,279 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 18:54:47,482 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 18:54:47,484 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.186 seconds (JVM running for 5.919)
2022-04-17 18:56:48,099 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 18:56:48,110 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 11 ms
2022-04-17 18:56:48,121 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:56:48,122 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:56:48,124 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:56:48,127 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:56:48,128 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:56:48,128 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/logout'
2022-04-17 18:56:48,128 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:56:48,129 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/updateUser' doesn't match 'POST /logout'
2022-04-17 18:56:48,129 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:56:48,129 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/updateUser' doesn't match 'PUT /logout'
2022-04-17 18:56:48,129 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:56:48,129 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/updateUser' doesn't match 'DELETE /logout'
2022-04-17 18:56:48,130 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 18:56:48,130 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:56:48,146 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user null
2022-04-17 18:56:48,147 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 18:56:48,147 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 18:56:48,148 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 18:56:48,149 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@f720292c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 18:56:48,149 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 18:56:48,149 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 18:56:48,149 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 18:56:48,150 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/'
2022-04-17 18:56:48,150 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/*.html'
2022-04-17 18:56:48,151 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/favicon.ico'
2022-04-17 18:56:48,151 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/**/*.html'
2022-04-17 18:56:48,151 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/**/*.css'
2022-04-17 18:56:48,151 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/**/*.js'
2022-04-17 18:56:48,151 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/auth/**'
2022-04-17 18:56:48,151 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/user/**'
2022-04-17 18:56:48,151 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/user/updateUser?id=3; Attributes: [authenticated]
2022-04-17 18:56:48,152 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@f720292c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 18:56:48,156 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6e4fea7, returned: -1
2022-04-17 18:56:48,161 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 18:56:48,165 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Calling Authentication entry point.
2022-04-17 18:56:48,166 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@36fbb06e
2022-04-17 18:56:48,166 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 18:56:48,168 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:56:48,168 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:56:48,169 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:56:48,169 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:56:48,169 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:56:48,169 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/error'; against '/logout'
2022-04-17 18:56:48,169 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:56:48,169 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 18:56:48,169 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:56:48,169 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 18:56:48,169 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:56:48,170 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 18:56:48,170 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 18:56:48,170 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:56:48,170 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 18:56:48,170 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 18:56:48,170 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 18:56:48,170 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@f720292c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 18:56:48,170 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 18:56:48,170 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 18:56:48,170 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 18:56:48,171 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 reached end of additional filter chain; proceeding with original chain
2022-04-17 18:56:48,262 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 18:56:48,262 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 18:56:55,022 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:56:55,023 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:56:55,023 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:56:55,023 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:56:55,023 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:56:55,023 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 18:56:55,023 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:56:55,023 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/logout'
2022-04-17 18:56:55,024 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:56:55,024 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 18:56:55,024 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:56:55,024 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 18:56:55,025 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 18:56:55,025 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:56:55,025 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user null
2022-04-17 18:56:55,025 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 18:56:55,025 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 18:56:55,025 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 18:56:55,026 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@f720292c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 18:56:55,026 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 18:56:55,026 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 18:56:55,026 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 18:56:55,026 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 18:56:55,027 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 18:56:55,027 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 18:56:55,027 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 18:56:55,027 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 18:56:55,027 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 18:56:55,028 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 18:56:55,028 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 18:56:55,028 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@f720292c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 18:56:55,030 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6e4fea7, returned: 1
2022-04-17 18:56:55,030 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 18:56:55,030 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 18:56:55,030 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 18:56:55,072 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-3] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 18:56:55,182 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-3] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 18:56:55,382 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@36fbb06e
2022-04-17 18:56:55,384 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 18:56:55,384 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 18:57:11,730 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:57:11,731 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:57:11,731 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:57:11,731 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:57:11,732 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:57:11,732 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/updateUser'; against '/logout'
2022-04-17 18:57:11,732 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:57:11,732 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/updateUser' doesn't match 'POST /logout'
2022-04-17 18:57:11,732 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:57:11,732 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/updateUser' doesn't match 'PUT /logout'
2022-04-17 18:57:11,732 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:57:11,732 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/updateUser' doesn't match 'DELETE /logout'
2022-04-17 18:57:11,733 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 18:57:11,733 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:57:11,750 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user admin
2022-04-17 18:57:21,839 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-4] SQL Error: 2627, SQLState: 23000
2022-04-17 18:57:21,847 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-4] Violation of UNIQUE KEY constraint 'UK_7d9blwx97al04gdm0y0vbnuw5'. Cannot insert duplicate key in object 'dbo.user_mpos'. The duplicate key value is (admin).
2022-04-17 18:57:26,053 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-4] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@36fbb06e
2022-04-17 18:57:26,054 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-17 18:57:26,054 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:57:26,055 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:57:26,055 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:57:26,055 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:57:26,055 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:57:26,056 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/error'; against '/logout'
2022-04-17 18:57:26,056 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:57:26,056 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 18:57:26,056 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:57:26,056 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 18:57:26,056 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:57:26,056 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 18:57:26,057 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 18:57:26,057 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:57:26,057 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 18:57:26,057 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 18:57:26,057 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 18:57:26,057 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@f720292c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 18:57:26,058 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 18:57:26,058 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 18:57:26,058 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /error?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 18:57:26,058 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/error'; against '/'
2022-04-17 18:57:26,058 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/error'; against '/*.html'
2022-04-17 18:57:26,059 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/error'; against '/favicon.ico'
2022-04-17 18:57:26,059 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/error'; against '/**/*.html'
2022-04-17 18:57:26,059 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/error'; against '/**/*.css'
2022-04-17 18:57:26,059 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/error'; against '/**/*.js'
2022-04-17 18:57:26,059 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/error'; against '/auth/**'
2022-04-17 18:57:26,059 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/error'; against '/user/**'
2022-04-17 18:57:26,060 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /error?id=3; Attributes: [authenticated]
2022-04-17 18:57:26,060 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@f720292c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 18:57:26,060 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6e4fea7, returned: -1
2022-04-17 18:57:26,061 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 18:57:26,061 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Calling Authentication entry point.
2022-04-17 18:57:26,062 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-17 18:57:56,572 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:57:56,573 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:57:56,573 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:57:56,573 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:57:56,573 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:57:56,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 18:57:56,574 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:57:56,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/auth'; against '/logout'
2022-04-17 18:57:56,574 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:57:56,574 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 18:57:56,574 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:57:56,575 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 18:57:56,575 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 18:57:56,575 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:57:56,575 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] checking authentication for user null
2022-04-17 18:57:56,576 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 18:57:56,576 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 18:57:56,576 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 18:57:56,576 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@f720292c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 18:57:56,576 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 18:57:56,577 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 18:57:56,577 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 18:57:56,577 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 18:57:56,577 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 18:57:56,577 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 18:57:56,577 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 18:57:56,578 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 18:57:56,578 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 18:57:56,578 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 18:57:56,578 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 18:57:56,578 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@f720292c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 18:57:56,579 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6e4fea7, returned: 1
2022-04-17 18:57:56,579 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorization successful
2022-04-17 18:57:56,579 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] RunAsManager did not change Authentication object
2022-04-17 18:57:56,579 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 18:57:56,581 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-5] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 18:57:56,613 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-5] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@36fbb06e
2022-04-17 18:57:56,615 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Chain processed normally
2022-04-17 18:57:56,615 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 18:58:45,665 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/updateUser?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 18:58:45,666 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/updateUser?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 18:58:45,666 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/updateUser?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 18:58:45,666 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/updateUser?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 18:58:45,666 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 18:58:45,667 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/updateUser'; against '/logout'
2022-04-17 18:58:45,667 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 18:58:45,667 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/updateUser' doesn't match 'POST /logout'
2022-04-17 18:58:45,667 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 18:58:45,667 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/updateUser' doesn't match 'PUT /logout'
2022-04-17 18:58:45,668 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 18:58:45,668 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/user/updateUser' doesn't match 'DELETE /logout'
2022-04-17 18:58:45,668 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 18:58:45,668 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/updateUser?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 18:58:45,670 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] checking authentication for user admin
2022-04-17 19:01:22,243 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-6] SQL Error: 2627, SQLState: 23000
2022-04-17 19:01:22,250 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-6] Violation of UNIQUE KEY constraint 'UK_7d9blwx97al04gdm0y0vbnuw5'. Cannot insert duplicate key in object 'dbo.user_mpos'. The duplicate key value is (admin).
2022-04-17 19:01:24,525 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-6] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@36fbb06e
2022-04-17 19:01:24,526 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:01:24,527 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:01:24,527 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:01:24,528 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:01:24,528 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:01:24,528 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:01:24,528 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/error'; against '/logout'
2022-04-17 19:01:24,528 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:01:24,528 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 19:01:24,528 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:01:24,529 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 19:01:24,529 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:01:24,529 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 19:01:24,529 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 19:01:24,529 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:01:24,529 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:01:24,529 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:01:24,530 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:01:24,530 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@f720292c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:01:24,530 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:01:24,530 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:01:24,531 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /error?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:01:24,531 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/error'; against '/'
2022-04-17 19:01:24,531 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/error'; against '/*.html'
2022-04-17 19:01:24,531 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/error'; against '/favicon.ico'
2022-04-17 19:01:24,531 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/error'; against '/**/*.html'
2022-04-17 19:01:24,531 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/error'; against '/**/*.css'
2022-04-17 19:01:24,531 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/error'; against '/**/*.js'
2022-04-17 19:01:24,532 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/error'; against '/auth/**'
2022-04-17 19:01:24,532 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/error'; against '/user/**'
2022-04-17 19:01:24,532 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: FilterInvocation: URL: /error?id=3; Attributes: [authenticated]
2022-04-17 19:01:24,532 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@f720292c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 19:01:24,532 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6e4fea7, returned: -1
2022-04-17 19:01:24,533 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 19:01:24,533 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Calling Authentication entry point.
2022-04-17 19:01:24,533 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:02:00,577 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 25204 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 19:02:00,581 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 19:02:01,216 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 19:02:01,288 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 66ms. Found 4 repository interfaces.
2022-04-17 19:02:01,557 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1a8c36ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:02:01,588 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$b339ff39] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:02:01,592 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:02:01,593 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@45acdd11' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:02:01,595 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$d80ea1eb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:02:01,606 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:02:01,910 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 19:02:01,930 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 19:02:01,931 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 19:02:01,940 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 19:02:02,031 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1411 ms
2022-04-17 19:02:02,272 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 19:02:02,656 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 19:02:02,711 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 19:02:02,780 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 19:02:02,782 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 19:02:02,957 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 19:02:03,114 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 19:02:04,130 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 19:02:04,694 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$bd4f36f1@642f8b7f}
2022-04-17 19:02:04,737 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:02:04,755 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:02:04,762 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:02:04,772 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:02:04,772 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:02:04,773 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:02:04,773 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:02:04,773 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:02:04,773 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:02:04,773 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:02:04,774 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:02:04,774 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:02:04,774 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:02:04,774 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:02:04,774 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:02:04,858 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 19:02:04,859 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 19:02:04,859 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 19:02:04,860 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 19:02:04,860 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 19:02:04,860 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 19:02:04,860 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 19:02:04,860 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 19:02:04,860 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 19:02:04,862 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:02:04,862 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:02:04,864 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47fce2c4, org.springframework.security.web.context.SecurityContextPersistenceFilter@6e96f3cd, org.springframework.security.web.header.HeaderWriterFilter@27ac3b6d, org.springframework.security.web.authentication.logout.LogoutFilter@24a1858a, com.mpos.prueba.security.JwtAuthenticationTokenFilter@49b180c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b984ba5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c05f83b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3810806c, org.springframework.security.web.session.SessionManagementFilter@242ebd3b, org.springframework.security.web.access.ExceptionTranslationFilter@37fd496a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20923380]
2022-04-17 19:02:05,019 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 19:02:05,068 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 19:02:05,253 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 19:02:05,254 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.075 seconds (JVM running for 5.861)
2022-04-17 19:02:16,329 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-04-17 19:02:16,340 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 10 ms
2022-04-17 19:02:16,351 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/updateUser?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:02:16,352 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/updateUser?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:02:16,354 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/updateUser?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:02:16,357 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/updateUser?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:02:16,357 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:02:16,357 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/updateUser'; against '/logout'
2022-04-17 19:02:16,357 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:02:16,358 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/updateUser' doesn't match 'POST /logout'
2022-04-17 19:02:16,358 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:02:16,358 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/updateUser' doesn't match 'PUT /logout'
2022-04-17 19:02:16,358 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:02:16,358 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/updateUser' doesn't match 'DELETE /logout'
2022-04-17 19:02:16,358 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 19:02:16,358 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/updateUser?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:02:16,421 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user admin
2022-04-17 19:02:16,445 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-1] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 19:02:39,826 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] authenticated user admin, setting security context
2022-04-17 19:02:39,826 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/updateUser?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:02:39,827 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/updateUser?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:02:39,828 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/updateUser?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:02:39,829 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@cdfcf25f: Principal: com.mpos.prueba.security.JwtUser@36bd752d; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 19:02:39,829 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/updateUser?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:02:39,829 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-1] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5b29d699
2022-04-17 19:02:39,829 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/updateUser?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:02:39,829 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/updateUser?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:02:39,830 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/updateUser'; against '/'
2022-04-17 19:02:39,830 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/updateUser'; against '/*.html'
2022-04-17 19:02:39,830 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/updateUser'; against '/favicon.ico'
2022-04-17 19:02:39,831 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/updateUser'; against '/**/*.html'
2022-04-17 19:02:39,831 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/updateUser'; against '/**/*.css'
2022-04-17 19:02:39,831 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/updateUser'; against '/**/*.js'
2022-04-17 19:02:39,831 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/updateUser'; against '/auth/**'
2022-04-17 19:02:39,831 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/updateUser'; against '/user/**'
2022-04-17 19:02:39,831 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/user/updateUser?id=3; Attributes: [authenticated]
2022-04-17 19:02:39,832 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@cdfcf25f: Principal: com.mpos.prueba.security.JwtUser@36bd752d; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:02:39,836 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@43176929, returned: 1
2022-04-17 19:02:39,836 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorization successful
2022-04-17 19:02:39,837 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] RunAsManager did not change Authentication object
2022-04-17 19:02:39,837 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/updateUser?id=3 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:02:39,847 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2807cc13
2022-04-17 19:02:39,847 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-1] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2022-04-17 19:02:39,848 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 19:02:39,848 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:02:39,852 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:02:39,852 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:02:39,852 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:02:39,853 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:02:39,853 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:02:39,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/error'; against '/logout'
2022-04-17 19:02:39,853 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:02:39,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 19:02:39,853 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:02:39,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 19:02:39,853 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:02:39,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 19:02:39,854 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 19:02:39,854 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:02:39,854 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:02:39,854 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:02:39,854 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:02:39,854 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2112fde1: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:02:39,855 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:02:39,855 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:02:39,855 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:02:39,855 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=3 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:02:39,918 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 19:02:39,918 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:03:49,076 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/updateUser?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:03:49,076 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/updateUser?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:03:49,077 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/updateUser?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:03:49,077 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/updateUser?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:03:49,077 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:03:49,077 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/user/updateUser' doesn't match 'GET /logout'
2022-04-17 19:03:49,077 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:03:49,077 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/user/updateUser' doesn't match 'POST /logout'
2022-04-17 19:03:49,078 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:03:49,078 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/updateUser'; against '/logout'
2022-04-17 19:03:49,078 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:03:49,078 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/user/updateUser' doesn't match 'DELETE /logout'
2022-04-17 19:03:49,078 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 19:03:49,078 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/updateUser?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:03:49,081 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] checking authentication for user admin
2022-04-17 19:03:49,103 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] authenticated user admin, setting security context
2022-04-17 19:03:49,103 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/updateUser?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:03:49,103 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/updateUser?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:03:49,103 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/updateUser?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:03:49,103 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d4b34436: Principal: com.mpos.prueba.security.JwtUser@2ff2c344; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 19:03:49,104 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/updateUser?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:03:49,104 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-5] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5b29d699
2022-04-17 19:03:49,104 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/updateUser?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:03:49,104 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/updateUser?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:03:49,104 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/user/updateUser' doesn't match 'GET /'
2022-04-17 19:03:49,105 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/user/updateUser' doesn't match 'GET /*.html'
2022-04-17 19:03:49,105 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/user/updateUser' doesn't match 'GET /favicon.ico'
2022-04-17 19:03:49,105 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.html'
2022-04-17 19:03:49,105 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.css'
2022-04-17 19:03:49,105 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.js'
2022-04-17 19:03:49,105 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/updateUser'; against '/auth/**'
2022-04-17 19:03:49,105 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/updateUser'; against '/user/**'
2022-04-17 19:03:49,106 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: FilterInvocation: URL: /api/user/updateUser?id=3; Attributes: [authenticated]
2022-04-17 19:03:49,106 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d4b34436: Principal: com.mpos.prueba.security.JwtUser@2ff2c344; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:03:49,106 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@43176929, returned: 1
2022-04-17 19:03:49,106 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorization successful
2022-04-17 19:03:49,107 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] RunAsManager did not change Authentication object
2022-04-17 19:03:49,107 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/updateUser?id=3 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:03:49,108 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-5] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2807cc13
2022-04-17 19:03:49,108 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-5] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported]
2022-04-17 19:03:49,109 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Chain processed normally
2022-04-17 19:03:49,109 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:03:49,109 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:03:49,109 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:03:49,109 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:03:49,109 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:03:49,109 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:03:49,110 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /error' doesn't match 'GET /logout'
2022-04-17 19:03:49,110 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:03:49,110 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /error' doesn't match 'POST /logout'
2022-04-17 19:03:49,110 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:03:49,110 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/error'; against '/logout'
2022-04-17 19:03:49,110 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:03:49,110 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /error' doesn't match 'DELETE /logout'
2022-04-17 19:03:49,110 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 19:03:49,110 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:03:49,110 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:03:49,110 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:03:49,111 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:03:49,111 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2112fde1: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:03:49,111 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:03:49,111 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:03:49,111 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:03:49,111 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:03:49,114 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Chain processed normally
2022-04-17 19:03:49,114 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:06:25,413 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/updateUser?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:06:25,414 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/updateUser?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:06:25,414 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/updateUser?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:06:25,414 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/updateUser?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:06:25,414 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:06:25,414 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'PUT /api/user/updateUser' doesn't match 'GET /logout'
2022-04-17 19:06:25,414 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:06:25,414 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'PUT /api/user/updateUser' doesn't match 'POST /logout'
2022-04-17 19:06:25,415 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:06:25,415 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/updateUser'; against '/logout'
2022-04-17 19:06:25,415 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:06:25,415 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'PUT /api/user/updateUser' doesn't match 'DELETE /logout'
2022-04-17 19:06:25,415 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 19:06:25,415 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/updateUser?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:06:25,418 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] checking authentication for user admin
2022-04-17 19:06:25,430 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] authenticated user admin, setting security context
2022-04-17 19:06:25,430 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/updateUser?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:06:25,430 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/updateUser?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:06:25,430 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/updateUser?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:06:25,430 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ee6e3172: Principal: com.mpos.prueba.security.JwtUser@152fb600; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 19:06:25,431 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/updateUser?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:06:25,431 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-8] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5b29d699
2022-04-17 19:06:25,431 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/updateUser?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:06:25,431 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/updateUser?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:06:25,431 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'PUT /api/user/updateUser' doesn't match 'GET /'
2022-04-17 19:06:25,431 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'PUT /api/user/updateUser' doesn't match 'GET /*.html'
2022-04-17 19:06:25,431 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'PUT /api/user/updateUser' doesn't match 'GET /favicon.ico'
2022-04-17 19:06:25,432 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.html'
2022-04-17 19:06:25,432 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.css'
2022-04-17 19:06:25,432 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.js'
2022-04-17 19:06:25,432 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/updateUser'; against '/auth/**'
2022-04-17 19:06:25,432 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/user/updateUser'; against '/user/**'
2022-04-17 19:06:25,432 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Secure object: FilterInvocation: URL: /api/user/updateUser?id=3; Attributes: [authenticated]
2022-04-17 19:06:25,432 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ee6e3172: Principal: com.mpos.prueba.security.JwtUser@152fb600; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:06:25,433 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-8] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@43176929, returned: 1
2022-04-17 19:06:25,433 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorization successful
2022-04-17 19:06:25,433 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] RunAsManager did not change Authentication object
2022-04-17 19:06:25,433 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/user/updateUser?id=3 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:06:25,435 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-8] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2807cc13
2022-04-17 19:06:25,435 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-8] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported]
2022-04-17 19:06:25,435 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-8] Chain processed normally
2022-04-17 19:06:25,435 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:06:25,436 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:06:25,436 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:06:25,436 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:06:25,436 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:06:25,436 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:06:25,436 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'PUT /error' doesn't match 'GET /logout'
2022-04-17 19:06:25,436 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:06:25,437 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'PUT /error' doesn't match 'POST /logout'
2022-04-17 19:06:25,437 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:06:25,437 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/error'; against '/logout'
2022-04-17 19:06:25,437 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:06:25,437 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'PUT /error' doesn't match 'DELETE /logout'
2022-04-17 19:06:25,438 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 19:06:25,438 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:06:25,438 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:06:25,438 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:06:25,438 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:06:25,438 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2112fde1: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:06:25,439 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:06:25,439 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:06:25,439 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:06:25,439 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?id=3 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:06:25,442 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-8] Chain processed normally
2022-04-17 19:06:25,443 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:07:42,615 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 28464 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 19:07:42,619 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 19:07:43,178 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 19:07:43,246 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 62ms. Found 4 repository interfaces.
2022-04-17 19:07:43,504 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$430fc63b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:07:43,534 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$dbbd8e75] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:07:43,538 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:07:43,539 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7a729f84' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:07:43,540 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$923127] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:07:43,543 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:07:43,850 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 19:07:43,870 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 19:07:43,871 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 19:07:43,880 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 19:07:43,967 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1312 ms
2022-04-17 19:07:44,219 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 19:07:44,614 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 19:07:44,672 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 19:07:44,745 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 19:07:44,747 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 19:07:44,909 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 19:07:45,081 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 19:07:46,088 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 19:07:46,662 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$e5d2c62d@33bd9ac3}
2022-04-17 19:07:46,710 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:07:46,731 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:07:46,739 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:07:46,751 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:07:46,751 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:07:46,751 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:07:46,752 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:07:46,752 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:07:46,752 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:07:46,753 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:07:46,753 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:07:46,753 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:07:46,753 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:07:46,753 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:07:46,754 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:07:46,851 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 19:07:46,852 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 19:07:46,853 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 19:07:46,853 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 19:07:46,853 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 19:07:46,853 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 19:07:46,853 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 19:07:46,853 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 19:07:46,854 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 19:07:46,855 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:07:46,856 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:07:46,858 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63d9e1a, org.springframework.security.web.context.SecurityContextPersistenceFilter@5afba80c, org.springframework.security.web.header.HeaderWriterFilter@3bf41cd0, org.springframework.security.web.authentication.logout.LogoutFilter@514f2020, com.mpos.prueba.security.JwtAuthenticationTokenFilter@e344f14, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7e741d6b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52463255, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d658aa8, org.springframework.security.web.session.SessionManagementFilter@38394e76, org.springframework.security.web.access.ExceptionTranslationFilter@478cc5f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31e84f10]
2022-04-17 19:07:47,010 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 19:07:47,059 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 19:07:47,246 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 19:07:47,247 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 4.979 seconds (JVM running for 5.752)
2022-04-17 19:07:58,835 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 19:07:58,845 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 10 ms
2022-04-17 19:07:58,856 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:07:58,857 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:07:58,860 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:07:58,863 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:07:58,863 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:07:58,863 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'GET /logout'
2022-04-17 19:07:58,863 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:07:58,864 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'POST /logout'
2022-04-17 19:07:58,864 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:07:58,864 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/logout'
2022-04-17 19:07:58,864 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:07:58,864 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'DELETE /logout'
2022-04-17 19:07:58,864 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 19:07:58,864 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:07:58,927 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user null
2022-04-17 19:07:58,927 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:07:58,928 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:07:58,929 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:07:58,930 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@eff9916d: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:07:58,930 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:07:58,930 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:07:58,930 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:07:58,931 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'GET /'
2022-04-17 19:07:58,931 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'GET /*.html'
2022-04-17 19:07:58,931 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'GET /favicon.ico'
2022-04-17 19:07:58,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.html'
2022-04-17 19:07:58,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.css'
2022-04-17 19:07:58,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.js'
2022-04-17 19:07:58,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/auth/**'
2022-04-17 19:07:58,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/user/**'
2022-04-17 19:07:58,932 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/user/updateUser?id=3; Attributes: [authenticated]
2022-04-17 19:07:58,933 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@eff9916d: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 19:07:58,937 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@15c2b454, returned: -1
2022-04-17 19:07:58,941 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 19:07:58,945 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Calling Authentication entry point.
2022-04-17 19:07:58,946 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@37f0789e
2022-04-17 19:07:58,947 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:07:58,949 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:07:58,949 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:07:58,950 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:07:58,950 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:07:58,950 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:07:58,950 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /error' doesn't match 'GET /logout'
2022-04-17 19:07:58,950 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:07:58,950 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /error' doesn't match 'POST /logout'
2022-04-17 19:07:58,950 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:07:58,950 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/error'; against '/logout'
2022-04-17 19:07:58,950 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:07:58,950 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /error' doesn't match 'DELETE /logout'
2022-04-17 19:07:58,950 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 19:07:58,950 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:07:58,951 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:07:58,951 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:07:58,951 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:07:58,951 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@eff9916d: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:07:58,951 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:07:58,951 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:07:58,951 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:07:58,952 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error?id=3 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:07:59,018 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 19:07:59,018 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:08:07,216 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:08:07,217 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:08:07,217 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:08:07,217 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:08:07,218 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:08:07,218 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 19:08:07,218 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:08:07,218 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/logout'
2022-04-17 19:08:07,218 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:08:07,218 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 19:08:07,219 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:08:07,219 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 19:08:07,219 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 19:08:07,219 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:08:07,219 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user null
2022-04-17 19:08:07,219 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:08:07,220 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:08:07,220 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:08:07,220 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@eff9916d: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:08:07,220 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:08:07,220 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:08:07,220 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:08:07,220 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 19:08:07,221 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 19:08:07,221 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 19:08:07,221 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 19:08:07,221 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 19:08:07,221 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 19:08:07,221 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 19:08:07,221 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 19:08:07,222 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@eff9916d: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 19:08:07,223 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@15c2b454, returned: 1
2022-04-17 19:08:07,224 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 19:08:07,224 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 19:08:07,224 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 19:08:07,253 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-3] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 19:08:07,358 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-3] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 19:08:07,559 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@37f0789e
2022-04-17 19:08:07,562 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 19:08:07,562 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:08:19,320 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:08:19,321 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:08:19,321 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:08:19,322 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:08:19,322 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:08:19,322 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'PUT /api/user/updateUser' doesn't match 'GET /logout'
2022-04-17 19:08:19,323 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:08:19,323 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'PUT /api/user/updateUser' doesn't match 'POST /logout'
2022-04-17 19:08:19,323 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:08:19,323 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/updateUser'; against '/logout'
2022-04-17 19:08:19,324 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:08:19,324 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'PUT /api/user/updateUser' doesn't match 'DELETE /logout'
2022-04-17 19:08:19,325 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 19:08:19,325 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:08:19,331 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user admin
2022-04-17 19:08:19,371 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] authenticated user admin, setting security context
2022-04-17 19:08:19,371 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:08:19,371 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:08:19,372 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:08:19,372 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8aae4526: Principal: com.mpos.prueba.security.JwtUser@71efc254; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 19:08:19,372 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:08:19,373 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-4] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@44df834c
2022-04-17 19:08:19,373 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:08:19,373 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:08:19,374 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'PUT /api/user/updateUser' doesn't match 'GET /'
2022-04-17 19:08:19,374 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'PUT /api/user/updateUser' doesn't match 'GET /*.html'
2022-04-17 19:08:19,374 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'PUT /api/user/updateUser' doesn't match 'GET /favicon.ico'
2022-04-17 19:08:19,375 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.html'
2022-04-17 19:08:19,375 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.css'
2022-04-17 19:08:19,375 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.js'
2022-04-17 19:08:19,375 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/updateUser'; against '/auth/**'
2022-04-17 19:08:19,375 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/updateUser'; against '/user/**'
2022-04-17 19:08:19,376 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /api/user/updateUser?id=3; Attributes: [authenticated]
2022-04-17 19:08:19,376 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8aae4526: Principal: com.mpos.prueba.security.JwtUser@71efc254; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:08:19,377 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@15c2b454, returned: 1
2022-04-17 19:08:19,377 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 19:08:19,377 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 19:08:19,377 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/updateUser?id=3 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:08:19,388 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:08:19,388 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8aae4526: Principal: com.mpos.prueba.security.JwtUser@71efc254; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:08:19,390 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@6128c807, returned: 1
2022-04-17 19:08:19,391 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 19:08:19,392 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 19:12:41,207 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 7744 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 19:12:41,211 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 19:12:41,796 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 19:12:41,863 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 61ms. Found 4 repository interfaces.
2022-04-17 19:12:42,128 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$64be9294] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:12:42,158 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$fd6c5ace] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:12:42,162 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:12:42,163 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@16e7b402' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:12:42,165 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2240fd80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:12:42,168 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:12:42,484 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 19:12:42,505 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 19:12:42,505 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 19:12:42,515 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 19:12:42,605 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1358 ms
2022-04-17 19:12:42,858 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 19:12:43,252 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 19:12:43,325 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 19:12:43,409 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 19:12:43,411 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 19:12:43,598 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 19:12:43,754 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 19:12:44,827 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 19:12:45,432 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$7819286@240291d9}
2022-04-17 19:12:45,481 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:12:45,503 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:12:45,513 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:12:45,524 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:12:45,524 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:12:45,525 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:12:45,525 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:12:45,525 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:12:45,525 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:12:45,526 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:12:45,526 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:12:45,526 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:12:45,526 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:12:45,527 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:12:45,527 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:12:45,625 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 19:12:45,626 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 19:12:45,626 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 19:12:45,626 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 19:12:45,626 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 19:12:45,626 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 19:12:45,627 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 19:12:45,627 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 19:12:45,627 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 19:12:45,629 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:12:45,629 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:12:45,631 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5002be8e, org.springframework.security.web.context.SecurityContextPersistenceFilter@2a79da3a, org.springframework.security.web.header.HeaderWriterFilter@f996445, org.springframework.security.web.authentication.logout.LogoutFilter@5464aeec, com.mpos.prueba.security.JwtAuthenticationTokenFilter@416c1b0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c8531b9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@528a16fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39fb5ddf, org.springframework.security.web.session.SessionManagementFilter@2831c178, org.springframework.security.web.access.ExceptionTranslationFilter@28e24663, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1117cc7c]
2022-04-17 19:12:45,791 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 19:12:45,843 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 19:12:46,030 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 19:12:46,031 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.206 seconds (JVM running for 5.988)
2022-04-17 19:12:56,600 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 19:12:56,609 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 8 ms
2022-04-17 19:12:56,621 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:12:56,622 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:12:56,624 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:12:56,626 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:12:56,626 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:12:56,626 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'GET /logout'
2022-04-17 19:12:56,626 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:12:56,627 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'POST /logout'
2022-04-17 19:12:56,627 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:12:56,627 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/logout'
2022-04-17 19:12:56,627 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:12:56,627 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'DELETE /logout'
2022-04-17 19:12:56,627 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 19:12:56,627 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:12:56,689 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user admin
2022-04-17 19:12:56,712 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-2] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 19:12:56,890 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] authenticated user admin, setting security context
2022-04-17 19:12:56,890 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:12:56,890 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:12:56,891 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:12:56,891 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9cb3f78a: Principal: com.mpos.prueba.security.JwtUser@67f270f8; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 19:12:56,892 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:12:56,892 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-2] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@74026b18
2022-04-17 19:12:56,892 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:12:56,892 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:12:56,893 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'GET /'
2022-04-17 19:12:56,893 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'GET /*.html'
2022-04-17 19:12:56,893 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'GET /favicon.ico'
2022-04-17 19:12:56,893 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.html'
2022-04-17 19:12:56,893 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.css'
2022-04-17 19:12:56,894 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'PUT /api/user/updateUser' doesn't match 'GET /**/*.js'
2022-04-17 19:12:56,894 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/auth/**'
2022-04-17 19:12:56,894 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/updateUser'; against '/user/**'
2022-04-17 19:12:56,894 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/user/updateUser?id=3; Attributes: [authenticated]
2022-04-17 19:12:56,894 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9cb3f78a: Principal: com.mpos.prueba.security.JwtUser@67f270f8; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:12:56,900 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@ea788e2, returned: 1
2022-04-17 19:12:56,900 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 19:12:56,900 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 19:12:56,900 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/updateUser?id=3 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:12:56,975 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:12:56,975 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9cb3f78a: Principal: com.mpos.prueba.security.JwtUser@67f270f8; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:12:56,976 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@3e7b1399, returned: 1
2022-04-17 19:12:56,976 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 19:12:56,977 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 19:12:57,043 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 19:12:57,043 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@c0dae76
2022-04-17 19:12:57,044 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:19:35,074 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/updateProductCategory?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:19:35,075 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/updateProductCategory?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:19:35,075 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/updateProductCategory?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:19:35,075 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/updateProductCategory?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:19:35,075 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:19:35,075 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/updateProductCategory' doesn't match 'GET /logout'
2022-04-17 19:19:35,075 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:19:35,076 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/updateProductCategory'; against '/logout'
2022-04-17 19:19:35,076 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:19:35,076 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/updateProductCategory' doesn't match 'PUT /logout'
2022-04-17 19:19:35,076 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:19:35,076 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/updateProductCategory' doesn't match 'DELETE /logout'
2022-04-17 19:19:35,077 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 19:19:35,077 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/updateProductCategory?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:19:35,081 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] checking authentication for user null
2022-04-17 19:19:35,081 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/updateProductCategory?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:19:35,081 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/updateProductCategory?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:19:35,081 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/updateProductCategory?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:19:35,082 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@8bbe476b: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:19:35,082 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/updateProductCategory?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:19:35,082 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/updateProductCategory?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:19:35,082 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/updateProductCategory?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:19:35,082 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/updateProductCategory' doesn't match 'GET /'
2022-04-17 19:19:35,082 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/updateProductCategory' doesn't match 'GET /*.html'
2022-04-17 19:19:35,083 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/updateProductCategory' doesn't match 'GET /favicon.ico'
2022-04-17 19:19:35,083 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/updateProductCategory' doesn't match 'GET /**/*.html'
2022-04-17 19:19:35,083 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/updateProductCategory' doesn't match 'GET /**/*.css'
2022-04-17 19:19:35,083 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/updateProductCategory' doesn't match 'GET /**/*.js'
2022-04-17 19:19:35,083 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/updateProductCategory'; against '/auth/**'
2022-04-17 19:19:35,083 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/updateProductCategory'; against '/user/**'
2022-04-17 19:19:35,084 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: FilterInvocation: URL: /api/productCategory/updateProductCategory?id=1; Attributes: [authenticated]
2022-04-17 19:19:35,084 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@8bbe476b: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 19:19:35,084 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@ea788e2, returned: -1
2022-04-17 19:19:35,092 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 19:19:35,097 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Calling Authentication entry point.
2022-04-17 19:19:35,097 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-5] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@c0dae76
2022-04-17 19:19:35,098 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:19:35,101 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:19:35,101 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:19:35,101 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:19:35,101 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:19:35,102 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:19:35,102 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /error' doesn't match 'GET /logout'
2022-04-17 19:19:35,102 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:19:35,102 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/error'; against '/logout'
2022-04-17 19:19:35,102 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:19:35,102 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /error' doesn't match 'PUT /logout'
2022-04-17 19:19:35,102 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:19:35,102 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /error' doesn't match 'DELETE /logout'
2022-04-17 19:19:35,102 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 19:19:35,102 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:19:35,103 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:19:35,103 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:19:35,103 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:19:35,103 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@8bbe476b: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:19:35,103 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:19:35,103 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:19:35,103 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:19:35,104 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:19:35,134 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Chain processed normally
2022-04-17 19:19:35,134 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:19:39,095 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:19:39,095 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:19:39,096 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:19:39,096 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:19:39,096 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:19:39,096 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 19:19:39,096 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:19:39,097 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/auth'; against '/logout'
2022-04-17 19:19:39,097 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:19:39,097 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 19:19:39,097 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:19:39,097 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 19:19:39,097 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 19:19:39,097 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:19:39,098 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] checking authentication for user null
2022-04-17 19:19:39,098 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:19:39,098 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:19:39,098 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:19:39,098 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@8bbe476b: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:19:39,098 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:19:39,098 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:19:39,099 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:19:39,099 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 19:19:39,099 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 19:19:39,099 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 19:19:39,099 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 19:19:39,099 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 19:19:39,100 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 19:19:39,100 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 19:19:39,100 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 19:19:39,100 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@8bbe476b: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 19:19:39,102 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@ea788e2, returned: 1
2022-04-17 19:19:39,102 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorization successful
2022-04-17 19:19:39,102 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] RunAsManager did not change Authentication object
2022-04-17 19:19:39,102 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 19:19:39,106 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-6] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 19:19:39,244 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-6] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@c0dae76
2022-04-17 19:19:39,245 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Chain processed normally
2022-04-17 19:19:39,245 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:20:41,793 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/updateProductCategory?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:20:41,794 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/updateProductCategory?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:20:41,794 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/updateProductCategory?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:20:41,794 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/updateProductCategory?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:20:41,795 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:20:41,795 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'GET /logout'
2022-04-17 19:20:41,795 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:20:41,795 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'POST /logout'
2022-04-17 19:20:41,795 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:20:41,795 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/productCategory/updateProductCategory'; against '/logout'
2022-04-17 19:20:41,795 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:20:41,796 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'DELETE /logout'
2022-04-17 19:20:41,796 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] No matches found
2022-04-17 19:20:41,796 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/updateProductCategory?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:20:41,797 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-9] checking authentication for user admin
2022-04-17 19:20:41,805 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-9] authenticated user admin, setting security context
2022-04-17 19:20:41,805 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/updateProductCategory?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:20:41,805 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/updateProductCategory?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:20:41,805 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/updateProductCategory?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:20:41,805 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-9] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b571d037: Principal: com.mpos.prueba.security.JwtUser@4e305745; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 19:20:41,806 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/updateProductCategory?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:20:41,806 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-9] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@74026b18
2022-04-17 19:20:41,806 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/updateProductCategory?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:20:41,807 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/updateProductCategory?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:20:41,807 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'GET /'
2022-04-17 19:20:41,807 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'GET /*.html'
2022-04-17 19:20:41,807 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'GET /favicon.ico'
2022-04-17 19:20:41,807 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'GET /**/*.html'
2022-04-17 19:20:41,807 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'GET /**/*.css'
2022-04-17 19:20:41,807 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'GET /**/*.js'
2022-04-17 19:20:41,808 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/productCategory/updateProductCategory'; against '/auth/**'
2022-04-17 19:20:41,808 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/api/productCategory/updateProductCategory'; against '/user/**'
2022-04-17 19:20:41,808 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Secure object: FilterInvocation: URL: /api/productCategory/updateProductCategory?id=1; Attributes: [authenticated]
2022-04-17 19:20:41,808 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b571d037: Principal: com.mpos.prueba.security.JwtUser@4e305745; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:20:41,808 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-9] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@ea788e2, returned: 1
2022-04-17 19:20:41,808 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorization successful
2022-04-17 19:20:41,809 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] RunAsManager did not change Authentication object
2022-04-17 19:20:41,809 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /api/productCategory/updateProductCategory?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:20:41,813 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-9] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@c0dae76
2022-04-17 19:20:41,813 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-9] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported]
2022-04-17 19:20:41,813 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-9] Chain processed normally
2022-04-17 19:20:41,813 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:20:41,814 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /error?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:20:41,814 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /error?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:20:41,814 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /error?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:20:41,814 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /error?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:20:41,814 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:20:41,814 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'PUT /error' doesn't match 'GET /logout'
2022-04-17 19:20:41,814 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:20:41,814 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'PUT /error' doesn't match 'POST /logout'
2022-04-17 19:20:41,814 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:20:41,814 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Checking match of request : '/error'; against '/logout'
2022-04-17 19:20:41,815 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:20:41,815 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-9] Request 'PUT /error' doesn't match 'DELETE /logout'
2022-04-17 19:20:41,815 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-9] No matches found
2022-04-17 19:20:41,815 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /error?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:20:41,815 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /error?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:20:41,815 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /error?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:20:41,815 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /error?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:20:41,815 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-9] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@8bbe476b: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:20:41,815 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /error?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:20:41,815 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /error?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:20:41,816 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /error?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:20:41,816 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] /error?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:20:41,817 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-9] Chain processed normally
2022-04-17 19:20:41,817 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:21:32,109 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 30952 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 19:21:32,113 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 19:21:32,658 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 19:21:32,725 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 61ms. Found 4 repository interfaces.
2022-04-17 19:21:32,990 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$56999ad5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:21:33,020 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ef47630f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:21:33,024 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:21:33,026 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@45404d5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:21:33,028 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$141c05c1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:21:33,031 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:21:33,358 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 19:21:33,379 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 19:21:33,379 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 19:21:33,389 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 19:21:33,476 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1331 ms
2022-04-17 19:21:33,720 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 19:21:34,109 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 19:21:34,164 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 19:21:34,231 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 19:21:34,233 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 19:21:34,395 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 19:21:34,561 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 19:21:35,563 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 19:21:36,122 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$f95c9ac7@6d41200c}
2022-04-17 19:21:36,169 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:21:36,189 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:21:36,197 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:21:36,207 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:21:36,208 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:21:36,208 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:21:36,209 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:21:36,209 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:21:36,209 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:21:36,210 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:21:36,210 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:21:36,210 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:21:36,210 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:21:36,211 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:21:36,211 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:21:36,300 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 19:21:36,301 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 19:21:36,301 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 19:21:36,302 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 19:21:36,302 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 19:21:36,302 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 19:21:36,302 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 19:21:36,302 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 19:21:36,302 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 19:21:36,304 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:21:36,304 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:21:36,306 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75507e68, org.springframework.security.web.context.SecurityContextPersistenceFilter@35d8ba22, org.springframework.security.web.header.HeaderWriterFilter@4853f592, org.springframework.security.web.authentication.logout.LogoutFilter@69fe8c75, com.mpos.prueba.security.JwtAuthenticationTokenFilter@232b3b4c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c5bb37d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29ae2517, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@152d2a58, org.springframework.security.web.session.SessionManagementFilter@9715d26, org.springframework.security.web.access.ExceptionTranslationFilter@4e782401, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76eee0b1]
2022-04-17 19:21:36,464 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 19:21:36,513 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 19:21:36,706 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 19:21:36,707 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 4.935 seconds (JVM running for 5.667)
2022-04-17 19:21:56,668 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-04-17 19:21:56,676 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 8 ms
2022-04-17 19:21:56,687 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/updateProductCategory?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:21:56,688 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/updateProductCategory?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:21:56,690 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/updateProductCategory?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:21:56,693 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/updateProductCategory?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:21:56,693 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:21:56,693 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'GET /logout'
2022-04-17 19:21:56,693 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:21:56,694 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'POST /logout'
2022-04-17 19:21:56,694 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:21:56,694 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/updateProductCategory'; against '/logout'
2022-04-17 19:21:56,694 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:21:56,694 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'DELETE /logout'
2022-04-17 19:21:56,694 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 19:21:56,695 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/updateProductCategory?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:21:56,751 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user admin
2022-04-17 19:21:56,773 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-1] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 19:21:56,941 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] authenticated user admin, setting security context
2022-04-17 19:21:56,942 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/updateProductCategory?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:21:56,942 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/updateProductCategory?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:21:56,943 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/updateProductCategory?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:21:56,944 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@eaba6d70: Principal: com.mpos.prueba.security.JwtUser@11fbea02; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 19:21:56,945 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/updateProductCategory?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:21:56,945 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-1] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@73230721
2022-04-17 19:21:56,946 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/updateProductCategory?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:21:56,946 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/updateProductCategory?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:21:56,947 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'GET /'
2022-04-17 19:21:56,947 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'GET /*.html'
2022-04-17 19:21:56,947 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'GET /favicon.ico'
2022-04-17 19:21:56,947 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'GET /**/*.html'
2022-04-17 19:21:56,948 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'GET /**/*.css'
2022-04-17 19:21:56,948 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/productCategory/updateProductCategory' doesn't match 'GET /**/*.js'
2022-04-17 19:21:56,948 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/updateProductCategory'; against '/auth/**'
2022-04-17 19:21:56,948 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/updateProductCategory'; against '/user/**'
2022-04-17 19:21:56,948 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/productCategory/updateProductCategory?id=1; Attributes: [authenticated]
2022-04-17 19:21:56,948 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@eaba6d70: Principal: com.mpos.prueba.security.JwtUser@11fbea02; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:21:56,952 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@37ee7777, returned: 1
2022-04-17 19:21:56,953 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorization successful
2022-04-17 19:21:56,953 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] RunAsManager did not change Authentication object
2022-04-17 19:21:56,953 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/updateProductCategory?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:21:57,087 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 19:21:57,087 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1ab556bc
2022-04-17 19:21:57,087 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:26:13,846 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 2756 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 19:26:13,849 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 19:26:14,420 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 19:26:14,496 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 69ms. Found 4 repository interfaces.
2022-04-17 19:26:14,767 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5045bf70] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:26:14,802 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$e8f387aa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:26:14,809 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:26:14,811 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@48a0c8aa' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:26:14,813 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$dc82a5c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:26:14,816 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:26:15,140 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 19:26:15,160 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 19:26:15,161 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 19:26:15,170 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 19:26:15,255 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1371 ms
2022-04-17 19:26:15,507 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 19:26:15,880 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 19:26:15,936 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 19:26:16,005 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 19:26:16,007 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 19:26:16,181 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 19:26:16,330 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 19:26:17,343 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 19:26:17,899 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$f308bf62@4860627a}
2022-04-17 19:26:17,944 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:26:17,963 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:26:17,971 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:26:17,982 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:26:17,982 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:26:17,983 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:26:17,983 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:26:17,983 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:26:17,984 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:26:17,984 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:26:17,984 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:26:17,984 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:26:17,984 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:26:17,985 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:26:17,985 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:26:18,070 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 19:26:18,071 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 19:26:18,071 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 19:26:18,072 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 19:26:18,072 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 19:26:18,072 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 19:26:18,072 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 19:26:18,072 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 19:26:18,072 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 19:26:18,074 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:26:18,074 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:26:18,076 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65294247, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e489957, org.springframework.security.web.header.HeaderWriterFilter@48ba37dc, org.springframework.security.web.authentication.logout.LogoutFilter@47400608, com.mpos.prueba.security.JwtAuthenticationTokenFilter@b04a6a4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b827796, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@236206f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a7ac98b, org.springframework.security.web.session.SessionManagementFilter@1e75bef1, org.springframework.security.web.access.ExceptionTranslationFilter@65a8c306, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f09ff10]
2022-04-17 19:26:18,229 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 19:26:18,278 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 19:26:18,464 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 19:26:18,465 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 4.957 seconds (JVM running for 5.621)
2022-04-17 19:26:24,857 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-04-17 19:26:24,865 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 8 ms
2022-04-17 19:26:24,876 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/updateProduct?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:26:24,877 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/updateProduct?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:26:24,878 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/updateProduct?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:26:24,881 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/updateProduct?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:26:24,882 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:26:24,882 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/product/updateProduct' doesn't match 'GET /logout'
2022-04-17 19:26:24,882 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:26:24,882 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/product/updateProduct' doesn't match 'POST /logout'
2022-04-17 19:26:24,882 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:26:24,882 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/updateProduct'; against '/logout'
2022-04-17 19:26:24,883 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:26:24,883 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/product/updateProduct' doesn't match 'DELETE /logout'
2022-04-17 19:26:24,883 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 19:26:24,883 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/updateProduct?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:26:24,897 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user null
2022-04-17 19:26:24,897 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/updateProduct?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:26:24,897 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/updateProduct?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:26:24,898 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/updateProduct?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:26:24,900 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@d04d2ff5: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:26:24,900 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/updateProduct?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:26:24,900 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/updateProduct?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:26:24,901 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/product/updateProduct?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:26:24,901 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/product/updateProduct' doesn't match 'GET /'
2022-04-17 19:26:24,902 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/product/updateProduct' doesn't match 'GET /*.html'
2022-04-17 19:26:24,902 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/product/updateProduct' doesn't match 'GET /favicon.ico'
2022-04-17 19:26:24,902 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/product/updateProduct' doesn't match 'GET /**/*.html'
2022-04-17 19:26:24,903 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/product/updateProduct' doesn't match 'GET /**/*.css'
2022-04-17 19:26:24,903 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /api/product/updateProduct' doesn't match 'GET /**/*.js'
2022-04-17 19:26:24,903 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/updateProduct'; against '/auth/**'
2022-04-17 19:26:24,903 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/product/updateProduct'; against '/user/**'
2022-04-17 19:26:24,904 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/product/updateProduct?id=1; Attributes: [authenticated]
2022-04-17 19:26:24,904 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@d04d2ff5: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 19:26:24,908 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5b272573, returned: -1
2022-04-17 19:26:24,912 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 19:26:24,915 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Calling Authentication entry point.
2022-04-17 19:26:24,916 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@104851ba
2022-04-17 19:26:24,916 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:26:24,919 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:26:24,919 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:26:24,919 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:26:24,920 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:26:24,920 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:26:24,920 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /error' doesn't match 'GET /logout'
2022-04-17 19:26:24,920 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:26:24,920 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /error' doesn't match 'POST /logout'
2022-04-17 19:26:24,920 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:26:24,920 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/error'; against '/logout'
2022-04-17 19:26:24,920 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:26:24,920 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'PUT /error' doesn't match 'DELETE /logout'
2022-04-17 19:26:24,920 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 19:26:24,921 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:26:24,921 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:26:24,921 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:26:24,921 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:26:24,921 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@d04d2ff5: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:26:24,921 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:26:24,921 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:26:24,921 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:26:24,921 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:26:24,999 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 19:26:24,999 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:26:41,062 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/product/updateProduct?id=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:26:41,062 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/product/updateProduct?id=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:26:41,062 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/product/updateProduct?id=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:26:41,062 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/product/updateProduct?id=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:26:41,063 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:26:41,063 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'PUT /api/product/updateProduct' doesn't match 'GET /logout'
2022-04-17 19:26:41,063 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:26:41,063 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'PUT /api/product/updateProduct' doesn't match 'POST /logout'
2022-04-17 19:26:41,064 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:26:41,064 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/product/updateProduct'; against '/logout'
2022-04-17 19:26:41,064 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:26:41,064 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'PUT /api/product/updateProduct' doesn't match 'DELETE /logout'
2022-04-17 19:26:41,065 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 19:26:41,065 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/product/updateProduct?id=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:26:41,104 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user admin
2022-04-17 19:26:41,129 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-3] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 19:26:41,294 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] authenticated user admin, setting security context
2022-04-17 19:26:41,294 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/product/updateProduct?id=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:26:41,294 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/product/updateProduct?id=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:26:41,294 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/product/updateProduct?id=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:26:41,294 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ebaf34ff: Principal: com.mpos.prueba.security.JwtUser@10eeb38d; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 19:26:41,294 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/product/updateProduct?id=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:26:41,294 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-3] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@3606eee9
2022-04-17 19:26:41,295 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/product/updateProduct?id=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:26:41,295 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/product/updateProduct?id=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:26:41,295 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'PUT /api/product/updateProduct' doesn't match 'GET /'
2022-04-17 19:26:41,295 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'PUT /api/product/updateProduct' doesn't match 'GET /*.html'
2022-04-17 19:26:41,295 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'PUT /api/product/updateProduct' doesn't match 'GET /favicon.ico'
2022-04-17 19:26:41,295 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'PUT /api/product/updateProduct' doesn't match 'GET /**/*.html'
2022-04-17 19:26:41,295 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'PUT /api/product/updateProduct' doesn't match 'GET /**/*.css'
2022-04-17 19:26:41,295 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'PUT /api/product/updateProduct' doesn't match 'GET /**/*.js'
2022-04-17 19:26:41,295 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/product/updateProduct'; against '/auth/**'
2022-04-17 19:26:41,296 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/product/updateProduct'; against '/user/**'
2022-04-17 19:26:41,296 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /api/product/updateProduct?id=1; Attributes: [authenticated]
2022-04-17 19:26:41,296 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ebaf34ff: Principal: com.mpos.prueba.security.JwtUser@10eeb38d; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:26:41,296 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5b272573, returned: 1
2022-04-17 19:26:41,296 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 19:26:41,296 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 19:26:41,296 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/product/updateProduct?id=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:26:41,349 ERROR com.mpos.prueba.controllers.ProductRestController [http-nio-8080-exec-3] java.util.NoSuchElementException: No value present
2022-04-17 19:26:41,351 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 19:26:41,352 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@104851ba
2022-04-17 19:26:41,352 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:27:41,277 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/updateProduct?id=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:27:41,277 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/updateProduct?id=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:27:41,277 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/updateProduct?id=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:27:41,278 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/updateProduct?id=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:27:41,278 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:27:41,278 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/product/updateProduct' doesn't match 'GET /logout'
2022-04-17 19:27:41,278 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:27:41,278 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/product/updateProduct' doesn't match 'POST /logout'
2022-04-17 19:27:41,278 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:27:41,278 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/product/updateProduct'; against '/logout'
2022-04-17 19:27:41,278 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:27:41,278 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/product/updateProduct' doesn't match 'DELETE /logout'
2022-04-17 19:27:41,279 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 19:27:41,279 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/updateProduct?id=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:27:41,281 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] checking authentication for user admin
2022-04-17 19:27:41,291 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] authenticated user admin, setting security context
2022-04-17 19:27:41,291 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/updateProduct?id=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:27:41,291 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/updateProduct?id=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:27:41,292 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/updateProduct?id=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:27:41,292 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9c4dbf4d: Principal: com.mpos.prueba.security.JwtUser@670c383f; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 19:27:41,292 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/updateProduct?id=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:27:41,292 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-5] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@3606eee9
2022-04-17 19:27:41,292 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/updateProduct?id=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:27:41,292 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/updateProduct?id=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:27:41,292 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/product/updateProduct' doesn't match 'GET /'
2022-04-17 19:27:41,293 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/product/updateProduct' doesn't match 'GET /*.html'
2022-04-17 19:27:41,293 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/product/updateProduct' doesn't match 'GET /favicon.ico'
2022-04-17 19:27:41,293 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/product/updateProduct' doesn't match 'GET /**/*.html'
2022-04-17 19:27:41,293 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/product/updateProduct' doesn't match 'GET /**/*.css'
2022-04-17 19:27:41,293 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'PUT /api/product/updateProduct' doesn't match 'GET /**/*.js'
2022-04-17 19:27:41,293 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/product/updateProduct'; against '/auth/**'
2022-04-17 19:27:41,293 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/product/updateProduct'; against '/user/**'
2022-04-17 19:27:41,294 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: FilterInvocation: URL: /api/product/updateProduct?id=2; Attributes: [authenticated]
2022-04-17 19:27:41,294 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9c4dbf4d: Principal: com.mpos.prueba.security.JwtUser@670c383f; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:27:41,294 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5b272573, returned: 1
2022-04-17 19:27:41,294 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorization successful
2022-04-17 19:27:41,294 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] RunAsManager did not change Authentication object
2022-04-17 19:27:41,294 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/updateProduct?id=2 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:27:41,335 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Chain processed normally
2022-04-17 19:27:41,336 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-5] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@104851ba
2022-04-17 19:27:41,336 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:33:11,011 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 1004 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 19:33:11,015 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 19:33:11,562 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 19:33:11,630 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 62ms. Found 4 repository interfaces.
2022-04-17 19:33:11,912 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7cf892c2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:33:11,941 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$15a65afc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:33:11,945 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:33:11,946 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@262816a8' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:33:11,948 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$3a7afdae] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:33:11,951 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:33:12,263 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 19:33:12,283 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 19:33:12,283 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 19:33:12,292 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 19:33:12,378 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1329 ms
2022-04-17 19:33:12,625 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 19:33:12,996 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 19:33:13,052 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 19:33:13,121 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 19:33:13,124 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 19:33:13,287 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 19:33:13,449 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 19:33:14,460 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 19:33:15,027 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$1fbb92b4@c7c07ff}
2022-04-17 19:33:15,072 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:33:15,093 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:33:15,101 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:33:15,112 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:33:15,112 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:33:15,112 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:33:15,113 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:33:15,113 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:33:15,113 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:33:15,114 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:33:15,114 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:33:15,114 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:33:15,114 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:33:15,114 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:33:15,115 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:33:15,201 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 19:33:15,202 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 19:33:15,202 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 19:33:15,203 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 19:33:15,203 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 19:33:15,203 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 19:33:15,203 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 19:33:15,203 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 19:33:15,203 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 19:33:15,205 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:33:15,205 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:33:15,207 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@447630c4, org.springframework.security.web.context.SecurityContextPersistenceFilter@63d9e1a, org.springframework.security.web.header.HeaderWriterFilter@7e36d508, org.springframework.security.web.authentication.logout.LogoutFilter@33425171, com.mpos.prueba.security.JwtAuthenticationTokenFilter@69abeb14, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10280879, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@14b4d90b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63d75087, org.springframework.security.web.session.SessionManagementFilter@84eafc2, org.springframework.security.web.access.ExceptionTranslationFilter@7e017f47, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5bddd141]
2022-04-17 19:33:15,363 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 19:33:15,412 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 19:33:15,602 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 19:33:15,603 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 4.939 seconds (JVM running for 5.72)
2022-04-17 19:37:14,106 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-04-17 19:37:14,117 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 11 ms
2022-04-17 19:37:14,128 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:37:14,129 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:37:14,131 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:37:14,133 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:37:14,134 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:37:14,134 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 19:37:14,134 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:37:14,134 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/auth'; against '/logout'
2022-04-17 19:37:14,135 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:37:14,135 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 19:37:14,135 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:37:14,135 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 19:37:14,135 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 19:37:14,135 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:37:14,149 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user null
2022-04-17 19:37:14,149 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:37:14,149 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:37:14,150 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:37:14,152 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@a9642f48: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:37:14,152 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:37:14,152 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:37:14,152 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:37:14,153 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 19:37:14,153 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 19:37:14,153 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 19:37:14,153 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 19:37:14,153 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 19:37:14,154 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 19:37:14,154 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 19:37:14,154 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 19:37:14,154 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@a9642f48: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 19:37:14,159 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@621fb2a8, returned: 1
2022-04-17 19:37:14,159 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorization successful
2022-04-17 19:37:14,159 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] RunAsManager did not change Authentication object
2022-04-17 19:37:14,160 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 19:37:14,244 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-1] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 19:37:14,355 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-1] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 19:37:14,587 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@555ececd
2022-04-17 19:37:14,591 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 19:37:14,592 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:37:31,300 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=10 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:37:31,300 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=10 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:37:31,300 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=10 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:37:31,301 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=10 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:37:31,301 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:37:31,301 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 19:37:31,301 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:37:31,302 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 19:37:31,302 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:37:31,302 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 19:37:31,302 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:37:31,302 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 19:37:31,302 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 19:37:31,302 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=10 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:37:31,317 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user admin
2022-04-17 19:37:31,339 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] authenticated user admin, setting security context
2022-04-17 19:37:31,339 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=10 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:37:31,339 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=10 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:37:31,339 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=10 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:37:31,339 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e60a6742: Principal: com.mpos.prueba.security.JwtUser@1d4be030; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 19:37:31,340 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=10 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:37:31,340 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-3] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6ba0dcba
2022-04-17 19:37:31,340 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=10 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:37:31,340 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=10 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:37:31,340 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 19:37:31,340 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 19:37:31,341 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 19:37:31,341 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 19:37:31,341 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 19:37:31,341 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 19:37:31,341 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 19:37:31,341 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 19:37:31,342 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /api/user/getUserById?id=10; Attributes: [authenticated]
2022-04-17 19:37:31,342 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e60a6742: Principal: com.mpos.prueba.security.JwtUser@1d4be030; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:37:31,342 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@621fb2a8, returned: 1
2022-04-17 19:37:31,342 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 19:37:31,342 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 19:37:31,343 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUserById?id=10 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:37:31,347 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:37:31,347 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e60a6742: Principal: com.mpos.prueba.security.JwtUser@1d4be030; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:37:31,348 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@2e932ecd, returned: 1
2022-04-17 19:37:31,348 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 19:37:31,348 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 19:37:31,368 ERROR com.mpos.prueba.controllers.UserRestController [http-nio-8080-exec-3] java.util.NoSuchElementException: No value present
2022-04-17 19:37:31,370 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 19:37:31,370 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@555ececd
2022-04-17 19:37:31,370 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:38:12,324 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/changeStateUserById?id=3&newState=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:38:12,324 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/changeStateUserById?id=3&newState=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:38:12,324 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/changeStateUserById?id=3&newState=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:38:12,325 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/changeStateUserById?id=3&newState=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:38:12,325 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:38:12,325 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /logout'
2022-04-17 19:38:12,325 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:38:12,325 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/changeStateUserById'; against '/logout'
2022-04-17 19:38:12,325 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:38:12,325 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/changeStateUserById' doesn't match 'PUT /logout'
2022-04-17 19:38:12,326 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:38:12,326 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/changeStateUserById' doesn't match 'DELETE /logout'
2022-04-17 19:38:12,326 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 19:38:12,326 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/changeStateUserById?id=3&newState=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:38:12,328 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] checking authentication for user null
2022-04-17 19:38:12,329 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/changeStateUserById?id=3&newState=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:38:12,329 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/changeStateUserById?id=3&newState=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:38:12,329 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/changeStateUserById?id=3&newState=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:38:12,329 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@a9642f48: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:38:12,329 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/changeStateUserById?id=3&newState=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:38:12,330 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/changeStateUserById?id=3&newState=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:38:12,330 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/user/changeStateUserById?id=3&newState=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:38:12,330 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /'
2022-04-17 19:38:12,330 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /*.html'
2022-04-17 19:38:12,330 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /favicon.ico'
2022-04-17 19:38:12,331 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /**/*.html'
2022-04-17 19:38:12,331 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /**/*.css'
2022-04-17 19:38:12,331 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /**/*.js'
2022-04-17 19:38:12,331 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/changeStateUserById'; against '/auth/**'
2022-04-17 19:38:12,331 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/user/changeStateUserById'; against '/user/**'
2022-04-17 19:38:12,332 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: FilterInvocation: URL: /api/user/changeStateUserById?id=3&newState=2; Attributes: [authenticated]
2022-04-17 19:38:12,332 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@a9642f48: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 19:38:12,332 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@621fb2a8, returned: -1
2022-04-17 19:38:12,337 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 19:38:12,341 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Calling Authentication entry point.
2022-04-17 19:38:12,342 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-5] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@555ececd
2022-04-17 19:38:12,342 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:38:12,345 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3&newState=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:38:12,345 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3&newState=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:38:12,345 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3&newState=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:38:12,345 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3&newState=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:38:12,345 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:38:12,345 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /error' doesn't match 'GET /logout'
2022-04-17 19:38:12,346 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:38:12,346 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/error'; against '/logout'
2022-04-17 19:38:12,346 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:38:12,346 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /error' doesn't match 'PUT /logout'
2022-04-17 19:38:12,346 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:38:12,346 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /error' doesn't match 'DELETE /logout'
2022-04-17 19:38:12,346 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 19:38:12,346 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3&newState=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:38:12,347 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3&newState=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:38:12,347 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3&newState=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:38:12,347 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3&newState=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:38:12,347 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@a9642f48: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 19:38:12,347 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3&newState=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:38:12,347 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3&newState=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:38:12,348 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3&newState=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:38:12,348 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?id=3&newState=2 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:38:12,360 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Chain processed normally
2022-04-17 19:38:12,360 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:38:19,582 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/changeStateUserById?id=3&newState=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:38:19,583 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/changeStateUserById?id=3&newState=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:38:19,583 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/changeStateUserById?id=3&newState=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:38:19,584 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/changeStateUserById?id=3&newState=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:38:19,584 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:38:19,584 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /logout'
2022-04-17 19:38:19,584 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:38:19,584 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/changeStateUserById'; against '/logout'
2022-04-17 19:38:19,584 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:38:19,584 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/user/changeStateUserById' doesn't match 'PUT /logout'
2022-04-17 19:38:19,584 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:38:19,585 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/user/changeStateUserById' doesn't match 'DELETE /logout'
2022-04-17 19:38:19,585 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 19:38:19,585 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/changeStateUserById?id=3&newState=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:38:19,586 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] checking authentication for user admin
2022-04-17 19:38:19,594 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] authenticated user admin, setting security context
2022-04-17 19:38:19,594 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/changeStateUserById?id=3&newState=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:38:19,594 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/changeStateUserById?id=3&newState=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:38:19,594 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/changeStateUserById?id=3&newState=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:38:19,594 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ce952781: Principal: com.mpos.prueba.security.JwtUser@35d4a0f3; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 19:38:19,595 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/changeStateUserById?id=3&newState=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:38:19,595 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-6] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6ba0dcba
2022-04-17 19:38:19,595 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/changeStateUserById?id=3&newState=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:38:19,595 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/changeStateUserById?id=3&newState=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:38:19,595 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /'
2022-04-17 19:38:19,595 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /*.html'
2022-04-17 19:38:19,595 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /favicon.ico'
2022-04-17 19:38:19,596 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /**/*.html'
2022-04-17 19:38:19,596 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /**/*.css'
2022-04-17 19:38:19,596 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'POST /api/user/changeStateUserById' doesn't match 'GET /**/*.js'
2022-04-17 19:38:19,596 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/changeStateUserById'; against '/auth/**'
2022-04-17 19:38:19,596 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/user/changeStateUserById'; against '/user/**'
2022-04-17 19:38:19,596 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: FilterInvocation: URL: /api/user/changeStateUserById?id=3&newState=2; Attributes: [authenticated]
2022-04-17 19:38:19,596 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ce952781: Principal: com.mpos.prueba.security.JwtUser@35d4a0f3; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:38:19,596 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@621fb2a8, returned: 1
2022-04-17 19:38:19,597 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorization successful
2022-04-17 19:38:19,597 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] RunAsManager did not change Authentication object
2022-04-17 19:38:19,597 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/user/changeStateUserById?id=3&newState=2 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:38:19,598 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:38:19,598 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ce952781: Principal: com.mpos.prueba.security.JwtUser@35d4a0f3; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:38:19,598 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@2e932ecd, returned: 1
2022-04-17 19:38:19,598 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorization successful
2022-04-17 19:38:19,599 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] RunAsManager did not change Authentication object
2022-04-17 19:38:19,638 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Chain processed normally
2022-04-17 19:38:19,638 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-6] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@555ececd
2022-04-17 19:38:19,638 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:38:36,008 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:38:36,009 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:38:36,009 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:38:36,009 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:38:36,009 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:38:36,010 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 19:38:36,010 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:38:36,010 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 19:38:36,010 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:38:36,010 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 19:38:36,010 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:38:36,011 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 19:38:36,011 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] No matches found
2022-04-17 19:38:36,011 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:38:36,012 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-7] checking authentication for user admin
2022-04-17 19:38:36,019 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-7] authenticated user admin, setting security context
2022-04-17 19:38:36,019 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:38:36,020 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:38:36,020 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:38:36,020 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@dd4c52d9: Principal: com.mpos.prueba.security.JwtUser@260dd5ab; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 19:38:36,020 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:38:36,020 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-7] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6ba0dcba
2022-04-17 19:38:36,020 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:38:36,020 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:38:36,021 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 19:38:36,021 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 19:38:36,021 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 19:38:36,021 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 19:38:36,021 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 19:38:36,021 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 19:38:36,022 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 19:38:36,022 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 19:38:36,022 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Secure object: FilterInvocation: URL: /api/user/getUserById?id=3; Attributes: [authenticated]
2022-04-17 19:38:36,022 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@dd4c52d9: Principal: com.mpos.prueba.security.JwtUser@260dd5ab; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:38:36,022 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-7] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@621fb2a8, returned: 1
2022-04-17 19:38:36,023 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorization successful
2022-04-17 19:38:36,023 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] RunAsManager did not change Authentication object
2022-04-17 19:38:36,023 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /api/user/getUserById?id=3 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:38:36,024 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:38:36,024 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@dd4c52d9: Principal: com.mpos.prueba.security.JwtUser@260dd5ab; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:38:36,025 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-7] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@2e932ecd, returned: 1
2022-04-17 19:38:36,025 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorization successful
2022-04-17 19:38:36,025 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] RunAsManager did not change Authentication object
2022-04-17 19:38:36,027 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Chain processed normally
2022-04-17 19:38:36,028 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-7] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@555ececd
2022-04-17 19:38:36,028 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:43:03,732 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 30328 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 19:43:03,736 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 19:43:04,280 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 19:43:04,346 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 60ms. Found 4 repository interfaces.
2022-04-17 19:43:04,606 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$35d95b3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:43:04,635 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$9c0b5ded] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:43:04,639 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:43:04,640 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@65d57e4e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:43:04,642 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$c0e0009f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:43:04,645 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:43:04,962 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 19:43:04,982 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 19:43:04,983 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 19:43:04,992 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 19:43:05,077 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1307 ms
2022-04-17 19:43:05,320 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 19:43:05,702 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 19:43:05,758 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 19:43:05,831 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 19:43:05,833 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 19:43:05,991 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 19:43:06,157 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 19:43:07,188 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 19:43:07,745 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$a62095a5@1ff23bd1}
2022-04-17 19:43:07,789 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:43:07,809 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:43:07,818 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:43:07,828 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:43:07,828 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:43:07,829 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:43:07,829 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:43:07,829 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:43:07,829 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:43:07,830 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:43:07,830 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:43:07,830 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:43:07,830 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:43:07,830 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:43:07,831 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:43:07,916 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 19:43:07,917 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 19:43:07,917 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 19:43:07,917 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 19:43:07,917 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 19:43:07,917 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 19:43:07,917 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 19:43:07,918 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 19:43:07,918 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 19:43:07,919 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:43:07,920 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:43:07,922 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41f5389f, org.springframework.security.web.context.SecurityContextPersistenceFilter@7a78d2aa, org.springframework.security.web.header.HeaderWriterFilter@736f2fb8, org.springframework.security.web.authentication.logout.LogoutFilter@46051269, com.mpos.prueba.security.JwtAuthenticationTokenFilter@768e40af, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a9e7b4d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a010eec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a012678, org.springframework.security.web.session.SessionManagementFilter@2175d53f, org.springframework.security.web.access.ExceptionTranslationFilter@24a807a9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d373794]
2022-04-17 19:43:08,073 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 19:43:08,123 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 19:43:08,309 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 19:43:08,310 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 4.91 seconds (JVM running for 5.56)
2022-04-17 19:43:13,795 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-04-17 19:43:13,802 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 7 ms
2022-04-17 19:43:13,814 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:43:13,815 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:43:13,817 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:43:13,819 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:43:13,820 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:43:13,820 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 19:43:13,820 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:43:13,820 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 19:43:13,821 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:43:13,821 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 19:43:13,821 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:43:13,821 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 19:43:13,821 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 19:43:13,821 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:43:13,878 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user admin
2022-04-17 19:43:13,900 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-1] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 19:43:14,068 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] authenticated user admin, setting security context
2022-04-17 19:43:14,069 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:43:14,069 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:43:14,070 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:43:14,070 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@81dafcc1: Principal: com.mpos.prueba.security.JwtUser@7a9b7bb3; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 19:43:14,070 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:43:14,071 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-1] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@3085befb
2022-04-17 19:43:14,071 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:43:14,071 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:43:14,072 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 19:43:14,072 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 19:43:14,072 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 19:43:14,073 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 19:43:14,073 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 19:43:14,073 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 19:43:14,073 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 19:43:14,073 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 19:43:14,074 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/user/getUserById?id=3; Attributes: [authenticated]
2022-04-17 19:43:14,074 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@81dafcc1: Principal: com.mpos.prueba.security.JwtUser@7a9b7bb3; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:43:14,079 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@26d18880, returned: 1
2022-04-17 19:43:14,079 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorization successful
2022-04-17 19:43:14,079 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] RunAsManager did not change Authentication object
2022-04-17 19:43:14,079 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/user/getUserById?id=3 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:43:14,106 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:43:14,106 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@81dafcc1: Principal: com.mpos.prueba.security.JwtUser@7a9b7bb3; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:43:14,107 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5b5ea22a, returned: 1
2022-04-17 19:43:14,107 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorization successful
2022-04-17 19:43:14,108 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] RunAsManager did not change Authentication object
2022-04-17 19:43:14,127 ERROR com.mpos.prueba.controllers.UserRestController [http-nio-8080-exec-1] org.springframework.security.core.userdetails.UsernameNotFoundException: El Usuario se encuentra en estado inactivo o eliminado'3'.
2022-04-17 19:43:14,151 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 19:43:14,151 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5e39bfde
2022-04-17 19:43:14,151 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 19:46:20,917 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 28788 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 19:46:20,921 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 19:46:21,471 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 19:46:21,541 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 63ms. Found 4 repository interfaces.
2022-04-17 19:46:21,805 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7d205618] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:46:21,835 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$15ce1e52] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:46:21,839 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:46:21,840 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5b852b49' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:46:21,843 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$3aa2c104] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:46:21,846 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 19:46:22,180 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 19:46:22,201 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 19:46:22,201 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 19:46:22,210 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 19:46:22,295 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1342 ms
2022-04-17 19:46:22,536 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 19:46:22,916 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 19:46:22,978 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 19:46:23,058 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 19:46:23,060 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 19:46:23,242 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 19:46:23,390 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 19:46:24,417 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 19:46:24,972 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$1fe3560a@5dd2ea0a}
2022-04-17 19:46:25,017 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:46:25,034 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:46:25,042 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:46:25,053 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:46:25,054 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:46:25,054 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:46:25,054 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:46:25,055 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:46:25,055 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:46:25,055 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:46:25,055 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:46:25,056 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:46:25,056 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:46:25,056 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 19:46:25,056 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:46:25,141 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 19:46:25,142 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 19:46:25,142 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 19:46:25,143 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 19:46:25,143 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 19:46:25,143 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 19:46:25,143 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 19:46:25,143 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 19:46:25,143 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 19:46:25,145 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:46:25,145 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 19:46:25,147 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53153d5e, org.springframework.security.web.context.SecurityContextPersistenceFilter@c3ca482, org.springframework.security.web.header.HeaderWriterFilter@14b4d90b, org.springframework.security.web.authentication.logout.LogoutFilter@2a525f88, com.mpos.prueba.security.JwtAuthenticationTokenFilter@4d793390, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@277474fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a45e29f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b407336, org.springframework.security.web.session.SessionManagementFilter@6cb417fc, org.springframework.security.web.access.ExceptionTranslationFilter@19c06762, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a0b4955]
2022-04-17 19:46:25,302 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 19:46:25,356 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 19:46:25,569 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 19:46:25,570 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.003 seconds (JVM running for 5.651)
2022-04-17 19:46:31,477 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 19:46:31,486 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 8 ms
2022-04-17 19:46:31,498 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 19:46:31,499 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 19:46:31,501 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 19:46:31,503 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 19:46:31,504 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 19:46:31,504 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/logout'
2022-04-17 19:46:31,504 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 19:46:31,504 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUserById' doesn't match 'POST /logout'
2022-04-17 19:46:31,504 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 19:46:31,504 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUserById' doesn't match 'PUT /logout'
2022-04-17 19:46:31,505 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 19:46:31,505 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/user/getUserById' doesn't match 'DELETE /logout'
2022-04-17 19:46:31,505 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 19:46:31,505 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 19:46:31,561 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user admin
2022-04-17 19:46:31,585 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-2] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 19:46:31,750 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] authenticated user admin, setting security context
2022-04-17 19:46:31,751 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 19:46:31,751 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 19:46:31,752 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 19:46:31,752 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@af376ee2: Principal: com.mpos.prueba.security.JwtUser@5476e990; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 19:46:31,752 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 19:46:31,753 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-2] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@46c475ba
2022-04-17 19:46:31,753 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 19:46:31,753 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 19:46:31,754 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/'
2022-04-17 19:46:31,754 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/*.html'
2022-04-17 19:46:31,754 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/favicon.ico'
2022-04-17 19:46:31,754 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/**/*.html'
2022-04-17 19:46:31,754 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/**/*.css'
2022-04-17 19:46:31,754 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/**/*.js'
2022-04-17 19:46:31,755 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/auth/**'
2022-04-17 19:46:31,755 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/user/getUserById'; against '/user/**'
2022-04-17 19:46:31,755 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/user/getUserById?id=3; Attributes: [authenticated]
2022-04-17 19:46:31,755 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@af376ee2: Principal: com.mpos.prueba.security.JwtUser@5476e990; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:46:31,759 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@32d807ce, returned: 1
2022-04-17 19:46:31,759 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 19:46:31,759 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 19:46:31,760 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/user/getUserById?id=3 reached end of additional filter chain; proceeding with original chain
2022-04-17 19:46:31,786 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 19:46:31,787 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@af376ee2: Principal: com.mpos.prueba.security.JwtUser@5476e990; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 19:46:31,788 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@c803b86, returned: 1
2022-04-17 19:46:31,788 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 19:46:31,788 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 19:46:31,807 ERROR com.mpos.prueba.controllers.UserRestController [http-nio-8080-exec-2] org.springframework.security.core.userdetails.UsernameNotFoundException: El Usuario se encuentra en estado inactivo o eliminado'3'.
2022-04-17 19:46:31,824 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@67ea992c
2022-04-17 19:46:31,828 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 19:46:31,828 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:02:49,885 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 3264 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 20:02:49,889 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 20:02:50,467 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 20:02:50,549 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 77ms. Found 4 repository interfaces.
2022-04-17 20:02:50,827 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$389cdac] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:02:50,858 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$9c3795e6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:02:50,862 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:02:50,863 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@411c6d44' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:02:50,866 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$c10c3898] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:02:50,870 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:02:51,193 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 20:02:51,213 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 20:02:51,213 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 20:02:51,222 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 20:02:51,308 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1380 ms
2022-04-17 20:02:51,566 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 20:02:51,947 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 20:02:52,003 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 20:02:52,072 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 20:02:52,074 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 20:02:52,285 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 20:02:52,455 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 20:02:53,530 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 20:02:54,102 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$a64ccd9e@85f5f55}
2022-04-17 20:02:54,148 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:02:54,169 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:02:54,177 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:02:54,189 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:02:54,189 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:02:54,189 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:02:54,190 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:02:54,190 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:02:54,190 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:02:54,190 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:02:54,191 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:02:54,191 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:02:54,191 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:02:54,191 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:02:54,192 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:02:54,281 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 20:02:54,282 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 20:02:54,282 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 20:02:54,282 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 20:02:54,282 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 20:02:54,282 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 20:02:54,283 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 20:02:54,283 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 20:02:54,283 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 20:02:54,284 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:02:54,285 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:02:54,287 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ee52741, org.springframework.security.web.context.SecurityContextPersistenceFilter@27ac3b6d, org.springframework.security.web.header.HeaderWriterFilter@209b4b35, org.springframework.security.web.authentication.logout.LogoutFilter@6b063695, com.mpos.prueba.security.JwtAuthenticationTokenFilter@55cc4c61, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@659ac28c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41433530, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f5a092e, org.springframework.security.web.session.SessionManagementFilter@37fd496a, org.springframework.security.web.access.ExceptionTranslationFilter@49f9758, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c38e2bf]
2022-04-17 20:02:54,440 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 20:02:54,492 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 20:02:54,689 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 20:02:54,690 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.168 seconds (JVM running for 5.945)
2022-04-17 20:02:59,576 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-04-17 20:02:59,588 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 11 ms
2022-04-17 20:02:59,600 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:02:59,602 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:02:59,604 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:02:59,608 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:02:59,608 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:02:59,608 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 20:02:59,608 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:02:59,609 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/auth'; against '/logout'
2022-04-17 20:02:59,609 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:02:59,609 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 20:02:59,609 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:02:59,609 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 20:02:59,609 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 20:02:59,610 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:02:59,624 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user null
2022-04-17 20:02:59,624 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:02:59,624 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:02:59,625 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:02:59,626 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@38233ebc: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 20:02:59,627 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:02:59,627 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:02:59,627 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:02:59,628 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 20:02:59,628 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 20:02:59,628 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 20:02:59,628 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 20:02:59,628 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 20:02:59,628 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 20:02:59,629 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 20:02:59,629 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 20:02:59,629 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@38233ebc: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 20:02:59,635 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2447ea91, returned: 1
2022-04-17 20:02:59,636 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorization successful
2022-04-17 20:02:59,636 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] RunAsManager did not change Authentication object
2022-04-17 20:02:59,636 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 20:02:59,729 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-1] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 20:02:59,839 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-1] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 20:03:00,089 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1abff829
2022-04-17 20:03:00,094 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 20:03:00,094 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:03:14,923 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:03:14,924 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:03:14,924 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:03:14,924 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:03:14,924 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:03:14,924 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/logout'
2022-04-17 20:03:14,925 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:03:14,925 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'POST /logout'
2022-04-17 20:03:14,925 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:03:14,925 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'PUT /logout'
2022-04-17 20:03:14,925 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:03:14,925 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'DELETE /logout'
2022-04-17 20:03:14,925 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 20:03:14,926 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:03:14,945 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user admin
2022-04-17 20:03:14,974 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] authenticated user admin, setting security context
2022-04-17 20:03:14,975 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:03:14,975 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:03:14,975 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:03:14,975 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a5375acb: Principal: com.mpos.prueba.security.JwtUser@5e76ddb9; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 20:03:14,975 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:03:14,976 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-3] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@39451d92
2022-04-17 20:03:14,976 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:03:14,976 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:03:14,976 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/'
2022-04-17 20:03:14,976 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/*.html'
2022-04-17 20:03:14,977 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/favicon.ico'
2022-04-17 20:03:14,977 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.html'
2022-04-17 20:03:14,977 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.css'
2022-04-17 20:03:14,977 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.js'
2022-04-17 20:03:14,977 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/auth/**'
2022-04-17 20:03:14,978 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/api/user/getUsersByAutorityId'; against '/user/**'
2022-04-17 20:03:14,978 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /api/user/getUsersByAutorityId?autorityId=2; Attributes: [authenticated]
2022-04-17 20:03:14,978 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a5375acb: Principal: com.mpos.prueba.security.JwtUser@5e76ddb9; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 20:03:14,979 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2447ea91, returned: 1
2022-04-17 20:03:14,979 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 20:03:14,979 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 20:03:14,979 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /api/user/getUsersByAutorityId?autorityId=2 reached end of additional filter chain; proceeding with original chain
2022-04-17 20:03:14,985 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:03:14,985 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a5375acb: Principal: com.mpos.prueba.security.JwtUser@5e76ddb9; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 20:03:14,987 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@71b83fd3, returned: 1
2022-04-17 20:03:14,987 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 20:03:14,987 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 20:03:15,032 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1abff829
2022-04-17 20:03:15,034 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 20:03:15,034 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:03:28,431 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:03:28,431 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:03:28,431 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:03:28,432 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:03:28,432 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:03:28,432 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/logout'
2022-04-17 20:03:28,432 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:03:28,432 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'POST /logout'
2022-04-17 20:03:28,432 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:03:28,433 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'PUT /logout'
2022-04-17 20:03:28,433 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:03:28,433 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/user/getUsersByAutorityId' doesn't match 'DELETE /logout'
2022-04-17 20:03:28,433 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 20:03:28,433 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:03:28,436 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user admin
2022-04-17 20:03:28,441 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] authenticated user admin, setting security context
2022-04-17 20:03:28,442 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:03:28,442 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:03:28,442 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:03:28,442 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bea34a41: Principal: com.mpos.prueba.security.JwtUser@45e2cd33; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 20:03:28,442 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:03:28,442 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-4] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@39451d92
2022-04-17 20:03:28,442 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:03:28,443 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:03:28,443 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/'
2022-04-17 20:03:28,443 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/*.html'
2022-04-17 20:03:28,443 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/favicon.ico'
2022-04-17 20:03:28,443 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.html'
2022-04-17 20:03:28,443 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.css'
2022-04-17 20:03:28,443 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/**/*.js'
2022-04-17 20:03:28,443 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/auth/**'
2022-04-17 20:03:28,444 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/user/getUsersByAutorityId'; against '/user/**'
2022-04-17 20:03:28,444 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /api/user/getUsersByAutorityId?autorityId=1; Attributes: [authenticated]
2022-04-17 20:03:28,444 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bea34a41: Principal: com.mpos.prueba.security.JwtUser@45e2cd33; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 20:03:28,444 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2447ea91, returned: 1
2022-04-17 20:03:28,444 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 20:03:28,444 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 20:03:28,444 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/user/getUsersByAutorityId?autorityId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 20:03:28,445 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long); target is of class [com.mpos.prueba.controllers.UserRestController]; Attributes: [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:03:28,445 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bea34a41: Principal: com.mpos.prueba.security.JwtUser@45e2cd33; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 20:03:28,446 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@71b83fd3, returned: 1
2022-04-17 20:03:28,446 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 20:03:28,446 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 20:03:28,451 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-4] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1abff829
2022-04-17 20:03:28,452 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Chain processed normally
2022-04-17 20:03:28,453 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:09:00,710 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:09:00,711 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:09:00,711 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:09:00,712 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:09:00,712 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:09:00,712 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 20:09:00,712 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:09:00,712 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/auth'; against '/logout'
2022-04-17 20:09:00,712 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:09:00,713 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 20:09:00,713 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:09:00,713 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 20:09:00,713 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-7] No matches found
2022-04-17 20:09:00,713 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:09:00,713 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-7] checking authentication for user null
2022-04-17 20:09:00,714 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:09:00,714 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:09:00,714 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:09:00,714 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@38233ebc: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 20:09:00,715 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:09:00,715 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:09:00,715 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:09:00,715 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 20:09:00,715 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 20:09:00,716 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 20:09:00,716 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 20:09:00,716 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 20:09:00,716 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 20:09:00,716 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-7] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 20:09:00,717 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 20:09:00,717 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@38233ebc: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 20:09:00,718 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-7] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2447ea91, returned: 1
2022-04-17 20:09:00,718 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorization successful
2022-04-17 20:09:00,719 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] RunAsManager did not change Authentication object
2022-04-17 20:09:00,719 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 20:09:00,720 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-7] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 20:09:00,753 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-7] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1abff829
2022-04-17 20:09:00,754 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-7] Chain processed normally
2022-04-17 20:09:00,755 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:09:36,675 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductsByProductCategory?productCategoryId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:09:36,675 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductsByProductCategory?productCategoryId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:09:36,676 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductsByProductCategory?productCategoryId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:09:36,676 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductsByProductCategory?productCategoryId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:09:36,676 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:09:36,676 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductsByProductCategory'; against '/logout'
2022-04-17 20:09:36,676 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:09:36,676 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/product/getProductsByProductCategory' doesn't match 'POST /logout'
2022-04-17 20:09:36,676 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:09:36,677 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/product/getProductsByProductCategory' doesn't match 'PUT /logout'
2022-04-17 20:09:36,677 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:09:36,677 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /api/product/getProductsByProductCategory' doesn't match 'DELETE /logout'
2022-04-17 20:09:36,677 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 20:09:36,677 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductsByProductCategory?productCategoryId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:09:36,679 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] checking authentication for user admin
2022-04-17 20:09:36,686 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-8] authenticated user admin, setting security context
2022-04-17 20:09:36,686 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductsByProductCategory?productCategoryId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:09:36,686 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductsByProductCategory?productCategoryId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:09:36,687 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductsByProductCategory?productCategoryId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:09:36,687 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@cc9793eb: Principal: com.mpos.prueba.security.JwtUser@37d61499; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 20:09:36,687 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductsByProductCategory?productCategoryId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:09:36,687 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-8] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@39451d92
2022-04-17 20:09:36,687 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductsByProductCategory?productCategoryId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:09:36,687 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductsByProductCategory?productCategoryId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:09:36,687 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductsByProductCategory'; against '/'
2022-04-17 20:09:36,688 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductsByProductCategory'; against '/*.html'
2022-04-17 20:09:36,688 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductsByProductCategory'; against '/favicon.ico'
2022-04-17 20:09:36,688 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductsByProductCategory'; against '/**/*.html'
2022-04-17 20:09:36,688 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductsByProductCategory'; against '/**/*.css'
2022-04-17 20:09:36,689 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductsByProductCategory'; against '/**/*.js'
2022-04-17 20:09:36,689 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductsByProductCategory'; against '/auth/**'
2022-04-17 20:09:36,689 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/api/product/getProductsByProductCategory'; against '/user/**'
2022-04-17 20:09:36,689 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Secure object: FilterInvocation: URL: /api/product/getProductsByProductCategory?productCategoryId=1; Attributes: [authenticated]
2022-04-17 20:09:36,689 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@cc9793eb: Principal: com.mpos.prueba.security.JwtUser@37d61499; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 20:09:36,690 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-8] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2447ea91, returned: 1
2022-04-17 20:09:36,690 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorization successful
2022-04-17 20:09:36,690 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] RunAsManager did not change Authentication object
2022-04-17 20:09:36,690 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /api/product/getProductsByProductCategory?productCategoryId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 20:09:36,698 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-8] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1abff829
2022-04-17 20:09:36,698 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-8] Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required Long parameter 'productsByCategoryId' is not present]
2022-04-17 20:09:36,699 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-8] Chain processed normally
2022-04-17 20:09:36,699 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:09:36,701 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?productCategoryId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:09:36,701 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?productCategoryId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:09:36,701 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?productCategoryId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:09:36,701 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?productCategoryId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:09:36,701 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:09:36,702 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Checking match of request : '/error'; against '/logout'
2022-04-17 20:09:36,702 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:09:36,702 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 20:09:36,702 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:09:36,702 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 20:09:36,702 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:09:36,702 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-8] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 20:09:36,702 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-8] No matches found
2022-04-17 20:09:36,702 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?productCategoryId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:09:36,702 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?productCategoryId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:09:36,702 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?productCategoryId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:09:36,702 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?productCategoryId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:09:36,703 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@38233ebc: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 20:09:36,703 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?productCategoryId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:09:36,703 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?productCategoryId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:09:36,703 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?productCategoryId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:09:36,703 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] /error?productCategoryId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 20:09:36,715 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-8] Chain processed normally
2022-04-17 20:09:36,715 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:09:50,454 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 22172 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 20:09:50,457 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 20:09:51,025 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 20:09:51,095 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 65ms. Found 4 repository interfaces.
2022-04-17 20:09:51,367 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1d18b836] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:09:51,400 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$b5c68070] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:09:51,404 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:09:51,406 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5a237731' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:09:51,409 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$da9b2322] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:09:51,412 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:09:51,738 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 20:09:51,760 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 20:09:51,760 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 20:09:51,770 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 20:09:51,861 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1371 ms
2022-04-17 20:09:52,109 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 20:09:52,492 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 20:09:52,547 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 20:09:52,616 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 20:09:52,618 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 20:09:52,823 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 20:09:53,031 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 20:09:54,076 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 20:09:54,626 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$bfdbb828@69ed96e1}
2022-04-17 20:09:54,670 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:09:54,689 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:09:54,696 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:09:54,707 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:09:54,708 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:09:54,708 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:09:54,708 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:09:54,708 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:09:54,709 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:09:54,709 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:09:54,709 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:09:54,710 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:09:54,710 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:09:54,710 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:09:54,710 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:09:54,796 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 20:09:54,797 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 20:09:54,797 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 20:09:54,797 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 20:09:54,798 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 20:09:54,798 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 20:09:54,798 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 20:09:54,798 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 20:09:54,798 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 20:09:54,799 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:09:54,799 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:09:54,801 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58835bba, org.springframework.security.web.context.SecurityContextPersistenceFilter@6f5288c5, org.springframework.security.web.header.HeaderWriterFilter@45c28c49, org.springframework.security.web.authentication.logout.LogoutFilter@79ae3fb1, com.mpos.prueba.security.JwtAuthenticationTokenFilter@6dfebd2a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e2ee348, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d035ab6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@222eda8a, org.springframework.security.web.session.SessionManagementFilter@251e2f4a, org.springframework.security.web.access.ExceptionTranslationFilter@4113d9ab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@13731ff4]
2022-04-17 20:09:54,959 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 20:09:55,010 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 20:09:55,207 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 20:09:55,208 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.118 seconds (JVM running for 5.859)
2022-04-17 20:09:59,971 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 20:09:59,981 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 10 ms
2022-04-17 20:09:59,992 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/getProductsByProductCategory?productCategoryId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:09:59,993 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/getProductsByProductCategory?productCategoryId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:09:59,996 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/getProductsByProductCategory?productCategoryId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:09:59,998 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/getProductsByProductCategory?productCategoryId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:09:59,999 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:09:59,999 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/product/getProductsByProductCategory'; against '/logout'
2022-04-17 20:09:59,999 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:09:59,999 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/product/getProductsByProductCategory' doesn't match 'POST /logout'
2022-04-17 20:09:59,999 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:09:59,999 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/product/getProductsByProductCategory' doesn't match 'PUT /logout'
2022-04-17 20:09:59,999 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:10:00,000 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/product/getProductsByProductCategory' doesn't match 'DELETE /logout'
2022-04-17 20:10:00,000 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 20:10:00,000 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/getProductsByProductCategory?productCategoryId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:10:00,074 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user admin
2022-04-17 20:10:00,103 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-2] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 20:10:00,338 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] authenticated user admin, setting security context
2022-04-17 20:10:00,338 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/getProductsByProductCategory?productCategoryId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:10:00,338 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/getProductsByProductCategory?productCategoryId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:10:00,340 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/getProductsByProductCategory?productCategoryId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:10:00,340 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff4299ce: Principal: com.mpos.prueba.security.JwtUser@4031ebc; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 20:10:00,340 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/getProductsByProductCategory?productCategoryId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:10:00,341 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-2] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5d01a2eb
2022-04-17 20:10:00,341 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/getProductsByProductCategory?productCategoryId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:10:00,341 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/getProductsByProductCategory?productCategoryId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:10:00,343 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/product/getProductsByProductCategory'; against '/'
2022-04-17 20:10:00,344 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/product/getProductsByProductCategory'; against '/*.html'
2022-04-17 20:10:00,345 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/product/getProductsByProductCategory'; against '/favicon.ico'
2022-04-17 20:10:00,345 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/product/getProductsByProductCategory'; against '/**/*.html'
2022-04-17 20:10:00,345 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/product/getProductsByProductCategory'; against '/**/*.css'
2022-04-17 20:10:00,346 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/product/getProductsByProductCategory'; against '/**/*.js'
2022-04-17 20:10:00,346 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/product/getProductsByProductCategory'; against '/auth/**'
2022-04-17 20:10:00,346 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/product/getProductsByProductCategory'; against '/user/**'
2022-04-17 20:10:00,346 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/product/getProductsByProductCategory?productCategoryId=1; Attributes: [authenticated]
2022-04-17 20:10:00,347 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ff4299ce: Principal: com.mpos.prueba.security.JwtUser@4031ebc; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 20:10:00,352 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@8643b89, returned: 1
2022-04-17 20:10:00,352 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 20:10:00,352 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 20:10:00,352 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/product/getProductsByProductCategory?productCategoryId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 20:10:00,486 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6838aca9
2022-04-17 20:10:00,490 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 20:10:00,491 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:11:53,424 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:11:53,425 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:11:53,425 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:11:53,425 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:11:53,426 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:11:53,426 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /logout'
2022-04-17 20:11:53,426 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:11:53,426 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/logout'
2022-04-17 20:11:53,427 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:11:53,427 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'PUT /logout'
2022-04-17 20:11:53,427 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:11:53,427 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'DELETE /logout'
2022-04-17 20:11:53,427 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 20:11:53,427 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:11:53,430 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] checking authentication for user admin
2022-04-17 20:11:53,439 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] authenticated user admin, setting security context
2022-04-17 20:11:53,440 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:11:53,440 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:11:53,440 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:11:53,440 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f3560e2c: Principal: com.mpos.prueba.security.JwtUser@817895e; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 20:11:53,440 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:11:53,440 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-5] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5d01a2eb
2022-04-17 20:11:53,441 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:11:53,441 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:11:53,441 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /'
2022-04-17 20:11:53,441 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /*.html'
2022-04-17 20:11:53,441 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /favicon.ico'
2022-04-17 20:11:53,441 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.html'
2022-04-17 20:11:53,441 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.css'
2022-04-17 20:11:53,442 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.js'
2022-04-17 20:11:53,443 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/auth/**'
2022-04-17 20:11:53,443 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/user/**'
2022-04-17 20:11:53,443 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: FilterInvocation: URL: /api/productCategory/changeStateProductCategoryById?id=1&newState=1; Attributes: [authenticated]
2022-04-17 20:11:53,443 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f3560e2c: Principal: com.mpos.prueba.security.JwtUser@817895e; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 20:11:53,443 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@8643b89, returned: 1
2022-04-17 20:11:53,444 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorization successful
2022-04-17 20:11:53,444 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] RunAsManager did not change Authentication object
2022-04-17 20:11:53,444 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 20:11:53,450 ERROR com.mpos.prueba.controllers.ProductCategoryRestController [http-nio-8080-exec-5] org.springframework.security.core.userdetails.UsernameNotFoundException: El registro se encuentra en estado inactivo o eliminado'1'.
2022-04-17 20:11:53,452 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Chain processed normally
2022-04-17 20:11:53,452 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-5] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6838aca9
2022-04-17 20:11:53,452 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:14:39,931 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 9940 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 20:14:39,934 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 20:14:40,479 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 20:14:40,545 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 60ms. Found 4 repository interfaces.
2022-04-17 20:14:40,803 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5d667a10] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:14:40,834 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f614424a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:14:40,838 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:14:40,839 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@65d57e4e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:14:40,840 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$1ae8e4fc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:14:40,843 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:14:41,158 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 20:14:41,178 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 20:14:41,178 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 20:14:41,188 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 20:14:41,273 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1306 ms
2022-04-17 20:14:41,515 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 20:14:41,885 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 20:14:41,941 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 20:14:42,008 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 20:14:42,010 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 20:14:42,175 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 20:14:42,337 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 20:14:43,371 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 20:14:43,921 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$297a02@354e2bff}
2022-04-17 20:14:43,965 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:14:43,985 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:14:43,993 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:14:44,004 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:14:44,004 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:14:44,004 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:14:44,005 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:14:44,005 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:14:44,005 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:14:44,006 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:14:44,006 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:14:44,006 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:14:44,006 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:14:44,006 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:14:44,007 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:14:44,092 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 20:14:44,093 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 20:14:44,093 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 20:14:44,093 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 20:14:44,093 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 20:14:44,093 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 20:14:44,094 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 20:14:44,094 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 20:14:44,094 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 20:14:44,096 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:14:44,096 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:14:44,098 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15fd3088, org.springframework.security.web.context.SecurityContextPersistenceFilter@5eff5e4c, org.springframework.security.web.header.HeaderWriterFilter@558575fe, org.springframework.security.web.authentication.logout.LogoutFilter@1ce8084a, com.mpos.prueba.security.JwtAuthenticationTokenFilter@f310675, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69926b6e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11896124, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f13e0a2, org.springframework.security.web.session.SessionManagementFilter@4e1104f4, org.springframework.security.web.access.ExceptionTranslationFilter@3fc051ce, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2681185e]
2022-04-17 20:14:44,254 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 20:14:44,302 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 20:14:44,487 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 20:14:44,488 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 4.895 seconds (JVM running for 5.63)
2022-04-17 20:14:53,194 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 20:14:53,206 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 12 ms
2022-04-17 20:14:53,219 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:14:53,220 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:14:53,222 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:14:53,224 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:14:53,224 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:14:53,224 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /logout'
2022-04-17 20:14:53,224 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:14:53,224 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/logout'
2022-04-17 20:14:53,225 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:14:53,225 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'PUT /logout'
2022-04-17 20:14:53,225 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:14:53,225 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'DELETE /logout'
2022-04-17 20:14:53,225 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 20:14:53,225 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:14:53,286 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user admin
2022-04-17 20:14:53,308 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-2] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 20:14:53,475 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] authenticated user admin, setting security context
2022-04-17 20:14:53,475 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:14:53,475 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:14:53,477 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:14:53,477 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a12e8977: Principal: com.mpos.prueba.security.JwtUser@5a6f0e05; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 20:14:53,477 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:14:53,477 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-2] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2b4ba2d9
2022-04-17 20:14:53,477 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:14:53,478 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:14:53,478 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /'
2022-04-17 20:14:53,479 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /*.html'
2022-04-17 20:14:53,479 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /favicon.ico'
2022-04-17 20:14:53,479 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.html'
2022-04-17 20:14:53,479 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.css'
2022-04-17 20:14:53,479 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.js'
2022-04-17 20:14:53,479 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/auth/**'
2022-04-17 20:14:53,480 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/user/**'
2022-04-17 20:14:53,480 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/productCategory/changeStateProductCategoryById?id=1&newState=1; Attributes: [authenticated]
2022-04-17 20:14:53,480 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a12e8977: Principal: com.mpos.prueba.security.JwtUser@5a6f0e05; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 20:14:53,486 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@cd40bbd, returned: 1
2022-04-17 20:14:53,486 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorization successful
2022-04-17 20:14:53,486 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] RunAsManager did not change Authentication object
2022-04-17 20:14:53,486 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 20:14:53,527 ERROR com.mpos.prueba.controllers.ProductCategoryRestController [http-nio-8080-exec-2] org.springframework.security.core.userdetails.UsernameNotFoundException: El registro se encuentra en estado inactivo o eliminado'1'.
2022-04-17 20:14:53,555 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 20:14:53,556 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@e2ae0a2
2022-04-17 20:14:53,556 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:15:14,897 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 9948 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 20:15:14,901 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 20:15:15,460 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 20:15:15,527 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 62ms. Found 4 repository interfaces.
2022-04-17 20:15:15,791 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$feacf5ea] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:15:15,821 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$975abe24] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:15:15,825 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:15:15,826 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3dd31157' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:15:15,828 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$bc2f60d6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:15:15,831 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:15:16,153 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 20:15:16,173 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 20:15:16,174 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 20:15:16,183 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 20:15:16,269 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1335 ms
2022-04-17 20:15:16,520 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 20:15:16,906 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 20:15:16,962 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 20:15:17,031 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 20:15:17,033 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 20:15:17,196 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 20:15:17,361 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 20:15:18,387 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 20:15:18,964 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$a16ff5dc@483ed60e}
2022-04-17 20:15:19,012 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:15:19,032 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:15:19,041 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:15:19,051 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:15:19,052 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:15:19,052 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:15:19,052 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:15:19,052 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:15:19,053 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:15:19,053 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:15:19,053 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:15:19,053 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:15:19,054 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:15:19,054 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:15:19,054 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:15:19,146 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 20:15:19,147 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 20:15:19,147 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 20:15:19,147 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 20:15:19,147 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 20:15:19,148 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 20:15:19,148 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 20:15:19,148 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 20:15:19,148 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 20:15:19,150 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:15:19,150 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:15:19,152 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@549404e7, org.springframework.security.web.context.SecurityContextPersistenceFilter@1bbfd42f, org.springframework.security.web.header.HeaderWriterFilter@4e13af1b, org.springframework.security.web.authentication.logout.LogoutFilter@3a7d6976, com.mpos.prueba.security.JwtAuthenticationTokenFilter@2123a61c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48a61e38, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d32f5db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29c76d75, org.springframework.security.web.session.SessionManagementFilter@69988d42, org.springframework.security.web.access.ExceptionTranslationFilter@79454d8e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2041c9a3]
2022-04-17 20:15:19,305 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 20:15:19,354 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 20:15:19,541 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 20:15:19,542 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 4.984 seconds (JVM running for 5.731)
2022-04-17 20:15:25,650 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-04-17 20:15:25,660 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 9 ms
2022-04-17 20:15:25,671 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:15:25,672 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:15:25,674 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:15:25,676 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:15:25,676 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:15:25,676 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /logout'
2022-04-17 20:15:25,676 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:15:25,677 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/logout'
2022-04-17 20:15:25,677 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:15:25,677 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'PUT /logout'
2022-04-17 20:15:25,677 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:15:25,677 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'DELETE /logout'
2022-04-17 20:15:25,677 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 20:15:25,677 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:15:25,735 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user admin
2022-04-17 20:15:25,758 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-1] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 20:15:25,927 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] authenticated user admin, setting security context
2022-04-17 20:15:25,928 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:15:25,928 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:15:25,929 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:15:25,929 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8da4a8c7: Principal: com.mpos.prueba.security.JwtUser@76e52fb5; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 20:15:25,929 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:15:25,930 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-1] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1b868ef0
2022-04-17 20:15:25,930 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:15:25,930 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:15:25,931 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /'
2022-04-17 20:15:25,931 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /*.html'
2022-04-17 20:15:25,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /favicon.ico'
2022-04-17 20:15:25,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.html'
2022-04-17 20:15:25,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.css'
2022-04-17 20:15:25,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.js'
2022-04-17 20:15:25,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/auth/**'
2022-04-17 20:15:25,933 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/user/**'
2022-04-17 20:15:25,933 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/productCategory/changeStateProductCategoryById?id=1&newState=1; Attributes: [authenticated]
2022-04-17 20:15:25,933 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8da4a8c7: Principal: com.mpos.prueba.security.JwtUser@76e52fb5; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 20:15:25,938 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@61882bf5, returned: 1
2022-04-17 20:15:25,938 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorization successful
2022-04-17 20:15:25,938 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] RunAsManager did not change Authentication object
2022-04-17 20:15:25,938 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 20:15:25,977 ERROR com.mpos.prueba.controllers.ProductCategoryRestController [http-nio-8080-exec-1] org.springframework.security.core.userdetails.UsernameNotFoundException: El registro se encuentra en estado inactivo o eliminado'1'.
2022-04-17 20:15:26,003 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 20:15:26,003 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@bafa13
2022-04-17 20:15:26,004 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:17:35,471 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 23392 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 20:17:35,475 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 20:17:36,021 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 20:17:36,088 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 61ms. Found 4 repository interfaces.
2022-04-17 20:17:36,374 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$284e0c33] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:17:36,403 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$c0fbd46d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:17:36,407 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:17:36,409 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@75d4a80f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:17:36,411 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$e5d0771f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:17:36,415 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:17:36,731 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 20:17:36,751 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 20:17:36,752 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 20:17:36,761 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 20:17:36,846 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1336 ms
2022-04-17 20:17:37,093 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 20:17:37,483 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 20:17:37,538 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 20:17:37,610 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 20:17:37,612 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 20:17:37,780 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 20:17:37,933 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 20:17:38,937 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 20:17:39,522 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$cb110c25@89465d9}
2022-04-17 20:17:39,572 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:17:39,595 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:17:39,605 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:17:39,618 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:17:39,619 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:17:39,619 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:17:39,619 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:17:39,619 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:17:39,620 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:17:39,620 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:17:39,620 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:17:39,621 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:17:39,621 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:17:39,621 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:17:39,621 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:17:39,712 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 20:17:39,713 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 20:17:39,713 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 20:17:39,713 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 20:17:39,713 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 20:17:39,713 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 20:17:39,713 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 20:17:39,713 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 20:17:39,714 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 20:17:39,715 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:17:39,716 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:17:39,717 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15fd3088, org.springframework.security.web.context.SecurityContextPersistenceFilter@69926b6e, org.springframework.security.web.header.HeaderWriterFilter@180fb796, org.springframework.security.web.authentication.logout.LogoutFilter@347f8029, com.mpos.prueba.security.JwtAuthenticationTokenFilter@64e3bc2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a010eec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@633cad4d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f13e0a2, org.springframework.security.web.session.SessionManagementFilter@5eff5e4c, org.springframework.security.web.access.ExceptionTranslationFilter@558575fe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2681185e]
2022-04-17 20:17:39,874 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 20:17:39,924 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 20:17:40,108 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 20:17:40,110 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 4.971 seconds (JVM running for 5.626)
2022-04-17 20:18:50,752 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 15248 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 20:18:50,755 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 20:18:51,300 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 20:18:51,364 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 58ms. Found 4 repository interfaces.
2022-04-17 20:18:51,624 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ccd9b9db] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:18:51,656 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$65878215] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:18:51,660 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:18:51,662 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@59ed3e6c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:18:51,664 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$8a5c24c7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:18:51,667 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:18:51,992 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 20:18:52,012 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 20:18:52,012 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 20:18:52,021 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 20:18:52,105 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1317 ms
2022-04-17 20:18:52,356 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 20:18:52,748 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 20:18:52,803 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 20:18:52,871 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 20:18:52,873 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 20:18:53,033 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 20:18:53,199 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 20:18:54,194 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 20:18:54,760 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$6f9cb9cd@452e2210}
2022-04-17 20:18:54,809 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:18:54,830 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:18:54,839 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:18:54,849 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:18:54,850 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:18:54,850 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:18:54,850 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:18:54,851 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:18:54,851 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:18:54,851 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:18:54,851 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:18:54,852 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:18:54,852 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:18:54,852 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:18:54,852 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:18:54,947 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 20:18:54,948 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 20:18:54,948 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 20:18:54,948 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 20:18:54,948 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 20:18:54,948 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 20:18:54,948 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 20:18:54,948 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 20:18:54,948 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 20:18:54,949 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:18:54,950 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:18:54,952 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77648321, org.springframework.security.web.context.SecurityContextPersistenceFilter@3f78a5ed, org.springframework.security.web.header.HeaderWriterFilter@20462820, org.springframework.security.web.authentication.logout.LogoutFilter@12478b4e, com.mpos.prueba.security.JwtAuthenticationTokenFilter@4cbb11e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10b5ff4d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23cfdfa2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43201f84, org.springframework.security.web.session.SessionManagementFilter@61d24347, org.springframework.security.web.access.ExceptionTranslationFilter@468646ea, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a34de5e]
2022-04-17 20:18:55,106 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 20:18:55,154 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 20:18:55,344 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 20:18:55,345 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 4.931 seconds (JVM running for 5.669)
2022-04-17 20:19:12,683 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-04-17 20:19:12,693 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 9 ms
2022-04-17 20:19:12,703 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:19:12,704 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:19:12,706 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:19:12,709 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:19:12,710 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:19:12,710 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /logout'
2022-04-17 20:19:12,710 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:19:12,710 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/logout'
2022-04-17 20:19:12,710 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:19:12,710 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'PUT /logout'
2022-04-17 20:19:12,710 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:19:12,710 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'DELETE /logout'
2022-04-17 20:19:12,711 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 20:19:12,711 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:19:12,772 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-1] checking authentication for user null
2022-04-17 20:19:12,772 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:19:12,772 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:19:12,774 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:19:12,775 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@b9b8e740: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 20:19:12,776 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:19:12,776 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:19:12,776 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:19:12,777 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /'
2022-04-17 20:19:12,777 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /*.html'
2022-04-17 20:19:12,777 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /favicon.ico'
2022-04-17 20:19:12,777 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.html'
2022-04-17 20:19:12,777 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.css'
2022-04-17 20:19:12,778 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.js'
2022-04-17 20:19:12,778 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/auth/**'
2022-04-17 20:19:12,778 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/user/**'
2022-04-17 20:19:12,778 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Secure object: FilterInvocation: URL: /api/productCategory/changeStateProductCategoryById?id=1&newState=1; Attributes: [authenticated]
2022-04-17 20:19:12,778 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@b9b8e740: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 20:19:12,782 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-1] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@615455c1, returned: -1
2022-04-17 20:19:12,786 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 20:19:12,789 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Calling Authentication entry point.
2022-04-17 20:19:12,790 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-1] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@54d2827f
2022-04-17 20:19:12,791 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:19:12,794 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1&newState=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:19:12,794 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1&newState=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:19:12,794 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1&newState=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:19:12,794 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1&newState=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:19:12,794 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:19:12,794 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /error' doesn't match 'GET /logout'
2022-04-17 20:19:12,794 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:19:12,794 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Checking match of request : '/error'; against '/logout'
2022-04-17 20:19:12,795 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:19:12,795 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /error' doesn't match 'PUT /logout'
2022-04-17 20:19:12,795 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:19:12,795 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-1] Request 'POST /error' doesn't match 'DELETE /logout'
2022-04-17 20:19:12,795 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-1] No matches found
2022-04-17 20:19:12,795 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1&newState=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:19:12,795 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1&newState=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:19:12,795 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1&newState=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:19:12,795 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1&newState=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:19:12,795 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@b9b8e740: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 20:19:12,796 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1&newState=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:19:12,796 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1&newState=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:19:12,796 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1&newState=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:19:12,796 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] /error?id=1&newState=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 20:19:12,861 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-1] Chain processed normally
2022-04-17 20:19:12,861 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:19:16,330 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:19:16,330 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:19:16,330 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:19:16,330 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:19:16,330 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:19:16,331 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 20:19:16,331 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:19:16,331 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/logout'
2022-04-17 20:19:16,331 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:19:16,331 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 20:19:16,332 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:19:16,332 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 20:19:16,332 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 20:19:16,332 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:19:16,332 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user null
2022-04-17 20:19:16,332 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:19:16,333 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:19:16,333 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:19:16,333 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@b9b8e740: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 20:19:16,333 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:19:16,333 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:19:16,333 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:19:16,333 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 20:19:16,334 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 20:19:16,334 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 20:19:16,334 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 20:19:16,334 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 20:19:16,334 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 20:19:16,334 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 20:19:16,335 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 20:19:16,335 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@b9b8e740: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 20:19:16,337 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@615455c1, returned: 1
2022-04-17 20:19:16,337 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 20:19:16,337 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 20:19:16,337 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 20:19:16,374 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-3] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 20:19:16,480 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-3] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 20:19:16,674 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@54d2827f
2022-04-17 20:19:16,676 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 20:19:16,677 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:19:28,818 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:19:28,819 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:19:28,819 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:19:28,819 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:19:28,820 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:19:28,820 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /logout'
2022-04-17 20:19:28,820 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:19:28,820 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/logout'
2022-04-17 20:19:28,820 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:19:28,820 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'PUT /logout'
2022-04-17 20:19:28,821 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:19:28,821 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'DELETE /logout'
2022-04-17 20:19:28,821 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 20:19:28,821 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:19:28,825 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user admin
2022-04-17 20:19:28,850 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] authenticated user admin, setting security context
2022-04-17 20:19:28,850 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:19:28,850 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:19:28,851 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:19:28,851 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@aeb382e5: Principal: com.mpos.prueba.security.JwtUser@55f20597; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 20:19:28,851 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:19:28,851 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-4] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4965454c
2022-04-17 20:19:28,851 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:19:28,851 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:19:28,851 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /'
2022-04-17 20:19:28,852 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /*.html'
2022-04-17 20:19:28,852 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /favicon.ico'
2022-04-17 20:19:28,852 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.html'
2022-04-17 20:19:28,852 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.css'
2022-04-17 20:19:28,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'POST /api/productCategory/changeStateProductCategoryById' doesn't match 'GET /**/*.js'
2022-04-17 20:19:28,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/auth/**'
2022-04-17 20:19:28,853 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/changeStateProductCategoryById'; against '/user/**'
2022-04-17 20:19:28,853 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /api/productCategory/changeStateProductCategoryById?id=1&newState=1; Attributes: [authenticated]
2022-04-17 20:19:28,853 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@aeb382e5: Principal: com.mpos.prueba.security.JwtUser@55f20597; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 20:19:28,854 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@615455c1, returned: 1
2022-04-17 20:19:28,854 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 20:19:28,854 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 20:19:28,854 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/changeStateProductCategoryById?id=1&newState=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 20:19:28,901 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Chain processed normally
2022-04-17 20:19:28,902 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-4] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@54d2827f
2022-04-17 20:19:28,902 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:19:41,633 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/getProductsByProductCategory?productCategoryId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:19:41,634 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/getProductsByProductCategory?productCategoryId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:19:41,634 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/getProductsByProductCategory?productCategoryId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:19:41,634 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/getProductsByProductCategory?productCategoryId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:19:41,634 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:19:41,634 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/product/getProductsByProductCategory'; against '/logout'
2022-04-17 20:19:41,634 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:19:41,634 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/product/getProductsByProductCategory' doesn't match 'POST /logout'
2022-04-17 20:19:41,634 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:19:41,634 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/product/getProductsByProductCategory' doesn't match 'PUT /logout'
2022-04-17 20:19:41,635 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:19:41,635 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /api/product/getProductsByProductCategory' doesn't match 'DELETE /logout'
2022-04-17 20:19:41,635 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 20:19:41,635 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/getProductsByProductCategory?productCategoryId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:19:41,637 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-5] checking authentication for user null
2022-04-17 20:19:41,637 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/getProductsByProductCategory?productCategoryId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:19:41,637 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/getProductsByProductCategory?productCategoryId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:19:41,637 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/getProductsByProductCategory?productCategoryId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:19:41,637 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@b9b8e740: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 20:19:41,638 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/getProductsByProductCategory?productCategoryId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:19:41,638 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/getProductsByProductCategory?productCategoryId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:19:41,638 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /api/product/getProductsByProductCategory?productCategoryId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:19:41,638 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/product/getProductsByProductCategory'; against '/'
2022-04-17 20:19:41,638 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/product/getProductsByProductCategory'; against '/*.html'
2022-04-17 20:19:41,638 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/product/getProductsByProductCategory'; against '/favicon.ico'
2022-04-17 20:19:41,639 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/product/getProductsByProductCategory'; against '/**/*.html'
2022-04-17 20:19:41,639 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/product/getProductsByProductCategory'; against '/**/*.css'
2022-04-17 20:19:41,639 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/product/getProductsByProductCategory'; against '/**/*.js'
2022-04-17 20:19:41,639 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/product/getProductsByProductCategory'; against '/auth/**'
2022-04-17 20:19:41,639 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/api/product/getProductsByProductCategory'; against '/user/**'
2022-04-17 20:19:41,639 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Secure object: FilterInvocation: URL: /api/product/getProductsByProductCategory?productCategoryId=1; Attributes: [authenticated]
2022-04-17 20:19:41,640 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@b9b8e740: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 20:19:41,640 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-5] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@615455c1, returned: -1
2022-04-17 20:19:41,640 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 20:19:41,641 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Calling Authentication entry point.
2022-04-17 20:19:41,641 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-5] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@54d2827f
2022-04-17 20:19:41,641 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:19:41,642 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?productCategoryId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:19:41,642 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?productCategoryId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:19:41,642 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?productCategoryId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:19:41,642 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?productCategoryId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:19:41,642 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:19:41,642 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Checking match of request : '/error'; against '/logout'
2022-04-17 20:19:41,642 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:19:41,642 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 20:19:41,642 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:19:41,643 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 20:19:41,643 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:19:41,643 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-5] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 20:19:41,643 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-5] No matches found
2022-04-17 20:19:41,643 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?productCategoryId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:19:41,643 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?productCategoryId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:19:41,643 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?productCategoryId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:19:41,643 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?productCategoryId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:19:41,643 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@b9b8e740: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 20:19:41,643 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?productCategoryId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:19:41,643 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?productCategoryId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:19:41,644 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?productCategoryId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:19:41,644 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] /error?productCategoryId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 20:19:41,646 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-5] Chain processed normally
2022-04-17 20:19:41,646 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:19:50,576 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductsByProductCategory?productCategoryId=1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:19:50,576 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductsByProductCategory?productCategoryId=1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:19:50,576 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductsByProductCategory?productCategoryId=1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:19:50,576 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductsByProductCategory?productCategoryId=1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:19:50,576 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:19:50,577 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductsByProductCategory'; against '/logout'
2022-04-17 20:19:50,577 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:19:50,577 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/product/getProductsByProductCategory' doesn't match 'POST /logout'
2022-04-17 20:19:50,577 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:19:50,577 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/product/getProductsByProductCategory' doesn't match 'PUT /logout'
2022-04-17 20:19:50,577 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:19:50,577 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Request 'GET /api/product/getProductsByProductCategory' doesn't match 'DELETE /logout'
2022-04-17 20:19:50,577 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-6] No matches found
2022-04-17 20:19:50,577 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductsByProductCategory?productCategoryId=1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:19:50,578 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] checking authentication for user admin
2022-04-17 20:19:50,585 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-6] authenticated user admin, setting security context
2022-04-17 20:19:50,585 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductsByProductCategory?productCategoryId=1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:19:50,585 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductsByProductCategory?productCategoryId=1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:19:50,585 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductsByProductCategory?productCategoryId=1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:19:50,586 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bfbda726: Principal: com.mpos.prueba.security.JwtUser@44fc2054; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 20:19:50,586 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductsByProductCategory?productCategoryId=1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:19:50,586 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-6] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4965454c
2022-04-17 20:19:50,586 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductsByProductCategory?productCategoryId=1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:19:50,586 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductsByProductCategory?productCategoryId=1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:19:50,586 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductsByProductCategory'; against '/'
2022-04-17 20:19:50,587 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductsByProductCategory'; against '/*.html'
2022-04-17 20:19:50,587 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductsByProductCategory'; against '/favicon.ico'
2022-04-17 20:19:50,587 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductsByProductCategory'; against '/**/*.html'
2022-04-17 20:19:50,587 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductsByProductCategory'; against '/**/*.css'
2022-04-17 20:19:50,587 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductsByProductCategory'; against '/**/*.js'
2022-04-17 20:19:50,587 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductsByProductCategory'; against '/auth/**'
2022-04-17 20:19:50,588 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-6] Checking match of request : '/api/product/getProductsByProductCategory'; against '/user/**'
2022-04-17 20:19:50,588 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Secure object: FilterInvocation: URL: /api/product/getProductsByProductCategory?productCategoryId=1; Attributes: [authenticated]
2022-04-17 20:19:50,588 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bfbda726: Principal: com.mpos.prueba.security.JwtUser@44fc2054; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 20:19:50,588 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-6] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@615455c1, returned: 1
2022-04-17 20:19:50,588 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorization successful
2022-04-17 20:19:50,588 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] RunAsManager did not change Authentication object
2022-04-17 20:19:50,588 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] /api/product/getProductsByProductCategory?productCategoryId=1 reached end of additional filter chain; proceeding with original chain
2022-04-17 20:19:50,607 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-6] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@54d2827f
2022-04-17 20:19:50,608 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-6] Chain processed normally
2022-04-17 20:19:50,609 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:46:33,367 INFO org.springframework.boot.StartupInfoLogger [main] Starting PruebaApplication on DESKTOP-27NGR3V with PID 10112 (C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos\target\classes started by user in C:\Users\user\Desktop\PruebaMPOS\PruebaBackEndMpos)
2022-04-17 20:46:33,370 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-04-17 20:46:33,923 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2022-04-17 20:46:33,990 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 61ms. Found 4 repository interfaces.
2022-04-17 20:46:34,250 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f4cd8336] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:46:34,280 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$8d7b4b70] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:46:34,285 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:46:34,286 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@41fe8e5f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:46:34,288 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b24fee22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:46:34,291 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-17 20:46:34,614 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-04-17 20:46:34,633 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-04-17 20:46:34,634 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.16]
2022-04-17 20:46:34,643 INFO org.apache.juli.logging.DirectJDKLog [main] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_202\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_202\jre\bin;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin/server;C:/Users/user/Desktop/Programas desarrollo/sts-4.13.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.1.v20211116-1657/jre/bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Java\jdk1.8.0_202\bin;C:\Program Files\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\PuTTY\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\Tools\Binn\;C:\Program Files\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\apache-maven-3.3.9\bin;C:\Program Files (x86)\Microsoft SQL Server\150\DTS\Binn\;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Users\user\AppData\Local\Microsoft\WindowsApps;C:\Users\user\AppData\Local\Programs\Microsoft VS Code\bin;C:\Program Files\Azure Data Studio\bin;C:\Users\user\AppData\Roaming\nvm;C:\Program Files\nodejs;C:\Program Files\nodejsx;C:\Users\user\AppData\Roaming\npm;C:\Program Files\apache-maven-3.3.9\bin;C:\Users\user\AppData\Local\nvs\;C:\Users\user\Desktop\Programas desarrollo\sts-4.13.0.RELEASE;;.]
2022-04-17 20:46:34,732 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1329 ms
2022-04-17 20:46:34,998 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-04-17 20:46:35,403 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-04-17 20:46:35,459 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2022-04-17 20:46:35,528 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2022-04-17 20:46:35,530 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2022-04-17 20:46:35,691 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2022-04-17 20:46:35,860 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect
2022-04-17 20:46:36,912 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-17 20:46:37,495 DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer [main] Eagerly initializing {webSecurityConfig=com.mpos.prueba.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$97908328@3c8e4a82}
2022-04-17 20:46:37,544 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:46:37,563 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserById(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:46:37,571 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:46:37,581 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:46:37,582 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.updateUser(java.lang.Long,com.mpos.to.UserPutTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:46:37,582 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:46:37,582 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.saveUser(com.mpos.to.UserPostTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:46:37,582 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:46:37,582 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByIdForCompleteReport(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:46:37,583 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:46:37,583 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUserByUsername(java.lang.String)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:46:37,583 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:46:37,583 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.getUsersByAutorityId(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:46:37,583 DEBUG org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource [main] @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ADMIN')) found on: com.mpos.prueba.controllers.UserRestController
2022-04-17 20:46:37,584 DEBUG org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource [main] Caching method [CacheKey[com.mpos.prueba.controllers.UserRestController; public org.springframework.http.ResponseEntity com.mpos.prueba.controllers.UserRestController.changeStateUserById(java.lang.Long,int)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2022-04-17 20:46:37,676 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/', GET]
2022-04-17 20:46:37,677 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/*.html', GET]
2022-04-17 20:46:37,677 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/favicon.ico', GET]
2022-04-17 20:46:37,677 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.html', GET]
2022-04-17 20:46:37,677 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.css', GET]
2022-04-17 20:46:37,677 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/**/*.js', GET]
2022-04-17 20:46:37,678 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'permitAll', for Ant [pattern='/auth/**']
2022-04-17 20:46:37,678 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/user/**']
2022-04-17 20:46:37,678 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource [main] Adding web access control expression 'authenticated', for any request
2022-04-17 20:46:37,679 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:46:37,679 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [main] Validated configuration attributes
2022-04-17 20:46:37,681 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61d24347, org.springframework.security.web.context.SecurityContextPersistenceFilter@5644f664, org.springframework.security.web.header.HeaderWriterFilter@237ee2e1, org.springframework.security.web.authentication.logout.LogoutFilter@6d8096ee, com.mpos.prueba.security.JwtAuthenticationTokenFilter@1e4d93f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27f31d91, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@61f08aa9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@347f8029, org.springframework.security.web.session.SessionManagementFilter@4965454c, org.springframework.security.web.access.ExceptionTranslationFilter@68fc636a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@46051269]
2022-04-17 20:46:37,834 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2022-04-17 20:46:37,883 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-17 20:46:38,109 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-04-17 20:46:38,111 INFO org.springframework.boot.StartupInfoLogger [main] Started PruebaApplication in 5.083 seconds (JVM running for 5.843)
2022-04-17 20:47:19,576 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-04-17 20:47:19,585 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 8 ms
2022-04-17 20:47:19,598 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/getAllProductsCategory at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:47:19,599 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/getAllProductsCategory at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:47:19,601 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/getAllProductsCategory at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:47:19,603 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/getAllProductsCategory at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:47:19,604 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:47:19,604 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/logout'
2022-04-17 20:47:19,604 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:47:19,604 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/productCategory/getAllProductsCategory' doesn't match 'POST /logout'
2022-04-17 20:47:19,605 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:47:19,605 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/productCategory/getAllProductsCategory' doesn't match 'PUT /logout'
2022-04-17 20:47:19,605 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:47:19,605 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /api/productCategory/getAllProductsCategory' doesn't match 'DELETE /logout'
2022-04-17 20:47:19,605 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 20:47:19,606 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/getAllProductsCategory at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:47:19,671 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-2] checking authentication for user null
2022-04-17 20:47:19,671 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/getAllProductsCategory at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:47:19,671 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/getAllProductsCategory at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:47:19,671 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/getAllProductsCategory at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:47:19,673 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@40ac817f: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 20:47:19,673 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/getAllProductsCategory at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:47:19,674 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/getAllProductsCategory at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:47:19,674 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /api/productCategory/getAllProductsCategory at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:47:19,675 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/'
2022-04-17 20:47:19,675 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/*.html'
2022-04-17 20:47:19,675 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/favicon.ico'
2022-04-17 20:47:19,675 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/**/*.html'
2022-04-17 20:47:19,676 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/**/*.css'
2022-04-17 20:47:19,676 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/**/*.js'
2022-04-17 20:47:19,676 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/auth/**'
2022-04-17 20:47:19,676 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/user/**'
2022-04-17 20:47:19,676 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Secure object: FilterInvocation: URL: /api/productCategory/getAllProductsCategory; Attributes: [authenticated]
2022-04-17 20:47:19,677 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@40ac817f: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 20:47:19,681 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-2] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7a28ea7, returned: -1
2022-04-17 20:47:19,685 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.mpos.prueba.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2022-04-17 20:47:19,688 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Calling Authentication entry point.
2022-04-17 20:47:19,689 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-2] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1b6232cf
2022-04-17 20:47:19,690 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:47:19,693 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:47:19,694 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:47:19,694 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:47:19,694 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:47:19,694 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:47:19,694 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Checking match of request : '/error'; against '/logout'
2022-04-17 20:47:19,695 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:47:19,695 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'POST /logout'
2022-04-17 20:47:19,695 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:47:19,695 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'PUT /logout'
2022-04-17 20:47:19,695 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:47:19,695 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-2] Request 'GET /error' doesn't match 'DELETE /logout'
2022-04-17 20:47:19,695 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-2] No matches found
2022-04-17 20:47:19,695 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:47:19,695 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:47:19,695 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:47:19,696 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:47:19,696 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@40ac817f: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 20:47:19,696 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:47:19,696 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:47:19,696 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:47:19,696 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] /error reached end of additional filter chain; proceeding with original chain
2022-04-17 20:47:19,772 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-2] Chain processed normally
2022-04-17 20:47:19,773 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:47:22,928 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:47:22,928 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:47:22,929 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:47:22,929 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:47:22,929 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:47:22,929 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /logout'
2022-04-17 20:47:22,929 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:47:22,929 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/logout'
2022-04-17 20:47:22,929 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:47:22,930 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'PUT /logout'
2022-04-17 20:47:22,930 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:47:22,930 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'DELETE /logout'
2022-04-17 20:47:22,930 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-3] No matches found
2022-04-17 20:47:22,930 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:47:22,931 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-3] checking authentication for user null
2022-04-17 20:47:22,931 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:47:22,931 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:47:22,931 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:47:22,931 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@40ac817f: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2022-04-17 20:47:22,931 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:47:22,931 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:47:22,932 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:47:22,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /'
2022-04-17 20:47:22,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /*.html'
2022-04-17 20:47:22,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /favicon.ico'
2022-04-17 20:47:22,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.html'
2022-04-17 20:47:22,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.css'
2022-04-17 20:47:22,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Request 'POST /auth' doesn't match 'GET /**/*.js'
2022-04-17 20:47:22,932 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-3] Checking match of request : '/auth'; against '/auth/**'
2022-04-17 20:47:22,933 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Secure object: FilterInvocation: URL: /auth; Attributes: [permitAll]
2022-04-17 20:47:22,933 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@40ac817f: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2022-04-17 20:47:22,934 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-3] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7a28ea7, returned: 1
2022-04-17 20:47:22,934 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorization successful
2022-04-17 20:47:22,935 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] RunAsManager did not change Authentication object
2022-04-17 20:47:22,935 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] /auth reached end of additional filter chain; proceeding with original chain
2022-04-17 20:47:22,969 DEBUG org.springframework.security.authentication.ProviderManager [http-nio-8080-exec-3] Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2022-04-17 20:47:23,073 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [http-nio-8080-exec-3] HHH000397: Using ASTQueryTranslatorFactory
2022-04-17 20:47:23,260 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-3] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1b6232cf
2022-04-17 20:47:23,262 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-3] Chain processed normally
2022-04-17 20:47:23,263 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] SecurityContextHolder now cleared, as request processing completed
2022-04-17 20:47:33,385 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getAllProductsCategory at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2022-04-17 20:47:33,385 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getAllProductsCategory at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2022-04-17 20:47:33,385 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getAllProductsCategory at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2022-04-17 20:47:33,386 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getAllProductsCategory at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2022-04-17 20:47:33,386 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', GET]
2022-04-17 20:47:33,386 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/logout'
2022-04-17 20:47:33,386 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', POST]
2022-04-17 20:47:33,386 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/productCategory/getAllProductsCategory' doesn't match 'POST /logout'
2022-04-17 20:47:33,386 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', PUT]
2022-04-17 20:47:33,386 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/productCategory/getAllProductsCategory' doesn't match 'PUT /logout'
2022-04-17 20:47:33,386 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] Trying to match using Ant [pattern='/logout', DELETE]
2022-04-17 20:47:33,386 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Request 'GET /api/productCategory/getAllProductsCategory' doesn't match 'DELETE /logout'
2022-04-17 20:47:33,386 DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher [http-nio-8080-exec-4] No matches found
2022-04-17 20:47:33,387 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getAllProductsCategory at position 5 of 11 in additional filter chain; firing Filter: 'JwtAuthenticationTokenFilter'
2022-04-17 20:47:33,390 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] checking authentication for user admin
2022-04-17 20:47:33,412 INFO com.mpos.prueba.security.JwtAuthenticationTokenFilter [http-nio-8080-exec-4] authenticated user admin, setting security context
2022-04-17 20:47:33,412 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getAllProductsCategory at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2022-04-17 20:47:33,412 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getAllProductsCategory at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2022-04-17 20:47:33,412 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getAllProductsCategory at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2022-04-17 20:47:33,413 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f75a0a9e: Principal: com.mpos.prueba.security.JwtUser@c1b8dec; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN'
2022-04-17 20:47:33,413 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getAllProductsCategory at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2022-04-17 20:47:33,413 DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [http-nio-8080-exec-4] Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5543d800
2022-04-17 20:47:33,413 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getAllProductsCategory at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2022-04-17 20:47:33,413 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getAllProductsCategory at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2022-04-17 20:47:33,413 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/'
2022-04-17 20:47:33,413 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/*.html'
2022-04-17 20:47:33,414 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/favicon.ico'
2022-04-17 20:47:33,414 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/**/*.html'
2022-04-17 20:47:33,414 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/**/*.css'
2022-04-17 20:47:33,414 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/**/*.js'
2022-04-17 20:47:33,414 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/auth/**'
2022-04-17 20:47:33,414 DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher [http-nio-8080-exec-4] Checking match of request : '/api/productCategory/getAllProductsCategory'; against '/user/**'
2022-04-17 20:47:33,415 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Secure object: FilterInvocation: URL: /api/productCategory/getAllProductsCategory; Attributes: [authenticated]
2022-04-17 20:47:33,415 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f75a0a9e: Principal: com.mpos.prueba.security.JwtUser@c1b8dec; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER, ROLE_ADMIN
2022-04-17 20:47:33,415 DEBUG org.springframework.security.access.vote.AffirmativeBased [http-nio-8080-exec-4] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7a28ea7, returned: 1
2022-04-17 20:47:33,415 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorization successful
2022-04-17 20:47:33,415 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] RunAsManager did not change Authentication object
2022-04-17 20:47:33,416 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] /api/productCategory/getAllProductsCategory reached end of additional filter chain; proceeding with original chain
2022-04-17 20:47:33,435 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter [http-nio-8080-exec-4] Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1b6232cf
2022-04-17 20:47:33,435 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter [http-nio-8080-exec-4] Chain processed normally
2022-04-17 20:47:33,435 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] SecurityContextHolder now cleared, as request processing completed
